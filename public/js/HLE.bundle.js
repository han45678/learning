!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("HLE",[],n):"object"==typeof exports?exports.HLE=n():t.HLE=n()}(window,function(){return r={},o.m=n=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1).default,o=i.trace,r=i.notNull,a=i.isNull,s=i.isTrue,u=n(19).default,l=u.prefixNumberStr,d=u.loadJSON,h=n(20).default.randomInt,p=n(21).default,c=p.getArrayUnique,f=p.checkArrayEquals,g=p.shuffleArray,_=n(22).default,v=_.playSoundCheckLoadRequest,m=_.playSound,b=_.playWebAudioSound,y=_.playWebAudioSound2,P=n(23).default.playWebVideo,M=n(24).default.collisionTest,O=n(25).default,S=O.applyMultiply,B=O.unapplyMultiply,x=O.applyColorFilter,k=O.applyColorGrayFilter,w=O.unapplyColorFilter,C=n(26).default,I=C.generateExtraCommand,N=C.sendExtraCommand,T=C.getHtmlhrefValue,j=C.supportPassive,L=C.createNewEvent,A=C.isIOS;t.default={trace:o,notNull:r,isNull:a,isTrue:s,prefixNumberStr:l,loadJSON:d,randomInt:h,getArrayUnique:c,checkArrayEquals:f,shuffleArray:g,playSoundCheckLoadRequest:v,playSound:m,playWebAudioSound:b,playWebAudioSound2:y,playWebVideo:P,collisionTest:M,applyMultiply:S,unapplyMultiply:B,applyColorFilter:x,applyColorGrayFilter:k,unapplyColorFilter:w,generateExtraCommand:I,sendExtraCommand:N,getHtmlhrefValue:T,supportPassive:j,createNewEvent:L,isIOS:A}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={trace:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i]},notNull:function e(t){return null!=t},isNull:function e(t){return null==t},isTrue:function e(t){return"string"==typeof t&&"true"===t.toLowerCase()||("boolean"==typeof t?t:Boolean(t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(3).BasePage,c=n(4).ModuleGoOutCommand,f=n(5).ModuleBookSound,g=n(6).ModuleAnsZone,_=n(7).ModulePlaySwitchSound,v=n(8).ModuleListPop,m=n(9).ModuleSwitchPop,b=n(10).ModuleStopTouch,y=n(11).ModuleDragListPop,P=n(12).ModulePageActSoundMV,M=n(13).ModulePager,O=n(14).ModuleWordsNavigator,S=n(15).ModuleOnAndOff,B=n(16).ModuleCalculator,x=n(17).ModulePureAnimate,k=n(18).ModuleZoom,w=(h(I,C=p),i(I,[{key:"init",value:function e(){r(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam)),window.callDelayPageInitComplete&&window.callDelayPageInitComplete()}},{key:"getGoOutCommandItemList",value:function e(){return this.isInited||this.init(),this._moduleGoOutCommand?this._moduleGoOutCommand.getPickListName():null}},{key:"interrupt",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.stop(i,o,!0)}},{key:"stop",value:function e(t,n,i){var o=0<arguments.length&&void 0!==t?t:null,r=1<arguments.length&&void 0!==n&&n,a=2<arguments.length&&void 0!==i&&i;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(o=this.soundObj.excludeTags),s.default.isNull(o)&&(o=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(o=o.concat(this.videoObj.excludeTags)),-1===o.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&!a&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&!a&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.stop(),this._moduleGoOutCommand&&-1===o.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.stop(),this._moduleBookSound&&-1===o.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.stop(),this._modulePlaySwitchSound&&-1===o.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.stop(),this._moduleListPop&&-1===o.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.stop(),this._moduleSwitchPop&&-1===o.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.stop(),this._moduleStopTouch&&-1===o.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.stop(),this._moduleDragListPop&&-1===o.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.stop(),this._modulePageActSoundMV&&-1===o.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.stop(),this._modulePager&&-1===o.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.stop(),this._moduleWordsNavigator&&-1===o.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.stop(),this._moduleOnAndOff&&-1===o.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.stop(),this._moduleCalculator&&-1===o.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.stop(),this._modulePureAnimate&&-1===o.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.stop(),this._moduleAnsZone&&-1===o.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.stop(),this._moduleZoom&&-1===o.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.stop(),this.soundObj=null,this.soundChannel=null,-1===o.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),r&&this.sendCommand("Stop","Stop")}},{key:"reset",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(i=this.soundObj.excludeTags),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.reset(),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleBookSound&&-1===i.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.reset(),this._modulePlaySwitchSound&&-1===i.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePageActSoundMV&&-1===i.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),this.soundObj=null,this.soundChannel=null,-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),o&&this.sendCommand("Reset","Reset")}},{key:"resetAbortSound",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),o&&this.sendCommand("ResetAbortSound","ResetAbortSound")}},{key:"clearSoundChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundObj=null,this.soundChannel=null,this.createjs.Sound.removeAllSounds()}},{key:"clearVideoChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoObj=null,this.videoChannel=null}},{key:"updatePageParam",value:function e(t){s.default.isNull(t)||(r(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"updatePageParam",this).call(this,t),s.default.trace("updatePageParam:",this.pageParam),0===this.pageParam.length&&(this.pageParam[0]=1),this._moduleWordsNavigator?(this._moduleWordsNavigator.useJSON=!0,1===this.pageParam.length&&(this.pageParam[1]=1),this._modulePager&&(this._modulePager.useNav=!0,this._modulePager.useJSON=!0),this._moduleWordsNavigator.reset()):this._modulePager&&(this._modulePager.useNav=!1,this._modulePager.useJSON=!0,this._modulePager.reset()),this._moduleSwitchPop&&this._moduleSwitchPop.reset())}},{key:"updatePageProps",value:function e(){s.default.trace("updatePageProps:","wbcMode:",this.wbcMode,",webMode:",this.webMode,",mobileMode:",this.mobileMode,"actWinNavHide",this.actWinNavHide,"actWinWordGroupHide",this.actWinWordGroupHide),this._moduleGoOutCommand&&this._moduleGoOutCommand.reset(),this._moduleListPop&&this._moduleListPop.reset(),this._moduleDragListPop&&this._moduleDragListPop.reset(),this._moduleWordsNavigator&&this._moduleWordsNavigator.reset(),this._moduleSwitchPop&&this._moduleSwitchPop.reset()}},{key:"getZoomInInfo",value:function e(){return this.isInited||this.init(),this._moduleZoom?this._moduleZoom.getZoomInInfoList():[]}},{key:"injectPagerMarqueeData",value:function e(t){this.marqueePagerData=t}},{key:"updatePagerIndex",value:function e(t,n){this._modulePager&&this._modulePager.update(t,n)}},{key:"initModules",value:function e(){this.isInited&&(r(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"initModules",this).call(this),this._moduleGoOutCommand=new c(this).init(),this._moduleBookSound=new f(this).init(),this._moduleAnsZone=new g(this).init(),this._modulePlaySwitchSound=new _(this).init(),this._moduleListPop=new v(this).init(),this._moduleSwitchPop=new m(this).init(),this._moduleStopTouch=new b(this).init(),this._moduleDragListPop=new y(this).init(),this._modulePageActSoundMV=new P(this).init(),this._modulePager=new M(this).init(),this._moduleWordsNavigator=new O(this).init(),this._moduleOnAndOff=new S(this).init(),this._moduleCalculator=new B(this).init(),this._modulePureAnimate=new x(this).init(),this._moduleZoom=new k(this).init())}},{key:"reinitModules",value:function e(t){if(this.isInited){if(s.default.isNull(this._moduleGoOutCommand)?this._moduleGoOutCommand=new c(this).init(t):this._moduleGoOutCommand.reinit(t),s.default.isNull(this._moduleBookSound)?this._moduleBookSound=new f(this).init(t):this._moduleBookSound.reinit(t),s.default.isNull(this._moduleAnsZone)?this._moduleAnsZone=new g(this).init(t):this._moduleAnsZone.reinit(t),s.default.isNull(this._modulePlaySwitchSound)?this._modulePlaySwitchSound=new _(this).init(t):this._modulePlaySwitchSound.reinit(t),s.default.isNull(this._moduleListPop)?this._moduleListPop=new v(this).init(t):this._moduleListPop.reinit(t),s.default.isNull(this._moduleSwitchPop)?this._moduleSwitchPop=new m(this).init(t):this._moduleSwitchPop.reinit(t),s.default.isNull(this._moduleStopTouch)?this._moduleStopTouch=new b(this).init(t):this._moduleStopTouch.reinit(t),s.default.isNull(this._moduleDragListPop)?this._moduleDragListPop=new y(this).init(t):this._moduleDragListPop.reinit(t),s.default.isNull(this._modulePageActSoundMV)?this._modulePageActSoundMV=new P(this).init(t):this._modulePageActSoundMV.reinit(t),s.default.isNull(this._modulePager)?this._modulePager=new M(this).init(t):this._modulePager.reinit(t),s.default.isNull(this._moduleWordsNavigator)?this._moduleWordsNavigator=new O(this).init(t):this._moduleWordsNavigator.reinit(t),s.default.isNull(this._moduleOnAndOff)?this._moduleOnAndOff=new S(this).init(t):this._moduleOnAndOff.reinit(t),s.default.isNull(this._moduleCalculator)?this._moduleCalculator=new B(this).init(t):this._moduleCalculator.reinit(t),s.default.isNull(this._modulePureAnimate)?this._modulePureAnimate=new x(this).init(t):this._modulePureAnimate.reinit(t),s.default.isNull(this._moduleZoom)?this._moduleZoom=new k(this).init(t):this._moduleZoom.reinit(t),s.default.notNull(this.__backInfo))switch(this.__backInfo.TYPE){case"words-navigator":this.__backInfo.target.showWordFunc(this.__backInfo.target,this.__backInfo.index,this.__backInfo.subindex,this.__backInfo.pagerindex,this.__backInfo.changeBar)}this.__backInfo=null,this.__loadinfo=null}}}]),I),C;function I(e,t,n,i){l(this,I);var o=d(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.CommonBookPage=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,g=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(27).SoundPlayerBar,l=n(28).VideoPlayerBar,d=(i(h,[{key:"openAlphabeticFix",value:function e(){this.textAlphabeticFixYScale=.77}},{key:"closeAlphabeticFix",value:function e(){this.textAlphabeticFixYScale=0}},{key:"setupBGListenZone",value:function e(t,n,i){var o=0<arguments.length&&void 0!==t?t:1,r=1<arguments.length&&void 0!==n?n:1,a=2<arguments.length&&void 0!==i?i:"mousedown";this.isInited||this.init(),g.default.notNull(this._bgShape)&&(this._bgShape.removeEventListener(this._bgListenZoneBehavior,this.triggerBGMousedownBind),this.exportRoot.contains(this._bgShape)&&this.exportRoot.removeChild(this._bgShape),this._bgShape.uncache(),this._bgShape.graphics.clear()),this._bgShape=new this.createjs.Shape,this._bgShape.graphics.beginFill("#000000").drawRect(0,0,o,r),this._bgShape.alpha=.01,this._bgShape.cache(0,0,o,r),this.exportRoot.addChildAt(this._bgShape,0),this._bgShape.addEventListener(a,this.triggerBGMousedownBind),this._bgListenZoneBehavior=a}},{key:"triggerBGMousedown",value:function e(t){this.sendCommand("BGMouseTrigger","BGMouseTrigger_"+this._bgListenZoneBehavior),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"init",value:function e(){this.isInited||(this._waitInited=!1,this.isInited=!0,this.initModules(),this.updatePageProps(),this.sendCommand("Inited","Inited",this),this._moduleDelayInit=!0,this._waitInited=!0)}},{key:"initByModule",value:function e(){this.initForModuleDelayCallback(),g.default.notNull(this.pageParam)&&(this.updatePageParam(JSON.stringify(this.pageParam)),this._waitInited=!0,0===this.pageParam.length&&(this.pageParam[0]=1),this._moduleWordsNavigator?(this._moduleWordsNavigator.useJSON=!0,1===this.pageParam.length&&(this.pageParam[1]=1),this._modulePager&&(this._modulePager.useNav=!0,this._modulePager.useJSON=!0),this._moduleWordsNavigator.reset()):this._modulePager&&(this._modulePager.useNav=!1,this._modulePager.useJSON=!0,this._modulePager.reset()))}},{key:"initForModuleDelayCallback",value:function e(){this.isInited||(this._waitInited=!1,this.isInited=!0,this.initModules())}},{key:"loadContentByModule",value:function e(n,i){if(void 0!==n){this._moduleDelayInit&&(document.getElementById("_preload_div_").style.display="inline-block",document.getElementById("canvas").style.display="block");var o=this,t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript";var a=[];for(var s in window.AdobeAn.compositions)g.default.notNull(s)&&""!==s&&a.push(s);r.onload=r.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){r.onload=r.onreadystatechange=null;var e=!1;for(var t in window.AdobeAn.compositions)if(-1===a.indexOf(t)){e=!0,o.loadContentInstanceByModule(t,n,i);break}e||alert("載入頁面ID發現重覆:\n"+r.src)}},r.onerror=function(e){o._moduleDelayInit?document.getElementById("_preload_div_").style.display="none":(o.sendCommand("Inited","Inited",this),o._moduleDelayInit=!0,window.callDelayPageInitComplete&&window.callDelayPageInitComplete()),alert("找不到載入頁面:\n"+r.src)},r.src="../"+n.folder+"/"+n.folder+".js?"+Math.ceil(5e3*Math.random()),t.appendChild(r)}}},{key:"loadContentInstanceByModule",value:function e(t,n,i){var o=this;this.__loadinfo=n,this.__backInfo=i,this.contentComp=AdobeAn.getComposition(t),this.contentLib=this.contentComp.getLibrary(),this.contentLoader=new this.createjs.LoadQueue(!0,"../"+n.folder+"/","Anonymous"),this.contentLoader.addEventListener("fileload",function(e){o.handleContentByModuleLoad(e,o.contentComp)}),this.contentLoader.addEventListener("complete",function(e){o.handleContentByModuleComplete(e,o.contentComp)}),this.contentLoader.setMaxConnections(6),this.contentLoader.installPlugin(this.createjs.Sound);for(var r=this.contentLib.properties.manifest.length,a=[],s=0;s<r;s++)-1===this.contentLib.properties.manifest[s].src.indexOf(".mp3")&&a.push(this.contentLib.properties.manifest[s]);0!==a.length?this.contentLoader.loadManifest(a):this.handleMenuComplete({},this.contentComp)}},{key:"handleContentByModuleLoad",value:function e(t,n){var i=n.getImages();t&&"image"==t.item.type&&(i[t.item.id]=t.result)}},{key:"handleContentByModuleComplete",value:function e(t,n){for(var i=this,o=n.getLibrary(),r=n.getSpriteSheet(),a=t.target,s=o.ssMetadata,u=0;u<s.length;u++)r[s[u].name]=new this.createjs.SpriteSheet({images:[a.getResult(s[u].name)],frames:s[u].frames});a.close(),a.removeAllEventListeners(),a.destroy();for(var l=new o[this.__loadinfo.folder],d=[],h=0;h<l.children.length;h++)d[h]=l.children[h];for(var p=0;p<d.length;p++)if(void 0!==d[p].name&&g.default.notNull(this.__loadinfo.instanceReplace))for(var c=this.__loadinfo.instanceReplace.length,f=0;f<c;f++)if(this.__loadinfo.instanceReplace[f][0]===d[p].name){this.exportRoot.addChild(d[p]),d[p].orgVisible=d[p].visible,d[p].name=this.__loadinfo.instanceReplace[f][1],d[p].visible=!1,this.exportRoot[d[p].name]=d[p];break}this.rescanInstanceRef(),this.reprocessInstanceEffectBase(),this.reinitModules("../"+this.__loadinfo.folder+"/"),this._moduleDelayInit?document.getElementById("_preload_div_").style.display="none":(this.sendCommand("Inited","Inited",this),this._moduleDelayInit=!0,window.callDelayPageInitComplete&&window.callDelayPageInitComplete())}},{key:"appendMenu",value:function e(t,n){var i=this,o=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.onload=r.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)for(var e in r.onload=r.onreadystatechange=null,window.AdobeAn.compositions)if(e!==i.animateID){i.loadMenuInstance(e,t,n);break}},r.onerror=function(e){i.init()},r.src="../"+t+"/"+t+".js?"+Math.ceil(5e3*Math.random()),o.appendChild(r)}},{key:"loadMenuInstance",value:function e(t,n,i){var o=this;this.menuID=n,this.menuContent=i,this.contentComp=AdobeAn.getComposition(t),this.contentLib=this.contentComp.getLibrary(),this.contentLoader=new this.createjs.LoadQueue(!0,"../"+n+"/","Anonymous"),this.contentLoader.addEventListener("fileload",function(e){o.handleMenuFileLoad(e,o.contentComp)}),this.contentLoader.addEventListener("complete",function(e){o.handleMenuComplete(e,o.contentComp)}),this.contentLoader.setMaxConnections(6),this.contentLoader.installPlugin(this.createjs.Sound);for(var r=this.contentLib.properties.manifest.length,a=[],s=0;s<r;s++)-1===this.contentLib.properties.manifest[s].src.indexOf(".mp3")&&a.push(this.contentLib.properties.manifest[s]);0!==a.length?this.contentLoader.loadManifest(a):this.handleMenuComplete({},this.contentComp)}},{key:"handleMenuFileLoad",value:function e(t,n){var i=n.getImages();t&&"image"==t.item.type&&(i[t.item.id]=t.result)}},{key:"handleMenuComplete",value:function e(t,n){for(var i=this,o=n.getLibrary(),r=n.getSpriteSheet(),a=t.target,s=o.ssMetadata,u=0;u<s.length;u++)r[s[u].name]=new this.createjs.SpriteSheet({images:[a.getResult(s[u].name)],frames:s[u].frames});a.close(),a.removeAllEventListeners(),a.destroy();for(var l=new o[this.menuID],d=[],h=0;h<l.children.length;h++)d[h]=l.children[h];for(var p=void 0,c=0;c<d.length;c++)this.exportRoot.addChild(d[c]),d[c].orgVisible=d[c].visible,g.default.notNull(d[c].name)&&(this.exportRoot[d[c].name]=d[c]),"MenuScript"===d[c].name&&((p=d[c]).visible=!1);this.scanInstanceRef(),this.processInstanceEffectBase(),g.default.notNull(p.menuRef)&&(this.menuRef=p.menuRef.concat()),this.init()}},{key:"interrupt",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n}},{key:"stop",value:function e(t,n,i){var o=0<arguments.length&&void 0!==t?t:null,r=1<arguments.length&&void 0!==n&&n,a=2<arguments.length&&void 0!==i&&i}},{key:"reset",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n}},{key:"resetAbortSound",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n}},{key:"clearSoundChannel",value:function e(){}},{key:"clearVideoChannel",value:function e(){}},{key:"updatePageParam",value:function e(t){this.isInited||this.init(),g.default.isNull(t)?this.initParamJSON=g.default.notNull(this.lib.js.initParamJSON)?this.lib.js.initParamJSON:this.initParamJSON:(this.initParamJSON=t,this.lib.js.initParamJSON=t),this.pageParam=g.default.notNull(this.initParamJSON)&&""!==this.initParamJSON?JSON.parse(this.initParamJSON):null,this.updatePageProps()}},{key:"updatePageProps",value:function e(){}},{key:"getGoOutCommandItemList",value:function e(){}},{key:"syncMarqueeSound",value:function e(t,n){}},{key:"getZoomInInfo",value:function e(){}},{key:"updateVolume",value:function e(t){return this.isInited||this.init(),t<0&&(t=0),1<t&&(t=1),this.volume=t,g.default.notNull(this.soundChannel)&&(this.soundChannel.volume=t),g.default.notNull(this.videoChannel)&&(this.videoChannel.volume=t),this.volume}},{key:"receiveMessage",value:function e(t){this.isInited||this.init(),g.default.trace(t)}},{key:"refreshLibProp",value:function e(t,n,i,o,r,a,s){this.isInited||this.init(),g.default.isNull(t)?this.owner=g.default.notNull(this.lib.js.owner)?this.lib.js.owner:this.owner:(this.owner=t,this.lib.js.owner=t),g.default.isNull(n)?this.pageSoundPath=g.default.notNull(this.lib.js.pageSoundPath)?this.lib.js.pageSoundPath:this.pageSoundPath:(this.pageSoundPath=n,this.lib.js.pageSoundPath=n),g.default.isNull(r)?this.pageVideoPath=g.default.notNull(this.lib.js.pageVideoPath)?this.lib.js.pageVideoPath:this.pageVideoPath:(this.pageVideoPath=r,this.lib.js.pageVideoPath=r),g.default.isNull(o)?this.assetSoundPath=g.default.notNull(this.lib.js.assetSoundPath)?this.lib.js.assetSoundPath:this.assetSoundPath:(this.assetSoundPath=o,this.lib.js.assetSoundPath=o),g.default.isNull(a)?this.assetVideoPath=g.default.notNull(this.lib.js.assetVideoPath)?this.lib.js.assetVideoPath:this.assetVideoPath:(this.assetVideoPath=a,this.lib.js.assetVideoPath=a),g.default.isNull(i)?this.globalSoundPath=g.default.notNull(this.lib.js.globalSoundPath)?this.lib.js.globalSoundPath:this.globalSoundPath:(this.globalSoundPath=i,this.lib.js.globalSoundPath=i),g.default.notNull(s)&&(this.wordStrokeOffsetMs=Number(s))}},{key:"updatePairInstance",value:function e(t){this.isInited||this.init(),g.default.notNull(t)?this.pairInstance=t:this.pairInstance=this.lib.js.pairInstance||null,this.lib.js.pairInstance=this.pairInstance}},{key:"callTouchInstance",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:50;this.isInited||this.init();var o=this;clearTimeout(this.callTouchInstanceTimer),this.callTouchInstanceTimer=setTimeout(function(){o.callTouchInstanceRun(t,i)},i)}},{key:"assetBasePageInstance",value:function e(t){this.isInited||this.init(),this.createjs._assetBasePageInstance=t}},{key:"createAudioInstance",value:function e(t){this.isInited||this.init(),g.default.playWebAudioSound(this.createjs,t.path,t.id,t.loop,t.offset,t.volume,t.callback)}},{key:"callTouchInstanceRun",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:50;if(this.isInited||this.init(),g.default.notNull(t)&&0<t.length){for(var a=t.shift(),s=this,u=this.mouseTriggerBehavior,o=function e(t){var n=s.getInstanceMirror(t),i=n.subset.length,o=void 0;o===a&&t.dispatchEvent(u);for(var r=0;r<i;r++)o=n.subset[r],e(n.target[o])},r=this.levelOneInstanceNames.length,l=void 0,d=void 0,h=0;h<r;h++)l=this.levelOneInstanceNames[h],d=this.getInstanceMirror(this.exportRoot[l]),l===a&&this.exportRoot[l].dispatchEvent(u),o(d.target);clearTimeout(s.callTouchInstanceTimer),this.callTouchInstanceTimer=setTimeout(function(){s.callTouchInstanceRun(t,i)},i)}}},{key:"openFPS",value:function e(){this.isInited||this.init(),this._fps&&this._fps.startFPS(this.exportRoot,this)}},{key:"closeFPS",value:function e(){this.isInited||this.init(),this._fps&&this._fps.stopFPS(this.exportRoot)}},{key:"excludePageComponent",value:function e(t){var n=0<arguments.length&&void 0!==t?t:null;return this.isInited||this.init(),this.openMobileMode(n)}},{key:"unexcludePageComponent",value:function e(){return this.isInited||this.init(),this.closeMobileMode()}},{key:"modifyExtraComponentVisible",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=!(1<arguments.length&&void 0!==n)||n;return this.isInited||this.init(),g.default.notNull(this.commandMCListVisible)?this.commandMCListVisibleRest=this.commandMCListVisible:this.commandMCListVisibleRest=this.commandMCListInvisible,this.commandMCListVisible=null,this.commandMCListInvisible=null,o?this.commandMCListVisible=i:this.commandMCListInvisible=i,this.updatePageProps(),!0}},{key:"openMobileMode",value:function e(t){var n=0<arguments.length&&void 0!==t?t:null;return this.isInited||this.init(),this.mobileMode=!0,this.webMode=!0,this.extraToHideMCList=n,this.updatePageProps(),!0}},{key:"closeMobileMode",value:function e(){return this.isInited||this.init(),this.mobileMode=!1,this.webMode=!1,this.extraToHideMCList=null,this.updatePageProps(),!0}},{key:"openWebMode",value:function e(t){var n=0<arguments.length&&void 0!==t?t:null;return this.isInited||this.init(),this.webMode=!0,this.mobileMode=!1,this.extraToHideMCList=n,this.updatePageProps(),!0}},{key:"closeWebMode",value:function e(){return this.isInited||this.init(),this.webMode=!1,this.mobileMode=!1,this.extraToHideMCList=null,this.updatePageProps(),!0}},{key:"openIOSMode",value:function e(){return this.isInited||this.init(),this.iosMode=!0}},{key:"closeIOSMode",value:function e(){return this.isInited||this.init(),!(this.iosMode=!1)}},{key:"openWBCMode",value:function e(){return this.isInited||this.init(),this.wbcMode=!0,this.updatePageProps(),!0}},{key:"closeWBCMode",value:function e(){return this.isInited||this.init(),this.wbcMode=!1,this.updatePageProps(),!0}},{key:"openActWinNavBar",value:function e(){return this.isInited||this.init(),this.actWinNavHide=!1,this.updatePageProps(),!0}},{key:"closeActWinNavBar",value:function e(){return this.isInited||this.init(),this.actWinNavHide=!0,this.updatePageProps(),!0}},{key:"openActWinWordGroupBar",value:function e(){return this.isInited||this.init(),this.actWinNavHide=!1,this.actWinWordGroupHide=!1,this.updatePageProps(),!0}},{key:"closeActWinWordGroupBar",value:function e(){return this.isInited||this.init(),this.actWinNavHide=!0,this.actWinWordGroupHide=!0,this.updatePageProps(),!0}},{key:"updateSoundChannel",value:function e(t){this.isInited||init(),this.soundChannel=t}},{key:"updateVideoChannel",value:function e(t){this.isInited||init(),this.videoChannel=t}},{key:"setPressEventIsOn",value:function e(t){this.isPressMoveOn=t}},{key:"getPressEventIsOn",value:function e(){return this.isPressMoveOn}},{key:"getSoundObject",value:function e(){return this.soundObj}},{key:"getLastestParamJSON",value:function e(){return g.default.notNull(this.pageParam)?JSON.stringify(this.pageParam):null}},{key:"getParentIsNoDefinition",value:function e(){return!(!window.useMarqueeDebug||window.sendFromChild||g.default.notNull(window.parent)&&window.parent.sendFromIFrameChild)}},{key:"sendCommand",value:function e(t,n,i,o){var r=2<arguments.length&&void 0!==i?i:null,a=!(3<arguments.length&&void 0!==o)||o;if(!g.default.isNull(this)){this.isInited||this.init();var s=g.default.generateExtraCommand(t,n,this.owner);g.default.notNull(r)&&(s.selfInstance=r),a&&(s.selfInstance=this),g.default.sendExtraCommand(s)}}},{key:"sendPageFlipMessage",value:function e(){this.isInited&&this._moduleDelayInit&&this.sendCommand("PageFlip","PageFlip")}},{key:"sendPageTouchMessage",value:function e(t,n){this.sendCommand(t,n)}},{key:"setupCreatejs",value:function e(t,n){var i=!(0<arguments.length&&void 0!==t)||t,o=!(1<arguments.length&&void 0!==n)||n;g.default.isNull(this)||(g.default.notNull(this.createjs)&&(this.createjs.Ticker.timingMode=this.createjs.Ticker.RAF),g.default.notNull(this.stage)&&(i?this.stage.enableMouseOver(8):this.stage.enableMouseOver(0),this.createjs.Touch.isSupported()?o?this.createjs.Touch.enable(this.stage,!0,!1,!0):this.createjs.Touch.enable(this.stage,!1,!0,!0):(void 0===this.stage.__notouch&&(this.stage.__notouch={}),this.stage.__notouch.onlyEbookClick=!0),this.stage.preventSelection=!1))}},{key:"setTimeout",value:function e(t,n){if(g.default.isNull(this))return null;var i=this,o=this.createjs.Tween.get({}).wait(n).call(function(){t&&t(),i.clearTimeout(o)});return o}},{key:"clearTimeout",value:function e(t){return!(g.default.isNull(this)||(this.createjs.Tween.removeTweens(t.target),t=void 0))}},{key:"setInterval",value:function e(t,n){if(g.default.isNull(this))return null;var i=this.createjs.Tween.get({}).wait(n).call(function(){t&&t()});return i.loop=-1,i}},{key:"clearInterval",value:function e(t){if(!g.default.isNull(this))return this.Tween.removeTweens(t.target),!(t=void 0)}},{key:"scanInstanceRef",value:function e(){if(!g.default.isNull(this)){this.levelOneInstanceNames=[],this.levelInstanceMirror={};var l=this,t=function e(t,n){t.gotoAndStop(0);var i=t.parent.name||"",o,r=(i=""!==i?i+"_$"+t.parent.randID+"$":"")+t.name;n[r]={},n[r].parent=t.parent,n[r].target=t,n[r].name=t.name,t._parentLink=t.parent;var a=t.name.split("_");n[r].command=a[0],l.modulesIsOn.push(n[r].command),a.shift(),n[r].args=a,n[r].subset=[];for(var s=t.children.length,u=0;u<s;u++)t.children[u]instanceof createjs.MovieClip&&null!==t.children[u].name&&(t.children[u].randID=++l._randID,n[r].subset.push(t.children[u].name),e(t.children[u],n))},n="exportRoot";this.levelInstanceMirror[n]={},this.levelInstanceMirror[n].parent=null,this.levelInstanceMirror[n].target=this.exportRoot,this.levelInstanceMirror[n].name="exportRoot",this.levelInstanceMirror[n].name="exportRoot",this.levelInstanceMirror[n].command="",this.levelInstanceMirror[n].args=[],this.levelInstanceMirror[n].subset=[],this.exportRoot.gotoAndStop(0);for(var i=this.exportRoot.children.length,o=0;o<i;o++)this.exportRoot.children[o]instanceof createjs.MovieClip&&null!==this.exportRoot.children[o].name&&(this.exportRoot.children[o].randID=++this._randID,this.levelInstanceMirror[n].subset.push(this.exportRoot.children[o].name),this.levelOneInstanceNames.push(this.exportRoot.children[o].name),t(this.exportRoot.children[o],this.levelInstanceMirror));this.modulesIsOn=this.modulesIsOn.filter(g.default.getArrayUnique)}}},{key:"processInstanceEffectBase",value:function e(){if(!g.default.isNull(this))for(var t=this,n=function e(t,n){if(!t.EffectBaseShadow&&t.EffectBase){var i=t.EffectBase.clone(),o=t.EffectBase;t.EffectBaseShadow=i,t.EffectBase.alpha=0,t.EffectBaseShadow.alpha=.7;var r=t.localToGlobal(t.EffectBase.x-t.EffectBase.regX*t.EffectBase.scaleX,t.EffectBase.y-t.EffectBase.regY*t.EffectBase.scaleY),a=t.parent;g.default.notNull(t.parent._effectBaseToLoc)&&(a=t.parent._effectBaseToLoc);var s=a.globalToLocal(r.x,r.y);i.setTransform(s.x,s.y,i.scaleX*t.scaleX,i.scaleY*t.scaleY,t.rotation+i.rotation),t.timeline.on("change",function(e){o._off?a.removeChild(i):a.addChildAt(i,1)})}for(var u=t.children.length,l=0;l<u;l++)t.children[l]instanceof createjs.MovieClip&&null!==t.children[l].name&&e(t.children[l],n)},i=this.exportRoot.children.length,o=0;o<i;o++)this.exportRoot.children[o]instanceof createjs.MovieClip&&null!==this.exportRoot.children[o].name&&n(this.exportRoot.children[o],this.levelInstanceMirror)}},{key:"rescanInstanceRef",value:function e(){if(!g.default.isNull(this)){for(var l=this,t=function e(t,n){t.gotoAndStop(0);var i=t.parent.name||"",o,r=(i=""!==i?i+"_$"+t.parent.randID+"$":"")+t.name;n[r]={},n[r].parent=t.parent,n[r].target=t,n[r].name=t.name,t._parentLink=t.parent;var a=t.name.split("_");n[r].command=a[0],l.modulesIsOn.push(n[r].command),a.shift(),n[r].args=a,n[r].subset=[];for(var s=t.children.length,u=0;u<s;u++)t.children[u]instanceof createjs.MovieClip&&null!==t.children[u].name&&(t.children[u].randID=++l._randID,n[r].subset.push(t.children[u].name),e(t.children[u],n))},n="exportRoot",i=this.exportRoot.children.length,o=0;o<i;o++)this.exportRoot.children[o]instanceof createjs.MovieClip&&null!==this.exportRoot.children[o].name&&void 0===this.exportRoot.children[o].randID&&(this.exportRoot.children[o].isAppend=!0,this.exportRoot.children[o].randID=++this._randID,this.levelInstanceMirror[n].subset.push(this.exportRoot.children[o].name),this.levelOneInstanceNames.push(this.exportRoot.children[o].name),t(this.exportRoot.children[o],this.levelInstanceMirror));this.modulesIsOn=this.modulesIsOn.filter(g.default.getArrayUnique)}}},{key:"reprocessInstanceEffectBase",value:function e(){if(!g.default.isNull(this))for(var t=this,n=function e(t,n){if(!t.EffectBaseShadow&&t.EffectBase){var i=t.EffectBase.clone(),o=t.EffectBase;t.EffectBaseShadow=i,t.EffectBase.alpha=0,t.EffectBaseShadow.alpha=.7;var r=t.localToGlobal(t.EffectBase.x-t.EffectBase.regX*t.EffectBase.scaleX,t.EffectBase.y-t.EffectBase.regY*t.EffectBase.scaleY),a=t.parent;g.default.notNull(t.parent._effectBaseToLoc)&&(a=t.parent._effectBaseToLoc);var s=a.globalToLocal(r.x,r.y);i.setTransform(s.x,s.y,i.scaleX*t.scaleX,i.scaleY*t.scaleY,t.rotation+i.rotation),t.timeline.on("change",function(e){o._off?a.removeChild(i):a.addChildAt(i,1)})}for(var u=t.children.length,l=0;l<u;l++)t.children[l]instanceof createjs.MovieClip&&null!==t.children[l].name&&e(t.children[l],n)},i=this.exportRoot.children.length,o=0;o<i;o++)this.exportRoot.children[o]instanceof createjs.MovieClip&&null!==this.exportRoot.children[o].name&&!0===this.exportRoot.children[o].isAppend&&(this.exportRoot.children[o].isAppend=void 0,n(this.exportRoot.children[o],this.levelInstanceMirror))}},{key:"getInstanceMirror",value:function e(t){if(!g.default.isNull(this)){var n=void 0,i=void 0;i=g.default.notNull(t._parentLink)?(n=t._parentLink.name||"",t._parentLink.randID):g.default.notNull(t.parent)?(n=t.parent.name||"",t.parent.randID):n="",n=""!==n?n+"_$"+i+"$":"";var o=t.name,r=g.default.notNull(o)?n+o:"exportRoot",a;return this.levelInstanceMirror[r]||null}}},{key:"openSoundPlayBar",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:{};g.default.isNull(this)||this.soundPlayBar&&this.soundPlayBar.openSoundPlayBar(t,i)}},{key:"closeSoundPlayBar",value:function e(){g.default.isNull(this)||this.soundPlayBar&&this.soundPlayBar.closeSoundPlayBar()}},{key:"stopSoundPlayBar",value:function e(){g.default.isNull(this)||this.soundPlayBar&&this.soundPlayBar.stopSoundPlayBar()}},{key:"openVideoPlayBar",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:{};g.default.isNull(this)||this.videoPlayBar&&this.videoPlayBar.openVideoPlayBar(t,i)}},{key:"closeVideoPlayBar",value:function e(){g.default.isNull(this)||this.videoPlayBar&&this.videoPlayBar.closeVideoPlayBar()}},{key:"stopVideoPlayBar",value:function e(){g.default.isNull(this)||this.videoPlayBar&&this.videoPlayBar.stopVideoPlayBar()}},{key:"hideUIComponents",value:function e(){if(!g.default.isNull(this))for(var a=this,t=function e(t){var n=a.getInstanceMirror(t),i=n.subset.length,o=void 0;t._pageUI&&(t.visible=!1);for(var r=0;r<i;r++)o=n.subset[r],e(n.target[o])},n=this.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this.levelOneInstanceNames[r],t((o=this.getInstanceMirror(this.exportRoot[i])).target)}},{key:"initModules",value:function e(){this.isInited&&(this.soundPlayBar=new u(this).init(),this.videoPlayBar=new l(this).init())}}]),h);function h(e,t,n,i){s(this,h),g.default.notNull(n)&&n.gotoAndStop(0),this._resetExclude=[],(this._this=this)._randID=99,this.createjs=null,this.animate=null,this.exportRoot=null,this.animateID=null,this.composition=null,this.lib=null,this.stage=null,this.spriteSheet=null,this.images=null,this.pairInstance=null,this.owner=null,this.pageSoundPath=null,this.pageVideoPath=null,this.assetSoundPath=null,this.assetVideoPath=null,this.globalSoundPath=null,this.mobileMode=!1,this.webMode=!1,this.iosMode=!1,this.initParamJSON=null,this.levelOneInstanceNames=[],this.levelInstanceMirror={},this.modulesIsOn=[""],this.soundChannel=null,this.soundObj=null,this.videoChannel=null,this.videoObj=null,this.soundPlayBar=null,this.videoPlayBar=null,this.pageParam=null,this.wbcMode=!1,this.actWinNavHide=!1,this.actWinWordGroupHide=!1,this.extraToHideMCList=null,this.commandMCListVisibleRest=null,this.commandMCListVisible=null,this.commandMCListInvisible=null,this.volume=1,this.isPressMoveOn=!1,this.mouseTriggerBehavior="click",this.textBaseline="alphabetic",this.textAlphabeticFixYScale=0,this.customMainControl={},this.callTouchInstanceTimer,this.wordStrokeExtends=[],this.wordStrokeLinkInfo=[],this.moduleConfigData={},this.wordStrokeOffsetMs=0,this.isInited=!1,this.createjs=e,this.animate=t,this.exportRoot=n,this.animateID=i,g.default.notNull(t)&&(this.composition=t.getComposition(i),this.lib=this.composition.getLibrary(),this.stage=this.composition.getStage(),this.spriteSheet=this.composition.getSpriteSheet(),this.images=this.composition.getImages(),this.lib.js=this.lib.js||{},(this.lib.js.selfInstance=this).owner=g.default.isNull(this.lib.js.owner)?g.default.getHtmlhrefValue("owner"):this.lib.js.owner,this.pageSoundPath=g.default.isNull(this.lib.js.pageSoundPath)?g.default.getHtmlhrefValue("pageSoundPath"):this.lib.js.pageSoundPath,this.pageVideoPath=g.default.isNull(this.lib.js.pageVideoPath)?g.default.getHtmlhrefValue("pageVideoPath"):this.lib.js.pageVideoPath,this.assetSoundPath=g.default.isNull(this.lib.js.assetSoundPath)?g.default.getHtmlhrefValue("assetSoundPath"):this.lib.js.assetSoundPath,this.assetVideoPath=g.default.isNull(this.lib.js.assetVideoPath)?g.default.getHtmlhrefValue("assetVideoPath"):this.lib.js.assetVideoPath,this.globalSoundPath=g.default.isNull(this.lib.js.globalSoundPath)?g.default.getHtmlhrefValue("globalSoundPath"):this.lib.js.globalSoundPath,this.initParamJSON=g.default.isNull(this.lib.js.initParamJSON)?g.default.getHtmlhrefValue("initParamJSON"):this.lib.js.initParamJSON,this.pageParam=g.default.notNull(this.initParamJSON)&&""!==this.initParamJSON?JSON.parse(this.initParamJSON):[],this.wordStrokeOffsetMs=g.default.notNull(g.default.getHtmlhrefValue("wordStrokeOffsetMs"))?Number(g.default.getHtmlhrefValue("wordStrokeOffsetMs")):this.wordStrokeOffsetMs,this._fps=new p(this.lib)),this.setupCreatejs(!0),this.scanInstanceRef(),this.processInstanceEffectBase(),this.triggerBGMousedownBind=this.triggerBGMousedownBind||this.triggerBGMousedown.bind(this),this._bgListenZoneBehavior="mousedown"}var p=(i(c,[{key:"startFPS",value:function e(t,n){var i=(this._baseThis=n).exportRoot.nominalBounds.x+n.exportRoot.nominalBounds.width,o,r=(n.exportRoot.nominalBounds.y+n.exportRoot.nominalBounds.height)/20;this.shape=new n.createjs.Shape,this.shape.graphics.beginFill("#000000").drawRect(0,0,3*r,r),this.shape.alpha=.5,this.shape.cache(0,0,3*r,r,2),this.shape.updateCache(),t.addChild(this.shape),this.txt=new n.createjs.Text("",.75*r+"px Arial","#ffffff"),this.txt.y=.25*r/2,this.txt.cache(0,0,3*r,r,2),t.addChild(this.txt),n.createjs.Ticker.addEventListener("tick",this.tickerFPSBind)}},{key:"stopFPS",value:function e(t){this.shape&&(this.shape.graphics.clear(),this.shape.uncache(),t.removeChild(this.shape),this.shape=null),t.removeChild(this.txt),this.txt&&(this.txt.uncache(),this.txt=null),this._baseThis.createjs.Ticker.removeEventListener("tick",this.tickerFPSBind)}},{key:"tickerFPS",value:function e(t){this.onceEverySixty()&&(this._fps.FPS=this._baseThis.createjs.Ticker.getMeasuredFPS(),this.txt.text="FPS: "+Math.round(this._fps.FPS),this.txt.updateCache())}}]),c);function c(e){var t;s(this,c),this.time=0,this.fps=0,(this._fps=this).onceEverySixty=(t=0,function(){return++t%e.properties.fps==0}),this.tickerFPSBind=this.tickerFPSBind||this.tickerFPS.bind(this)}t.BasePage=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleGoOutCommand=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["GoPage","Exe","ParmsExe","Mp4","URL","PopWin","HPopWin","PaPopWin","BWComp","BWCompLink","BWBack","BWBackLink","CDTrackG","Cmd","ExePopWin","CDTrackGHide","HwPopWin","OpenWindow"],l=!1,d=(i(h,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init(),this.clearInstanceTimeout();for(var t=this._pickList.length,n=void 0,i=void 0,o=0;o<t;o++){if(n=this._pickList[o],i=this._parent.getInstanceMirror(n),c.default.notNull(this._parent.commandMCListVisibleRest)){var r=i.name;-1!==this._parent.commandMCListVisibleRest.indexOf(r)&&(n.orgVisible=n.resetVisible)}if(c.default.notNull(this._parent.commandMCListVisible)){var a=i.name;-1!==this._parent.commandMCListVisible.indexOf(a)&&(c.default.isNull(n.resetVisible)&&(n.resetVisible=n.orgVisible),n.orgVisible=!0)}if(c.default.notNull(this._parent.commandMCListInvisible)){var s=i.name;-1!==this._parent.commandMCListInvisible.indexOf(s)&&(c.default.isNull(n.resetVisible)&&(n.resetVisible=n.orgVisible),n.orgVisible=!1)}this._parent.wbcMode?"BWComp"===i.command||"BWCompLink"===i.command?n.visible=!1:"BWBack"===i.command||"BWBackLink"===i.command?n.visible=!0:n.visible=n.orgVisible:"BWBack"===i.command||"BWBackLink"===i.command?n.visible=!1:"BWComp"===i.command||"BWCompLink"===i.command?n.visible=!0:n.visible=n.orgVisible}this._parent.commandMCListVisibleRest=null,this.switchMobileMode(this._parent.mobileMode),this.switchWebMode(this._parent.webMode)}},{key:"getPickListName",value:function e(){for(var t=[],n=this._pickList.length,i=0;i<n;i++){var o=this._pickList[i],r=this._parent.getInstanceMirror(o);"BWBack"!==r.command&&"BWBackLink"!==r.command&&"BWCompLink"!==r.command&&t.push(o.name)}return t.concat().filter(c.default.getArrayUnique)}},{key:"switchMobileMode",value:function e(t){this.isInited||this.init();var n=this._pickList.length,i=void 0,o=void 0;if(c.default.isNull(this._parent.extraToHideMCList))for(var r=0;r<n;r++)i=this._pickList[r],"ParmsExe"===(o=this._parent.getInstanceMirror(i)).command?i.visible=!t:"Exe"===o.command?i.visible=!t:"ExePopWin"===o.command?i.visible=!t:"BWComp"!==o.command&&"BWBack"!==o.command&&"BWBackLink"!==o.command&&"BWCompLink"!==o.command&&(i.visible=i.orgVisible);else for(var a=0;a<n;a++)i=this._pickList[a],o=this._parent.getInstanceMirror(i),-1!==this._parent.extraToHideMCList.indexOf(i.name)?"BWComp"!==o.command&&"BWBack"!==o.command&&"BWBackLink"!==o.command&&"BWCompLink"!==o.command&&(i.visible=!1):"BWComp"!==o.command&&"BWBack"!==o.command&&"BWBackLink"!==o.command&&"BWCompLink"!==o.command&&(i.visible=i.orgVisible)}},{key:"switchWebMode",value:function e(t){this.isInited||this.init();var n=this._pickList.length,i=void 0,o=void 0;if(c.default.isNull(this._parent.extraToHideMCList))for(var r=0;r<n;r++)i=this._pickList[r],"ParmsExe"===(o=this._parent.getInstanceMirror(i)).command?i.visible=!t:"BWComp"!==o.command&&"BWBack"!==o.command&&"Exe"!==o.command&&"ExePopWin"!==o.command&&"BWBackLink"!==o.command&&"BWCompLink"!==o.command&&(i.visible=i.orgVisible);else for(var a=0;a<n;a++)i=this._pickList[a],o=this._parent.getInstanceMirror(i),-1!==this._parent.extraToHideMCList.indexOf(i.name)?"BWComp"!==o.command&&"BWBack"!==o.command&&"BWBackLink"!==o.command&&"BWCompLink"!==o.command&&(i.visible=!1):"BWComp"!==o.command&&"BWBack"!==o.command&&"BWBackLink"!==o.command&&"BWCompLink"!==o.command&&(i.visible=i.orgVisible)}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this._parent,s=this,t=function e(t){for(var n=a.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],s.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;t._pageUI=!0,this._pickList.push(t)}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=this._pickList.length,o=void 0;this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this);for(var r=0;r<i;r++)if(!(o=this._pickList[r])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.orgVisible=o.visible;var a=this._parent.getInstanceMirror(o);this._parent.wbcMode?("BWComp"===a.command&&(o.visible=!1),"BWCompLink"===a.command&&(o.visible=!1),"BWBack"===a.command&&(o.visible=!0),"BWBackLink"===a.command&&(o.visible=!0)):("BWBack"===a.command&&(o.visible=!1),"BWBackLink"===a.command&&(o.visible=!1),"BWComp"===a.command&&(o.visible=!0),"BWCompLink"===a.command&&(o.visible=!0)),o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase)}}},{key:"triggerMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n);if(n.parent.isListPop?this._parent.stop(["ModuleListPop","ModuleDragListPop"],!0):this._parent.stop(null,!0),this.clearInstanceTimeout(),n.cursor=null,n.enabled=!1,n.mouseEnabled=!1,n.gotoAndStop(0),n.cache(n.nominalBounds.x,n.nominalBounds.y,n.nominalBounds.width,n.nominalBounds.height),-1===i.command.indexOf("CDTrackG"))this._timeoutID=setTimeout(function(){n.uncache(),n.cursor="pointer",n.gotoAndStop(0),n.enabled=!0,n.mouseEnabled=!0,this._timeoutID=void 0}.bind(this),300),this._parent.sendCommand(i.command,n.name);else if(this._timeoutID=setTimeout(function(){n.uncache(),n.cursor="pointer",n.gotoAndStop(0),n.enabled=!0,n.mouseEnabled=!0,this._timeoutID=void 0}.bind(this),300),c.default.isNull(this._parent.globalSoundPath))this._parent.sendCommand(i.command,n.name);else{this._parent.stop(null,!0);var o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.globalSoundPath?this._parent.globalSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+"sounds/":"./sounds/";if(c.default.notNull(this._parent.lib.js.CDTrackHash)&&c.default.notNull(this._parent.lib.js.CDTrackHash[i.args[0]])){u=this._parent.lib.js.CDTrackHash[i.args[0]][0];for(var l=this._parent.lib.js.CDTrackHash[i.args[0]][1].split("."),d=l.length-1,h=l[0],p=1;p<d;p++)h+="."+l[p];this._parent.soundObj={id:h,path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:null,completeFunc:null,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n,pager:null,pagerMarqueeData:null,alphaMode:null,shiftIndex:null},c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this.delayCommand={command:i.command,name:n.name}}else this._parent.soundObj={id:i.args[0],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:null,completeFunc:null,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n,pager:null,pagerMarqueeData:null,alphaMode:null,shiftIndex:null},c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this.delayCommand={command:i.command,name:n.name}}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(c.default.isNull(this._parent.soundObj)||c.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)c.default.notNull(n)&&n.stop();else switch(i){case"fileload":c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.soundChannel.stop(),c.default.notNull(this.delayCommand)?(this._parent.sendCommand(this.delayCommand.command,this.delayCommand.name),this.delayCommand=null):(this._parent.soundChannel=null,this._parent.soundObj=null)}}},{key:"clearInstanceTimeout",value:function e(){c.default.notNull(this._timeoutID)&&(clearTimeout(this._timeoutID),this._timeoutID=void 0);for(var t=this._pickList.length,n=void 0,i=0;i<t;i++)(n=this._pickList[i]).uncache(),n.cursor="pointer",n.enabled=!0,n.mouseEnabled=!0,n.gotoAndStop(0)}}]),h);function h(e){s(this,h),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._timeoutID,this._prevTime=-1}t.ModuleGoOutCommand=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleBookSound=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,M=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["Sound","ReSound","Voice","VoiceTrack","CD","CDTrack","CDEx","CDExTrack"],l={Sound:"none",ReSound:"none",Voice:"mini-close",VoiceTrack:"mini-wait",CD:"normal-close",CDTrack:"normal-wait",CDEx:"ex-normal-close",CDExTrack:"ex-normal-wait"},d=!1,h=(i(p,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init();for(var t=this._pickList.length,n=void 0,i=void 0,o=0;o<t;o++)n=this._pickList[o],i=this._parent.getInstanceMirror(n);M.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),M.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;t._pageUI=!0,this._pickList.push(t)}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=this._pickList.length,o=void 0;this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this),this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this);for(var r=0;r<i;r++)(o=this._pickList[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind),M.default.notNull(o.EffectBase)&&M.default.applyMultiply(o.EffectBase))}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"triggerMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n);if("Sound"===i.command&&M.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id===i.args[0])this._parent.stop(null,!0);else{this._parent.stop(null,!0);var o=void 0,r=0,a=n.parent,s=0;M.default.notNull(i.args[2])&&(s=Number(i.args[2])-1),s<0&&(s=0),M.default.trace(s),M.default.notNull(this._parent.marqueePagerData)&&M.default.notNull(this._parent.marqueePagerData[i.args[0]])&&(o=this._parent.marqueePagerData[i.args[0]],M.default.notNull(i.args[1])&&(r=o.sub[i.args[1]-1]||0,a=n.parent.parent));var u=this._parent.getInstanceMirror(a),l=u.subset.length,d=void 0,h=!1;if(M.default.notNull(o))for(var p=0;p<l;p++)if(-1!==u.subset[p].indexOf("ShowPic")){if(d=a[u.subset[p]],0===u.subset[p].indexOf("Slient")||0===u.subset[p].indexOf("Silent")){h=!0,d.alpha=.5,d.mouseChildren=!1,d.mouseEnabled=!1;for(var c=d.goPicList.length,f=0;f<c;f++){var g=d.goPicList[f];g.alpha=.5,g.mouseChildren=!1,g.mouseEnabled=!1}}break}var _=n.nominalBounds,v={x:n.x+_.x*n.scale,y:n.y+_.y*n.scale},m=n.parent.localToGlobal(v.x,v.y),b=this._parent.exportRoot.globalToLocal(m.x,m.y),y=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:i.args[0],path:y,loop:0,offset:r,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:b.x,locY:b.y,excludeTags:null,command:i.command,target:n,pager:d,pagerMarqueeData:o,alphaMode:h,shiftIndex:s};var P=this.checkCommandMode(i.command);this._parent.iosMode&&"none"===P?M.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):M.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(M.default.isNull(this._parent.soundObj)||M.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)M.default.notNull(n)&&n.stop();else switch(i){case"fileload":M.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc);var o=this.checkCommandMode(this._parent.soundObj.command);"none"!==o&&this._parent.openSoundPlayBar(o,this._parent.soundObj)}}},{key:"triggerSoundWatch",value:function e(t){if(M.default.notNull(this._parent.soundChannel)&&M.default.notNull(this._parent.soundObj.pagerMarqueeData)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.lib.properties.fps;this.updateMarqueeStatus(n)}}},{key:"updateMarqueeStatus",value:function e(t){var n=this._parent.soundObj.pagerMarqueeData,i=n.sub.length,o=-1,r=void 0;for(r=0;r<i-1;r++)if(t>=n.sub[r]&&t<n.sub[r+1]){o=r;break}-1===o&&n.sub[r]<=t&&(o=r),-1!==o&&this._parent.updatePagerIndex(o+1+this._parent.soundObj.shiftIndex,this._parent.soundObj.pager)}},{key:"triggerSoundComplete",value:function e(t){M.default.trace("SoundComplete"),this.stop();var n=this.checkCommandMode(this._parent.soundObj.command);"mini-close"===n||"normal-close"===n||"ex-normal-close"===n||"none"===n?(this._parent.closeSoundPlayBar(),this._parent.clearSoundChannel()):(this._parent.stopSoundPlayBar(),this._parent.soundObj.autoPlay=!1,this._parent.iosMode&&"none"===n?M.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):M.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback))}},{key:"checkSoundPlayStatus2",value:function e(t,n,i){if(M.default.isNull(this._parent.soundObj)||M.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)M.default.notNull(n)&&n.stop();else switch(i){case"fileerror":this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!this._parent.soundObj.autoPlay:this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc);var o=this.checkCommandMode(this._parent.soundObj.command);"none"!==o&&this._parent.openSoundPlayBar(o,this._parent.soundObj)}}},{key:"triggerSoundWatch2",value:function e(t){}},{key:"triggerSoundComplete2",value:function e(t){M.default.trace("complete2"),this.stop();var n=this.checkCommandMode(this._parent.soundObj.command);"mini-close"===n||"normal-close"===n||"ex-normal-close"===n||"none"===n?(this._parent.closeSoundPlayBar(),this._parent.clearSoundChannel()):(this._parent.stopSoundPlayBar(),this._parent.soundObj.autoPlay=!1,M.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback))}}]),p);function p(e){s(this,p),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._prevTime=-1}t.ModuleBookSound=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleAnsZone=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,w=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["AnsGroup","AnsZone","AnsZoneR","Ans","AnsRef","StepAns","AnimateAns","AnimateAnsSwitch","SyncAns"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init();var t=void 0;t=this._stepAns.length;for(var n=0;n<t;n++){var i=this._stepAns[n];clearTimeout(i.timeout),i.timeout=null;var o=this._parent.getInstanceMirror(i),r=o.parent[o.args[0]];w.default.notNull(r)&&r.gotoAndStop(r.endStep)}t=this._animateAns.length;for(var a=0;a<t;a++){var s=this._animateAns[a],u=this._parent.getInstanceMirror(s),l=u.parent[u.args[0]];w.default.notNull(l)&&(clearTimeout(l.timeout),l.timeout=null,l.gotoAndStop(0))}t=this._animateAnsSwitch.length;for(var d=0;d<t;d++){var h=this._animateAnsSwitch[d],p=this._parent.getInstanceMirror(h),c=p.parent[p.args[0]];w.default.notNull(c)&&(clearTimeout(c.timeout),c.timeout=null,c.gotoAndStop(0))}}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0;for(t=this._ansGroup.length,r=0;r<t;r++)(i=this._ansGroup[r]).isShow=!1;for(t=this._ansZone.length,r=0;r<t;r++)for((i=this._ansZone[r]).isShow=!1,i.parent.isShow=!1,s=this.getCustomTag(i),n=this._ansZoneMirror[s].length,a=0;a<n;a++)(o=this._ansZoneMirror[s][a]).gotoAndStop(o.frameNormal);for(t=this._ans.length,r=0;r<t;r++)(i=this._ans[r]).gotoAndStop(i.frameNormal);for(t=this._ansRefGroup.length,r=0;r<t;r++)for((i=this._ansRefGroup[r]).isShow=!1,i.parent.isShow=!1,s=this.getCustomTag(i),n=this._ansRefMirror[s].length,a=0;a<n;a++)(o=this._ansRefMirror[s][a]).visible=!1;for(t=this._stepAns.length,r=0;r<t;r++){i=this._stepAns[r],clearTimeout(i.timeout),i.timeout=null;var u=this._parent.getInstanceMirror(i);i.stepIndex=0,o=u.parent[u.args[0]],w.default.notNull(o)&&(o.gotoAndStop(0),o.startStep=0,o.endStep=0),this.refreshStepAns(i)}for(t=this._animateAns.length,r=0;r<t;r++){i=this._animateAns[r];var l=this._parent.getInstanceMirror(i);i.stepIndex=0,o=l.parent[l.args[0]],w.default.notNull(o)&&(clearTimeout(o.timeout),o.timeout=null,o.gotoAndStop(0),o.startStep=0,o.endStep=0),this.refreshAnimateAns(i)}for(t=this._animateAnsSwitch.length,r=0;r<t;r++){i=this._animateAnsSwitch[r];var d=this._parent.getInstanceMirror(i);i.stepIndex=0,o=d.parent[d.args[0]],w.default.notNull(o)&&(clearTimeout(o.timeout),o.timeout=null,o.gotoAndStop(0),o.startStep=0,o.endStep=0),this.refreshAnimateAns(i)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"AnsGroup":t._pageUI=!0,i=this.getCustomTag(t),this._ansGroup.push(t),this._ansGroupMirror[i]=this.pickRelation(n.parent,n.args[0]),this._ansGroupMirrorControl[i]=this.pickRelationControl(n.parent,n.args[0],"AnsZone"),this._ansGroupMirrorControl2[i]=this.pickRelationControl(n.parent,n.args[0],"StepAns");break;case"AnsZone":case"AnsZoneR":t._pageUI=!0,i=this.getCustomTag(t),this._ansZone.push(t),this._ansZoneMirror[i]=this.pickRelationPlus(n.parent,n.args[0]);break;case"SyncAns":t._pageUI=!1,i=this.getCustomTag(t),this._syncAns.push(t),this._syncAnsMirror[i]=this.pickRelationPlus(n.parent,n.args[0]);break;case"Ans":this._ans.push(t);break;case"AnsRef":i=this.getCustomTag(t),this._ansRefGroup.push(t),this._ansRefMirror[i]=this.pickRelation(n.parent,n.args[0]);break;case"StepAns":t._pageUI=!0,this._stepAns.push(t);break;case"AnimateAns":t._pageUI=!0,this._animateAns.push(t);break;case"AnimateAnsSwitch":t._pageUI=!0,this._animateAnsSwitch.push(t)}}}},{key:"getCustomTag",value:function e(t){return w.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"pickRelationPlus",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=n.split("SS"),s=a.length,u=0;u<s;u++)for(var l=a[u],d=0;d<r;d++){var h=this._parent.getInstanceMirror(o.target[o.subset[d]]),p=o.target[o.subset[d]];h.command===l&&i.push(p)}return i}},{key:"pickRelationControl",value:function e(t,n,i){for(var o=[],r=this._parent.getInstanceMirror(t),a=r.subset.length,s=0;s<a;s++){var u=this._parent.getInstanceMirror(r.target[r.subset[s]]);if(u.command===n)for(var l=u.subset.length,d=0;d<l;d++){var h=u.target[u.subset[d]],p;0===this._parent.getInstanceMirror(h).command.indexOf(i)&&o.push(h)}}return o}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=void 0;for(this.triggerAnsGroupMousedownBind=this.triggerAnsGroupMousedownBind||this.triggerAnsGroupMousedown.bind(this),this.triggerAnsZoneMousedownBind=this.triggerAnsZoneMousedownBind||this.triggerAnsZoneMousedown.bind(this),this.triggerAnsMousedownBind=this.triggerAnsMousedownBind||this.triggerAnsMousedown.bind(this),this.triggerSyncAnsMousedownBind=this.triggerSyncAnsMousedownBind||this.triggerSyncAnsMousedown.bind(this),this.triggerAnsRefMousedownBind=this.triggerAnsRefMousedownBind||this.triggerAnsRefMousedown.bind(this),this.triggerStepAnsFuncMousedownBind=this.triggerStepAnsFuncMousedownBind||this.triggerStepAnsFuncMousedown.bind(this),this.triggerAnimateAnsFuncMousedownBind=this.triggerAnimateAnsFuncMousedownBind||this.triggerAnimateAnsFuncMousedown.bind(this),this.triggerAnimateAnsSwitchFuncMousedownBind=this.triggerAnimateAnsSwitchFuncMousedownBind||this.triggerAnimateAnsSwitchFuncMousedown.bind(this),i=this._ansGroup.length,s=0;s<i;s++)if(!(r=this._ansGroup[s])._isModuleInited){r._replacePath=n,r._isModuleInited=!0,r.isShow=!1,r.cursor="pointer",r.addEventListener(this._mouseTriggerBehavior,this.triggerAnsGroupMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase);for(var d=this._parent.getInstanceMirror(r),h=this._parent.getInstanceMirror(d.parent),p=h.subset.length,c=0;c<p;c++){var f;a=h.target[h.subset[c]],this._parent.getInstanceMirror(a).command===d.args[0]&&(a.refAnsGroup=r)}}for(i=this._ansZone.length,s=0;s<i;s++)if(!(r=this._ansZone[s])._isModuleInited){r._replacePath=n,r._isModuleInited=!0,r.isShow=!1,r.parent.isShow=r.isShow,r.cursor="pointer",r.addEventListener(this._mouseTriggerBehavior,this.triggerAnsZoneMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase),l=this.getCustomTag(r),o=this._ansZoneMirror[l].length;var g="AnsZoneR"===this._parent.getInstanceMirror(r).command;for(u=0;u<o;u++)a=this._ansZoneMirror[l][u],-1===this._pickList.indexOf(a)&&(a.refAnsZone=r,a.cursor="pointer",void 0===a.frameNormal&&(a.frameNormal=0),void 0===a.frameOver&&(a.frameOver=1),g&&(a.frameNormal=1,a.frameOver=0),a.gotoAndStop(a.frameNormal),a.addEventListener(this._mouseTriggerBehavior,this.triggerAnsMousedownBind),w.default.notNull(a.EffectBase)&&w.default.applyMultiply(a.EffectBase))}for(i=this._ans.length,s=0;s<i;s++)(r=this._ans[s])._isModuleInited||(r._replacePath=n,r._isModuleInited=!0,r.cursor="pointer",void 0===r.frameNormal&&(r.frameNormal=0),void 0===r.frameOver&&(r.frameOver=1),r.gotoAndStop(r.frameNormal),r.addEventListener(this._mouseTriggerBehavior,this.triggerAnsMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase));for(i=this._syncAns.length,s=0;s<i;s++)(r=this._syncAns[s])._isModuleInited||(r._replacePath=n,r._isModuleInited=!0,r.cursor="pointer",r.addEventListener(this._mouseTriggerBehavior,this.triggerSyncAnsMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase));for(i=this._ansRefGroup.length,s=0;s<i;s++)if(!(r=this._ansRefGroup[s])._isModuleInited)for(r._replacePath=n,r._isModuleInited=!0,r.isShow=!1,r.cursor="pointer",r.addEventListener(this._mouseTriggerBehavior,this.triggerAnsRefMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase),l=this.getCustomTag(r),o=this._ansRefMirror[l].length,u=0;u<o;u++)a=this._ansRefMirror[l][u],w.default.notNull(a)&&(a.visible=!1);for(i=this._stepAns.length,s=0;s<i;s++)if(!(r=this._stepAns[s])._isModuleInited){r._replacePath=n,r._isModuleInited=!0,r.isShow=!1,r.parent.isShow=!1;for(var _=this._parent.getInstanceMirror(r),v=_.subset.length,m=0;m<v;m++){var b;a=r[_.subset[m]],"lastBtn"===this._parent.getInstanceMirror(a).command&&(a.cursor="pointer",a.addEventListener(this._mouseTriggerBehavior,this.triggerStepAnsFuncMousedownBind),w.default.notNull(a.EffectBase)&&w.default.applyMultiply(a.EffectBase))}if(a=r.prevBtn,w.default.notNull(a)&&(a.cursor="pointer",a.addEventListener(this._mouseTriggerBehavior,this.triggerStepAnsFuncMousedownBind),w.default.notNull(a.EffectBase)&&w.default.applyMultiply(a.EffectBase)),a=r.nextBtn,w.default.notNull(a)&&(a.cursor="pointer",a.addEventListener(this._mouseTriggerBehavior,this.triggerStepAnsFuncMousedownBind),w.default.notNull(a.EffectBase)&&w.default.applyMultiply(a.EffectBase)),r.stepIndex=0,a=_.parent[_.args[0]],w.default.notNull(a)){a.stepData=[],a.gotoAndStop(0);for(var y=a.labels.length,P=0;P<y;P++)a.stepData.push(a.labels[P].position);a.startStep=0,a.endStep=0}r._this=this,r.stepAnsRunningBind=r.stepAnsRunningBind||this.stepAnsRunning.bind(r),this.refreshStepAns(r)}for(i=this._animateAns.length,s=0;s<i;s++)if(!(r=this._animateAns[s])._isModuleInited){r._replacePath=n,r._isModuleInited=!0;var M=this._parent.getInstanceMirror(r);if(r.cursor="pointer",r.addEventListener(this._mouseTriggerBehavior,this.triggerAnimateAnsFuncMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase),r.stepIndex=0,a=M.parent[M.args[0]],w.default.notNull(a)){a.stepData=[],a.gotoAndStop(0);for(var O=a.labels.length,S=0;S<O;S++)a.stepData.push(a.labels[S].position);a.startStep=0,a.endStep=0,a._this=this,a.animateAnsRunningBind=a.animateAnsRunningBind||this.animateAnsRunning.bind(a)}this.refreshAnimateAns(r)}for(i=this._animateAnsSwitch.length,s=0;s<i;s++)if(!(r=this._animateAnsSwitch[s])._isModuleInited){r._replacePath=n,r._isModuleInited=!0;var B=this._parent.getInstanceMirror(r);if(r.cursor="pointer",r.addEventListener(this._mouseTriggerBehavior,this.triggerAnimateAnsSwitchFuncMousedownBind),w.default.notNull(r.EffectBase)&&w.default.applyMultiply(r.EffectBase),r.stepIndex=0,a=B.parent[B.args[0]],w.default.notNull(a)){a.stepData=[],a.gotoAndStop(0);for(var x=a.labels.length,k=0;k<x;k++)a.stepData.push(a.labels[k].position);a.startStep=0,a.endStep=0,a._this=this,a.animateAnsSwitchRunningBind=a.animateAnsSwitchRunningBind||this.animateAnsSwitchRunning.bind(a)}this.refreshAnimateAnsSwitch(r)}}},{key:"triggerAnsGroupMousedown",value:function e(t){var n=t.currentTarget,i=this.getCustomTag(n),o=void 0,r=n.isShow;o=this._ansGroupMirrorControl2[i].length;for(var a=0;a<o;a++){var s=this._ansGroupMirrorControl2[i][a];if(w.default.notNull(s)){if(r)s.stepIndex=0;else{var u=this._parent.getInstanceMirror(s),l=u.parent[u.args[0]];w.default.notNull(l)&&(s.stepIndex=l.stepData.length)}s.isShow=r,s.parent.isShow=r,this.refreshStepAns(s),this.refreshAnsZoneStatus(s)}}o=this._ansGroupMirrorControl[i].length;for(var d=0;d<o;d++){var h=this._ansGroupMirrorControl[i][d];w.default.notNull(h)&&(h.isShow=r,h.parent.isShow=r,h.dispatchEvent(this._mouseTriggerBehavior),"mousedown"===this._mouseTriggerBehavior&&h.dispatchEvent("pressup"))}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerAnsZoneMousedown",value:function e(t){w.default.notNull(t.stageX);for(var n=t.currentTarget,i=this.getCustomTag(n),o=this._ansZoneMirror[i].length,r=0;r<o;r++){var a=this._ansZoneMirror[i][r];w.default.notNull(a)&&(n.isShow?a.gotoAndStop(a.frameNormal):a.gotoAndStop(a.frameOver))}var s=this._parent.getInstanceMirror(n);if(n.isShow=!n.isShow,n.parent.isShow=n.isShow,w.default.notNull(s.args[1]))for(var u=this._ansZone.length,l=0;l<u;l++){var d=this._ansZone[l],h=this._parent.getInstanceMirror(d);if(d!==n&&h.args[1]===s.args[1]){d.isShow=n.isShow,d.parent.isShow=n.isShow;for(var p=this.getCustomTag(d),c=this._ansZoneMirror[p].length,f=0;f<c;f++){var g=this._ansZoneMirror[p][f];w.default.notNull(g)&&(d.isShow?g.gotoAndStop(g.frameOver):g.gotoAndStop(g.frameNormal))}}}this.refreshAnsZoneStatus(n),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSyncAnsMousedown",value:function e(t){w.default.notNull(t.stageX);for(var n=t.currentTarget,i=this.getCustomTag(n),o=this._syncAnsMirror[i].length,r=0,a=0;a<o;a++){var s=this._syncAnsMirror[i][a];w.default.notNull(s)&&s.currentFrame===s.frameOver&&(r+=1)}var u=!0;r===o&&(u=!1);for(var l=0;l<o;l++){var d=this._syncAnsMirror[i][l];w.default.notNull(d)&&(u?d.gotoAndStop(d.frameOver):d.gotoAndStop(d.frameNormal),w.default.notNull(d.refAnsZone)&&this.refreshAnsStatus(d.refAnsZone))}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"refreshAnsZoneStatus",value:function e(t){var n,i=this._parent.getInstanceMirror(t).parent,o=i.refAnsGroup;if(!w.default.isNull(o)){var r=this._parent.getInstanceMirror(i),a=this._parent.getInstanceMirror(o),s=a.parent;if(!w.default.isNull(s)){for(var u=this._parent.getInstanceMirror(s),l=u.subset.length,d=0,h=0,p=0;p<l;p++){var c=s[u.subset[p]],f;this._parent.getInstanceMirror(c).command===a.args[0]&&(h++,c.isShow&&d++)}0===d?o.isShow=!1:d===h&&(o.isShow=!0)}}}},{key:"triggerAnsMousedown",value:function e(t){var n=t.currentTarget;n.currentFrame===n.frameNormal?n.gotoAndStop(n.frameOver):n.gotoAndStop(n.frameNormal),w.default.notNull(n.refAnsZone)&&this.refreshAnsStatus(n.refAnsZone),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"refreshAnsStatus",value:function e(t){for(var n=this._parent.getInstanceMirror(t),i=n.parent,o=this._parent.getInstanceMirror(i),r=o.subset.length,a=0,s=0,u=0;u<r;u++)for(var l=i[o.subset[u]],d=this._parent.getInstanceMirror(l),h=n.args[0].split("SS"),p=h.length,c=0;c<p;c++)d.command===h[c]&&(s++,l.currentFrame===l.frameOver&&a++);if(0===a?t.isShow=!1:a===s&&(t.isShow=!0),t.parent.isShow=t.isShow,w.default.notNull(n.args[1]))for(var f=this._ansZone.length,g=0;g<f;g++){var _=this._ansZone[g],v=this._parent.getInstanceMirror(_);if(_!==t&&v.args[1]===n.args[1]){_.isShow=t.isShow,_.parent.isShow=t.isShow;for(var m=this.getCustomTag(_),b=this._ansZoneMirror[m].length,y=0;y<b;y++){var P=this._ansZoneMirror[m][y];w.default.notNull(P)&&(_.isShow?P.gotoAndStop(1):P.gotoAndStop(0))}}}this.refreshAnsZoneStatus(t)}},{key:"triggerAnsRefMousedown",value:function e(t){for(var n=t.currentTarget,i=this.getCustomTag(n),o=this._ansRefMirror[i].length,r=0;r<o;r++){var a=this._ansRefMirror[i][r];w.default.notNull(a)&&(n.isShow?a.visible=!1:a.visible=!0)}n.isShow=!n.isShow,t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerStepAnsFuncMousedown",value:function e(t){var n=t.currentTarget,i=n.parent,o=this._parent.getInstanceMirror(n),r=this._parent.getInstanceMirror(i),a=r.parent[r.args[0]];switch(o.command){case"lastBtn":i.toEnd?i.stepIndex=a.stepData.length:i.stepIndex=0,this.refreshStepAns(i);break;case"prevBtn":0<=i.stepIndex-1&&(i.stepIndex--,this.refreshStepAns(i));break;case"nextBtn":i.stepIndex+1<a.stepData.length&&(i.stepIndex++,this.refreshStepAns(i));break;default:"lastBtn"===o.command&&(i.toEnd?i.stepIndex=a.stepData.length:i.stepIndex=0,this.refreshStepAns(i))}this.refreshAnsZoneStatus(i)}},{key:"refreshStepAns",value:function e(t){clearTimeout(t.timeout);var n=this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!w.default.isNull(i)){0===t.stepIndex?(t.toEnd=!0,t.isShow=!1,t.parent.isShow=!1):t.stepIndex>=i.stepData.length-1&&(t.toEnd=!1,t.isShow=!0,t.parent.isShow=!0);var o=void 0;if(o=t.prevBtn,w.default.notNull(o)&&(0===t.stepIndex?(o.visible=!1,t.isShow=!1,t.parent.isShow=!1):o.visible=!0),o=t.nextBtn,w.default.notNull(o)&&(0===t.stepIndex?o.visible=!1:o.visible=!0,t.stepIndex<i.stepData.length-1?o.visible=!0:(o.visible=!1,t.isShow=!0,t.parent.isShow=!0)),t.stepIndex===i.stepData.length)return t.stepIndex-=1,i.gotoAndStop(i.totalFrames-1),i.startStep=i.totalFrames-1,void(i.endStep=i.totalFrames-1);i.gotoAndStop(i.stepData[t.stepIndex]),i.startStep=i.stepData[t.stepIndex],i.endStep=i.stepData[t.stepIndex+1]||i.totalFrames,i.endStep--;var r=Math.floor(1e3/this._parent.lib.properties.fps);i.startStep<i.endStep?t.timeout=setTimeout(t.stepAnsRunningBind,r):i.endStep=i.startStep}}},{key:"stepAnsRunning",value:function e(){var t=this,n=this._this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!(i.currentFrame<i.endStep))return i.gotoAndStop(i.currentFrame),clearTimeout(t.timeout),void(t.timeout=null);i.gotoAndStop(i.currentFrame+1);var o=Math.floor(1e3/this._this._parent.lib.properties.fps);t.timeout=setTimeout(t.stepAnsRunningBind,o)}},{key:"triggerAnimateAnsFuncMousedown",value:function e(t){var n=t.currentTarget,i=n.parent,o=this._parent.getInstanceMirror(n),r=this._parent.getInstanceMirror(i),a=o.parent[o.args[0]];n.stepIndex=Number(o.args[1]),this.refreshAnimateAns(n)}},{key:"refreshAnimateAns",value:function e(t){var n=this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!w.default.isNull(i)){clearTimeout(i.timeout),i.gotoAndStop(i.stepData[t.stepIndex]),i.startStep=i.stepData[t.stepIndex],i.endStep=i.stepData[t.stepIndex+1]||i.totalFrames,i.endStep--,i._target=t;var o=Math.floor(1e3/this._parent.lib.properties.fps);i.startStep<i.endStep?i.timeout=setTimeout(i.animateAnsRunningBind,o):i.endStep=i.startStep}}},{key:"animateAnsRunning",value:function e(){var t=this._target,n=this._this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!(i.currentFrame<i.endStep))return i.gotoAndStop(i.currentFrame),clearTimeout(i.timeout),void(i.timeout=null);i.gotoAndStop(i.currentFrame+1);var o=Math.floor(1e3/this._this._parent.lib.properties.fps);i.timeout=setTimeout(i.animateAnsRunningBind,o)}},{key:"triggerAnimateAnsSwitchFuncMousedown",value:function e(t){var n=t.currentTarget,i=n.parent,o=this._parent.getInstanceMirror(n),r=this._parent.getInstanceMirror(i),a=o.parent[o.args[0]];n.stepIndex=Number(o.args[1]),this.refreshAnimateAnsSwitch(n)}},{key:"refreshAnimateAnsSwitch",value:function e(t){var n=this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!w.default.isNull(i)){if(clearTimeout(i.timeout),w.default.notNull(i.timeout)){var o=i.stepData[t.stepIndex]-1;return o<0&&(o=0),i.gotoAndStop(0),void(i.timeout=null)}i.gotoAndStop(i.stepData[t.stepIndex]),i.startStep=i.stepData[t.stepIndex],i.endStep=i.stepData[t.stepIndex+1]||i.totalFrames,i.endStep--,i._target=t;var r=Math.floor(1e3/this._parent.lib.properties.fps);i.startStep<i.endStep?i.timeout=setTimeout(i.animateAnsSwitchRunningBind,r):i.endStep=i.startStep}}},{key:"animateAnsSwitchRunning",value:function e(){var t=this._target,n=this._this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!(i.currentFrame<i.endStep))return i.gotoAndStop(i.currentFrame),void clearTimeout(i.timeout);i.gotoAndStop(i.currentFrame+1);var o=Math.floor(1e3/this._this._parent.lib.properties.fps);i.timeout=setTimeout(i.animateAnsSwitchRunningBind,o)}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._ansGroup=[],this._ansGroupMirror={},this._ansGroupMirrorControl={},this._ansGroupMirrorControl2={},this._ansZone=[],this._ansZoneMirror={},this._syncAns=[],this._syncAnsMirror={},this._ans=[],this._ansRefGroup=[],this._ansRefMirror=[],this._stepAns=[],this._animateAns=[],this._animateAnsSwitch=[],this._seq=999}t.ModuleAnsZone=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModulePlaySwitchSound=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["PlayPause","PlayStop","PlayNoPause"],l=!1,d=(i(h,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=this._playPause.length;for(n=0;n<i;n++)(t=this._playPause[n]).gotoAndStop(0);for(i=this._playNoPause.length,n=0;n<i;n++)(t=this._playNoPause[n]).gotoAndStop(0);c.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),c.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=void 0;for(t=this._playStop.length,i=0;i<t;i++)(n=this._playStop[i]).gotoAndStop(0);for(t=this._playPause.length,i=0;i<t;i++)(n=this._playPause[i]).gotoAndStop(0);for(t=this._playNoPause.length,i=0;i<t;i++)(n=this._playNoPause[i]).gotoAndStop(0);c.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),c.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;t._pageUI=!0,t._seq=this._seq,this._seq++,this._pickList.push(t);var i=void 0;switch(n.command){case"PlayStop":i=this.getCustomTag(t),this._playStop.push(t),this._playStopMirror[i]=this.pickRelation(n.parent,n.command,t);break;case"PlayNoPause":i=this.getCustomTag(t),this._playNoPause.push(t),this._playNoPauseMirror[i]=this.pickRelation(n.parent,n.command,t);break;case"PlayPause":i=this.getCustomTag(t),this._playPause.push(t),this._playPauseMirror[t]=this.pickRelation(n.parent,n.command,t)}}}},{key:"getCustomTag",value:function e(t){return c.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n,i){for(var o=[],r=this._parent.getInstanceMirror(t),a=r.subset.length,s=0;s<a;s++){var u=this._parent.getInstanceMirror(r.target[r.subset[s]]),l=r.target[r.subset[s]];u.command===n&&l!==i&&o.push(l)}return o}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0;for(this.triggerBtnPlayStopMousedownBind=this.triggerBtnPlayStopMousedownBind||this.triggerBtnPlayStopMousedown.bind(this),this.triggerBtnPlayPauseMousedownBind=this.triggerBtnPlayPauseMousedownBind||this.triggerBtnPlayPauseMousedown.bind(this),this.triggerBtnPlayNoPauseMousedownBind=this.triggerBtnPlayNoPauseMousedownBind||this.triggerBtnPlayNoPauseMousedown.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerStopSoundCompleteBind=this.triggerStopSoundCompleteBind||this.triggerStopSoundComplete.bind(this),this.triggerPauseSoundCompleteBind=this.triggerPauseSoundCompleteBind||this.triggerPauseSoundComplete.bind(this),this.triggerNoPauseSoundCompleteBind=this.triggerNoPauseSoundCompleteBind||this.triggerNoPauseSoundComplete.bind(this),i=this._playStop.length,r=0;r<i;r++)(o=this._playStop[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerBtnPlayStopMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase));for(i=this._playPause.length,r=0;r<i;r++)(o=this._playPause[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerBtnPlayPauseMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase));for(i=this._playNoPause.length,r=0;r<i;r++)(o=this._playNoPause[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerBtnPlayNoPauseMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase))}},{key:"triggerBtnPlayStopMousedown",value:function e(t){var n=t.currentTarget;if(this._parent.stop(null,!0),1===n.currentFrame)return n.gotoAndStop(0),t.stopPropagation(),void t.stopImmediatePropagation();for(var i=this.getCustomTag(n),o=this._playStopMirror[i].length,r=0;r<o;r++){var a;this._playStopMirror[i][r].gotoAndStop(0)}n.gotoAndStop(1);var s=this._parent.getInstanceMirror(n),u=n.nominalBounds,l={x:n.x+u.x*n.scale,y:n.y+u.y*n.scale},d=n.parent.localToGlobal(l.x,l.y),h=this._parent.exportRoot.globalToLocal(d.x,d.y),p=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:s.args[0],path:p,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerStopSoundCompleteBind,autoPlay:!0,locX:h.x,locY:h.y,excludeTags:null,command:s.command,target:n},this._parent.iosMode?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnPlayPauseMousedown",value:function e(t){var n=t.currentTarget;if(c.default.notNull(this._parent.soundChannel)&&c.default.notNull(this._parent.soundObj)&&this._parent.soundObj.target===n)return 1===n.currentFrame?(this._parent.soundChannel.paused=!0,n.gotoAndStop(0)):(this._parent.soundChannel.paused=!1,n.gotoAndStop(1)),t.stopPropagation(),void t.stopImmediatePropagation();this._parent.stop(null,!0),n.gotoAndStop(1);var i=this._parent.getInstanceMirror(n),o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:i.args[0],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerPauseSoundCompleteBind,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n},this._parent.iosMode?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnPlayNoPauseMousedown",value:function e(t){var n=t.currentTarget;if(1===n.currentFrame)return this._parent.soundChannel.paused=!0,n.gotoAndStop(0),t.stopPropagation(),void t.stopImmediatePropagation();this._parent.stop(null,!0),n.gotoAndStop(1);var i=this._parent.getInstanceMirror(n),o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:i.args[0],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerNoPauseSoundCompleteBind,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n},this._parent.iosMode?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(c.default.isNull(this._parent.soundObj)||c.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)c.default.notNull(n)&&n.stop();else switch(i){case"fileload":c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this._parent.soundObj.target.gotoAndStop(0),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc)}}},{key:"triggerSoundWatch",value:function e(t){}},{key:"triggerPauseSoundComplete",value:function e(t){this._parent.soundObj.target.gotoAndStop(0),this.stop(),this._parent.clearSoundChannel()}},{key:"triggerNoPauseSoundComplete",value:function e(t){this._parent.soundObj.target.gotoAndStop(0),this.stop(),this._parent.clearSoundChannel()}},{key:"triggerStopSoundComplete",value:function e(t){this.stop(),this._parent.clearSoundChannel()}}]),h);function h(e){s(this,h),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._playStop=[],this._playPause=[],this._playNoPause=[],this._playStopMirror={},this._playNoPauseMirror={},this._playPauseMirror={},this._prevTime=-1,this._seq=999}t.ModulePlaySwitchSound=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleListPop=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,x=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["List","Close"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=this._listGroup.length;for(n=0;n<i;n++){t=this._listGroup[n];var o=this._parent.getInstanceMirror(t),r=o.parent[o.args[0]];if(x.default.notNull(r)){r.visible=!1;for(var a=this._parent.getInstanceMirror(r),s=a.subset.length,u=0,l=[],d=0;d<s;d++){var h=r[a.subset[d]],p=this._parent.getInstanceMirror(h);"Close"!==p.command&&"StopTouch"!==p.command&&(x.default.isNull(h._orgXY)&&(h.setTransform(h.x-h.regX*h.scaleX,h.y-h.regY*h.scaleY,h.scaleX,h.scaleY),h._orgXY={x:h.x,y:h.y}),l.push({target:h,y:h._orgXY.y,diff:0})),h.visible&&"Close"!==p.command&&"StopTouch"!==p.command&&u++}for(var c=l.sort(function(e,t){return e.y>t.y?1:-1}),f=0,g=c.length,_=1;_<g;_++){var v=c[_].target,m=c[_-1].target,b=m._orgXY.y+m.nominalBounds.height*m.scaleY,y=v._orgXY.y-b;c[_].diff=y}for(var P=null,M=f=0;M<g;M++){var O=c[M].target,S=this._parent.getInstanceMirror(O);if(O.visible&&"Close"!==S.command&&"StopTouch"!==S.command){if(O.y=c[f].y,x.default.isNull(P))O.y=c[f].y;else{var B=P.target.nominalBounds.height*P.target.scaleY;O.y=P.target.y+B+c[f].diff}f++,P=c[M]}}t.visible=0!==u}}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"List":i=this.getCustomTag(t),this._listGroup.push(t),this._listGroupControlMirror[i]=this.pickRelation(n.parent,n.command,t);break;case"Close":i=this.getCustomTag(t),this._closeGroup.push(t)}}}},{key:"getCustomTag",value:function e(t){return x.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n,i){for(var o=[],r=this._parent.getInstanceMirror(t),a=r.subset.length,s=0;s<a;s++){var u=this._parent.getInstanceMirror(r.target[r.subset[s]]),l=r.target[r.subset[s]];if(u.command===n&&l!==i){var d=this._parent.getInstanceMirror(l);o.push(d.parent[d.args[0]])}}return o}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0;for(this.triggerBtnListMousedownBind=this.triggerBtnListMousedownBind||this.triggerBtnListMousedown.bind(this),this.triggerBtnCloseMousedownBind=this.triggerBtnCloseMousedownBind||this.triggerBtnCloseMousedown.bind(this),i=this._listGroup.length,r=0;r<i;r++)if(!(o=this._listGroup[r])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer";var a=this._parent.getInstanceMirror(o),s=a.parent[a.args[0]];x.default.notNull(s)&&(s.isListPop=!0,s.visible=!1,x.default.isNull(s._orgXY)&&(s._orgXY={x:s.x,y:s.y})),o.addEventListener(this._mouseTriggerBehavior,this.triggerBtnListMousedownBind),x.default.notNull(o.EffectBase)&&x.default.applyMultiply(o.EffectBase)}for(i=this._closeGroup.length,r=0;r<i;r++)(o=this._closeGroup[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerBtnCloseMousedownBind),x.default.notNull(o.EffectBase)&&x.default.applyMultiply(o.EffectBase))}},{key:"triggerBtnListMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]];x.default.isNull(n._orgXY)&&(n.setTransform(n.x-n.regX*n.scaleX,n.y-n.regY*n.scaleY,n.scaleX,n.scaleY),n._orgXY={x:n.x,y:n.y});var r=n.y-n._orgXY.y;0!=r&&(o.y=o._orgXY.y+r),x.default.notNull(o)&&(o.visible=!o.visible);for(var a=this.getCustomTag(n),s=this._listGroupControlMirror[a].length,u=0;u<s;u++)this._listGroupControlMirror[a][u].visible=!1;t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnCloseMousedown",value:function e(t){var n=t.currentTarget,i;this._parent.getInstanceMirror(n).parent.visible=!1,t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._listGroup=[],this._listGroupControlMirror={},this._closeGroup=[],this._seq=999}t.ModuleListPop=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleSwitchPop=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,h=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["Switch","ReverseSwitch"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=void 0;for(i=this._switchGroup.length,n=0;n<i;n++){(t=this._switchGroup[n]).visible=!this._parent.actWinNavHide,t.gotoAndStop(0);var o=this._parent.getInstanceMirror(t),r=o.parent[o.args[0]];h.default.notNull(r)&&(r.visible=!1)}for(i=this._reverseSwitchGroup.length,n=0;n<i;n++){(t=this._reverseSwitchGroup[n]).visible=!this._parent.actWinNavHide,t.gotoAndStop(0);var a=this._parent.getInstanceMirror(t),s=a.parent[a.args[0]];h.default.notNull(s)&&(this._parent.actWinNavHide?s.visible=!1:s.visible=!0)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"Switch":i=this.getCustomTag(t),this._switchGroup.push(t);break;case"ReverseSwitch":i=this.getCustomTag(t),this._reverseSwitchGroup.push(t)}}}},{key:"getCustomTag",value:function e(t){return h.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0;for(this.triggerSwitchMousedownBind=this.triggerSwitchMousedownBind||this.triggerSwitchMousedown.bind(this),this.triggerReverseSwitchMousedownBind=this.triggerReverseSwitchMousedownBind||this.triggerReverseSwitchMousedown.bind(this),r=this._switchGroup.length,o=0;o<r;o++)if(!(i=this._switchGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var a=this._parent.getInstanceMirror(i),s=a.parent[a.args[0]];h.default.notNull(s)&&(s.visible=!1),i.addEventListener(this._mouseTriggerBehavior,this.triggerSwitchMousedownBind),h.default.notNull(i.EffectBase)&&h.default.applyMultiply(i.EffectBase)}for(r=this._reverseSwitchGroup.length,o=0;o<r;o++)if(!(i=this._reverseSwitchGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var u=this._parent.getInstanceMirror(i),l=u.parent[u.args[0]];h.default.notNull(l)&&(l.visible=!0),i.addEventListener(this._mouseTriggerBehavior,this.triggerReverseSwitchMousedownBind),h.default.notNull(i.EffectBase)&&h.default.applyMultiply(i.EffectBase)}}},{key:"triggerSwitchMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]];0===n.currentFrame?n.gotoAndStop(1):n.gotoAndStop(0),h.default.notNull(o)&&(o.visible=!o.visible),this.processToggleBehavior(n),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerReverseSwitchMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]];0===n.currentFrame?n.gotoAndStop(1):n.gotoAndStop(0),h.default.notNull(o)&&(o.visible=!o.visible),this.processToggleBehavior(n),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"processToggleBehavior",value:function e(t){var n=this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(h.default.notNull(n.args[1])&&i.visible){var o=void 0,r=void 0,a=void 0;for(a=this._switchGroup.length,r=0;r<a;r++)if((o=this._switchGroup[r])!==t){var s=this._parent.getInstanceMirror(o),u=s.parent[s.args[0]];h.default.notNull(s.args[1])&&s.args[1]===n.args[1]&&u.visible&&(o.gotoAndStop(0),h.default.notNull(u)&&(u.visible=!1))}for(a=this._reverseSwitchGroup.length,r=0;r<a;r++)if((o=this._reverseSwitchGroup[r])!==t){var l=this._parent.getInstanceMirror(o),d=l.parent[l.args[0]];h.default.notNull(l.args[1])&&l.args[1]===n.args[1]&&d.visible&&(o.gotoAndStop(0),h.default.notNull(d)&&(d.visible=!1))}}}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._switchGroup=[],this._reverseSwitchGroup=[],this._seq=999}t.ModuleSwitchPop=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleStopTouch=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=["StopTouch"],d=(i(h,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==l.indexOf(e)||-1!==l.indexOf(t):-1!==l.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==l.indexOf(e)||-1!==l.indexOf(t):-1!==l.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init()}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);if(-1!==l.indexOf(n.command)){if(this._pickList.includes(t))return;t._pageUI=!0,this._pickList.push(t)}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=this._pickList.length,o=void 0;this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this);for(var r=0;r<i;r++)(o=this._pickList[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor=null,o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind),a.default.notNull(o.EffectBase)&&a.default.applyMultiply(o.EffectBase))}},{key:"triggerMousedown",value:function e(t){t.stopPropagation(),t.stopImmediatePropagation()}}]),h);function h(e){u(this,h),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList}t.ModuleStopTouch=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleDragListPop=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,L=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["DragList","DragMainMenuList"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init(),L.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1)}},{key:"reset",value:function e(){this.isInited||this.init(),L.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);var t=void 0,n=void 0,i=void 0;for(i=this._dragListGroup.length,n=0;n<i;n++){(t=this._dragListGroup[n]).addEventListener("click",this.triggerBtnDragListClickBind);var o=this._parent.getInstanceMirror(t),r=o.parent[o.args[0]];if(L.default.notNull(r)){r.visible=!1;for(var a=this._parent.getInstanceMirror(r),s=a.subset.length,u=0,l=0;l<s;l++){var d=r[a.subset[l]],h=this._parent.getInstanceMirror(d);d.visible&&"Close"!==h.command&&u++}t.visible=0!==u}}for(i=this._dragMainMenuListGroup.length,n=0;n<i;n++){(t=this._dragMainMenuListGroup[n]).addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),t.addEventListener("click",this.triggerBtnDragMainMenuListClickBind),t.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),t.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind);var p=this._parent.getInstanceMirror(t),c=p.parent[p.args[0]];if(L.default.notNull(c)){c.visible=!1;for(var f=this._parent.getInstanceMirror(c),g=f.subset.length,_=0,v=[],m=0;m<g;m++){var b=c[f.subset[m]],y=this._parent.getInstanceMirror(b);"Close"!==y.command&&(L.default.isNull(b._orgXY)&&(b.setTransform(b.x-b.regX*b.scaleX,b.y-b.regY*b.scaleY,b.scaleX,b.scaleY),b._orgXY={x:b.x,y:b.y}),v.push({target:b,y:b._orgXY.y,diff:0})),"List"===y.command&&(c[y.args[0]].visible=!1),b.visible&&"Close"!==y.command&&_++}for(var P=v.sort(function(e,t){return e.y>t.y?1:-1}),M=0,O=P.length,S=1;S<O;S++){var B=P[S].target,x=P[S-1].target,k=x._orgXY.y+x.nominalBounds.height*x.scaleY,w=B._orgXY.y-k;P[S].diff=w}for(var C=null,I=M=0;I<O;I++){var N=P[I].target,T=this._parent.getInstanceMirror(N);if(N.visible&&"Close"!==T.command){if(N.y=P[M].y,L.default.isNull(C))N.y=P[M].y;else{var j=C.target.nominalBounds.height*C.target.scaleY;N.y=C.target.y+j+P[M].diff}M++,C=P[I]}}t.parent.visible=0!==_}t.visible=!0,p.parent.btnFixed.visible=!1,p.parent.btnNotFixed.visible=!0,p.parent.btnDisplay.visible=!1,p.parent.btnHide.visible=!0,p.parent.btnDisplay.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),p.parent.btnHide.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),p.parent.btnDisplay.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),p.parent.btnDisplay.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),p.parent.btnDisplay.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),p.parent.btnHide.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),p.parent.btnHide.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),p.parent.btnHide.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"DragList":i=this.getCustomTag(t),this._dragListGroup.push(t);break;case"DragMainMenuList":i=this.getCustomTag(t),this._dragMainMenuListGroup.push(t),this._dragMainMenuListGroupMirror[i]=this.pickRelation(n.parent,n.args[0])}}}},{key:"getCustomTag",value:function e(t){return L.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0;for(this.triggerBtnDragListMousedownBind=this.triggerBtnDragListMousedownBind||this.triggerBtnDragListMousedown.bind(this),this.triggerBtnDragListClickBind=this.triggerBtnDragListClickBind||this.triggerBtnDragListClick.bind(this),this.triggerBtnDragListPressmoveBind=this.triggerBtnDragListPressmoveBind||this.triggerBtnDragListPressmove.bind(this),this.triggerBtnDragListPressupBind=this.triggerBtnDragListPressupBind||this.triggerBtnDragListPressup.bind(this),this.triggerBtnDragMainMenuListMousedownBind=this.triggerBtnDragMainMenuListMousedownBind||this.triggerBtnDragMainMenuListMousedown.bind(this),this.triggerBtnDragMainMenuListClickBind=this.triggerBtnDragMainMenuListClickBind||this.triggerBtnDragMainMenuListClick.bind(this),this.triggerBtnDragMainMenuListPressmoveBind=this.triggerBtnDragMainMenuListPressmoveBind||this.triggerBtnDragMainMenuListPressmove.bind(this),this.triggerBtnDragMainMenuListPressupBind=this.triggerBtnDragMainMenuListPressupBind||this.triggerBtnDragMainMenuListPressup.bind(this),this.triggerBtnDragMainMenuListFuncMousedownBind=this.triggerBtnDragMainMenuListFuncMousedownBind||this.triggerBtnDragMainMenuListFuncMousedown.bind(this),r=this._dragListGroup.length,o=0;o<r;o++)if(!(i=this._dragListGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var a=this._parent.getInstanceMirror(i);a.parent.orgX=a.parent.x,a.parent.orgY=a.parent.y;var s=a.parent[a.args[0]];L.default.notNull(s)&&(s.isListPop=!0,s.visible=!1),i.addEventListener("mousedown",this.triggerBtnDragListMousedownBind),i.addEventListener("click",this.triggerBtnDragListClickBind),i.addEventListener("pressmove",this.triggerBtnDragListPressmoveBind,L.default.supportPassive()),i.addEventListener("pressup",this.triggerBtnDragListPressupBind),L.default.notNull(i.EffectBase)&&L.default.applyMultiply(i.EffectBase)}for(r=this._dragMainMenuListGroup.length,o=0;o<r;o++)if(!(i=this._dragMainMenuListGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var u=this._parent.getInstanceMirror(i),l=u.parent[u.args[0]];if(u.parent.orgX=u.parent.x,u.parent.orgY=u.parent.y,L.default.notNull(l)){l.isListPop=!0,l.visible=!1;for(var d=this._parent.getInstanceMirror(l),h=d.subset.length,p=0;p<h;p++){var c=l[d.subset[p]],f=this._parent.getInstanceMirror(c);"List"===f.command&&(l[f.args[0]].visible=!1)}}i.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),i.addEventListener("click",this.triggerBtnDragMainMenuListClickBind),i.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),i.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),L.default.notNull(i.EffectBase)&&L.default.applyMultiply(i.EffectBase),i.visible=!0,u.parent.btnFixed.visible=!1,u.parent.btnNotFixed.visible=!0,u.parent.btnDisplay.visible=!1,u.parent.btnHide.visible=!0,u.parent.btnFixed.dragMainMenuList=i,u.parent.btnNotFixed.dragMainMenuList=i,u.parent.btnDisplay.dragMainMenuList=i,u.parent.btnHide.dragMainMenuList=i,u.parent.btnFixed.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),u.parent.btnNotFixed.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),u.parent.btnDisplay.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),u.parent.btnHide.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),u.parent.btnDisplay.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),u.parent.btnDisplay.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),u.parent.btnDisplay.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),u.parent.btnHide.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),u.parent.btnHide.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),u.parent.btnHide.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind)}}},{key:"triggerBtnDragListClick",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]];L.default.notNull(o)&&(o.visible=!o.visible),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragMainMenuListClick",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]];if(L.default.notNull(o)){o.visible=!o.visible;for(var r=this._parent.getInstanceMirror(o),a=r.subset.length,s=0;s<a;s++){var u=o[r.subset[s]],l=this._parent.getInstanceMirror(u);"List"===l.command&&(o[l.args[0]].visible=!1)}}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragMainMenuListFuncMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent,r=void 0,a=void 0;switch(i.command){case"btnFixed":o.btnFixed.visible=!1,o.btnNotFixed.visible=!0,n.dragMainMenuList.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),n.dragMainMenuList.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),n.dragMainMenuList.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),o.btnDisplay.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),o.btnDisplay.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),o.btnDisplay.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),o.btnHide.addEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),o.btnHide.addEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),o.btnHide.addEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind);break;case"btnNotFixed":o.btnFixed.visible=!0,o.btnNotFixed.visible=!1,n.dragMainMenuList.removeEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),n.dragMainMenuList.removeEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),n.dragMainMenuList.removeEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),o.btnDisplay.removeEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),o.btnDisplay.removeEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),o.btnDisplay.removeEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind),o.btnHide.removeEventListener("mousedown",this.triggerBtnDragMainMenuListMousedownBind),o.btnHide.removeEventListener("pressmove",this.triggerBtnDragMainMenuListPressmoveBind,L.default.supportPassive()),o.btnHide.removeEventListener("pressup",this.triggerBtnDragMainMenuListPressupBind);break;case"btnDisplay":if(o.btnHide.visible=!0,o.btnDisplay.visible=!1,a=(r=this._parent.getInstanceMirror(n.dragMainMenuList)).parent[r.args[0]],L.default.notNull(a)){a.visible=!1;for(var s=this._parent.getInstanceMirror(a),u=s.subset.length,l=0;l<u;l++){var d=a[s.subset[l]],h=this._parent.getInstanceMirror(d);"List"===h.command&&(a[h.args[0]].visible=!1)}}n.dragMainMenuList.visible=!0;break;case"btnHide":if(o.btnHide.visible=!1,o.btnDisplay.visible=!0,a=(r=this._parent.getInstanceMirror(n.dragMainMenuList)).parent[r.args[0]],L.default.notNull(a)){a.visible=!1;for(var p=this._parent.getInstanceMirror(a),c=p.subset.length,f=0;f<c;f++){var g=a[p.subset[f]],_=this._parent.getInstanceMirror(g);"List"===_.command&&(a[_.args[0]].visible=!1)}}n.dragMainMenuList.visible=!1}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragListMousedown",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.parent.globalToLocal(t.stageX,t.stageY);this.isCheckMove=!1,n.parent.fixX=n.parent.x-i.x,n.parent.fixY=n.parent.y-i.y,n.parent.startX=n.parent.x,n.parent.startY=n.parent.y,t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragListPressmove",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget;n.parent.parent.setChildIndex(n.parent,n.parent.parent.getNumChildren()-1);var i=n.parent.parent.globalToLocal(t.stageX,t.stageY);n.parent.x=i.x+n.parent.fixX,n.parent.y=i.y+n.parent.fixY;var o=Math.abs(n.parent.x-n.parent.startX),r=Math.abs(n.parent.y-n.parent.startY),a;60<Math.sqrt(Math.pow(o,2)+Math.pow(r,2))&&n.removeEventListener("click",this.triggerBtnDragListClickBind),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragListPressup",value:function e(t){var n;this._parent.setPressEventIsOn(!1),t.currentTarget.addEventListener("click",this.triggerBtnDragListClickBind),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragMainMenuListMousedown",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.parent.globalToLocal(t.stageX,t.stageY);this.isCheckMove=!1,n.parent.fixX=n.parent.x-i.x,n.parent.fixY=n.parent.y-i.y,n.parent.startX=n.parent.x,n.parent.startY=n.parent.y,t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragMainMenuListPressmove",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget;n.parent.parent.setChildIndex(n.parent,n.parent.parent.getNumChildren()-1);var i=n.parent.parent.globalToLocal(t.stageX,t.stageY);n.parent.x=i.x+n.parent.fixX,n.parent.y=i.y+n.parent.fixY;var o=Math.abs(n.parent.x-n.parent.startX),r=Math.abs(n.parent.y-n.parent.startY),a,s;60<Math.sqrt(Math.pow(o,2)+Math.pow(r,2))&&("DragMainMenuList"===this._parent.getInstanceMirror(n).command?n.removeEventListener("click",this.triggerBtnDragMainMenuListClickBind):n.removeEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind)),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragMainMenuListPressup",value:function e(t){this._parent.setPressEventIsOn(!1);var n=t.currentTarget,i;"DragMainMenuList"===this._parent.getInstanceMirror(n).command?n.addEventListener("click",this.triggerBtnDragMainMenuListClickBind):n.addEventListener("click",this.triggerBtnDragMainMenuListFuncMousedownBind),t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._parent=e,this._pickList,this._dragListGroup=[],this._dragMainMenuListGroup=[],this._dragMainMenuListGroupMirror={},this._seq=999}t.ModuleDragListPop=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModulePageActSoundMV=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,B=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["ActMV","ActVideo","AbortActMV","OnceActVideo"],l={ActMV:"mini-wait",ActVideo:"mini-wait",AbortActMV:"none",OnceActVideo:"none"},d=!1,h=!0,p=.5,c=(i(f,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init();for(var t=!this._parent.stage.contains(this._parent.exportRoot),n=this._actMVGroup.length,i=void 0,o=void 0,r=0;r<n;r++){i=this._actMVGroup[r];var a=(o=this._parent.getInstanceMirror(i)).parent[o.args[0]];if(B.default.notNull(a)){a._changeFinalFrame?a.gotoAndStop(a._changeFinalFrame):a.gotoAndStop(0);var s=a;if(a.useGL&&B.default.notNull(s)){s.bitmapCache&&(s.uncache(),this._parent.stage.update());var u=s._maskBase;if(u){if(this._parent.stage.isWebGL){var l=s.scaleX/u.scaleX,d=s.scaleY/u.scaleY;s.cache(u.nominalBounds.x/l,u.nominalBounds.y/d,u.nominalBounds.width/l,u.nominalBounds.height/d,s._webGLCacheRectSize),s.useGL=!1}}else this._parent.stage.isWebGL;this._parent.stage.update()}a._abortZeroFrame?(a.visible=!1,a.bitmapCache&&(a.uncache(),this._parent.stage.update()),t&&a._maskBase&&a._maskBase.bitmapCache&&a._maskBase.uncache()):t?(a.bitmapCache&&(a.uncache(),this._parent.stage.update()),a._maskBase&&a._maskBase.bitmapCache&&a._maskBase.uncache()):a.bitmapCache&&(a.updateCache(),this._parent.stage.update())}}B.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),B.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc),B.default.notNull(this._parent.videoChannel)&&(B.default.notNull(this._parent.videoChannel.videoBitmap)&&(B.default.notNull(this._parent.videoChannel.videoBitmap.parent)&&this._parent.videoChannel.videoBitmap.parent.removeChild(this._parent.videoChannel.videoBitmap),this._parent.videoChannel.videoBitmap=null,this._parent.videoChannel.videoBuffer=null),this._parent.videoChannel.removeEventListener("complete",this._parent.videoObj.completeFunc)),B.default.notNull(this._parent.videoObj)&&(B.default.notNull(this._parent.videoObj.videoBase)&&(this._parent.videoObj.videoBase.visible=!1,this._parent.videoObj.videoBase._abortZeroFrame&&(this._parent.videoObj.videoBase.visible=!1),this._parent.videoObj.videoBase.bitmapCache&&(this._parent.videoObj.videoBase.uncache(),this._parent.stage.update())),this._parent.createjs.Ticker.removeEventListener("tick",this._parent.videoObj.watchFunc)),n=this._actVideoGroup.length;for(var h=0;h<n;h++){i=this._actVideoGroup[h];var p=(o=this._parent.getInstanceMirror(i)).parent[o.args[0]];B.default.notNull(p)&&t&&(p.bitmapCache&&(p.uncache(),this._parent.stage.update()),p._maskBase&&p._maskBase.bitmapCache&&p._maskBase.uncache())}n=this._onceActVideoGroup.length;for(var c=0;c<n;c++){i=this._onceActVideoGroup[c];var f=(o=this._parent.getInstanceMirror(i)).parent[o.args[0]];B.default.notNull(f)&&t&&(f.bitmapCache&&(f.uncache(),this._parent.stage.update()),f._maskBase&&f._maskBase.bitmapCache&&f._maskBase.uncache())}var g=this;this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),t||(this._timeout=setTimeout(function(){g._parent.stage.contains(g._parent.exportRoot)||g.stop()},100))}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"ActMV":this._actMVGroup.push(t);break;case"AbortActMV":this._abortActMVGroup.push(t);break;case"ActVideo":this._actVideoGroup.push(t);break;case"OnceActVideo":this._onceActVideoGroup.push(t)}}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerVideoMousedownBind=this.triggerVideoMousedownBind||this.triggerVideoMousedown.bind(this),this.triggerVideoWatchBind=this.triggerVideoWatchBind||this.triggerVideoWatch.bind(this),this.triggerVideoCompleteBind=this.triggerVideoCompleteBind||this.triggerVideoComplete.bind(this),this.triggerOnceVideoMousedownBind=this.triggerOnceVideoMousedownBind||this.triggerOnceVideoMousedown.bind(this),this.triggerOnceVideoWatchBind=this.triggerOnceVideoWatchBind||this.triggerOnceVideoWatch.bind(this),this.triggerOnceVideoCompleteBind=this.triggerOnceVideoCompleteBind||this.triggerOnceVideoComplete.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundMousedownBind=this.triggerSoundMousedownBind||this.triggerSoundMousedown.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this),this.triggerAbortSoundMousedownBind=this.triggerAbortSoundMousedownBind||this.triggerAbortSoundMousedown.bind(this),this.checkVideoPlayStatusBind=this.checkVideoPlayStatusBind||this.checkVideoPlayStatus.bind(this),this.checkOnceVideoPlayStatusBind=this.checkOnceVideoPlayStatusBind||this.checkOnceVideoPlayStatus.bind(this);var i=void 0;i=this._actMVGroup.length;for(var o=void 0,r=0;r<i;r++)if(!(o=this._actMVGroup[r])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerSoundMousedownBind),B.default.notNull(o.EffectBase)&&B.default.applyMultiply(o.EffectBase);var a=this._parent.getInstanceMirror(o),s=a.parent[a.args[0]];if(B.default.notNull(s)){s._abortZeroFrame=!1,s._changeFinalFrame=0;var u=this._parent.getInstanceMirror(o);s._webGLCacheRectSize=s.scale?s.scale:.5,o._animateBase=s;var l=u.parent[u.args[0]+"_mask"];if(B.default.notNull(l)){if(u.parent.removeChild(l),l.cache(l.nominalBounds.x,l.nominalBounds.y,l.nominalBounds.width,l.nominalBounds.height,s._webGLCacheRectSize),s._maskBase=l,this._parent.stage.isWebGL&&(s.filters=[new createjs.AlphaMaskFilter(l.cacheCanvas)],!s._abortZeroFrame&&B.default.notNull(l))){var d=s.scaleX/l.scaleX,h=s.scaleY/l.scaleY;s.cache(l.nominalBounds.x/d,l.nominalBounds.y/h,l.nominalBounds.width/d,l.nominalBounds.height/h,s._webGLCacheRectSize),s.useGL=!1}}else this._parent.stage.isWebGL}}i=this._abortActMVGroup.length;for(var p=0;p<i;p++)if(!(o=this._abortActMVGroup[p])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerAbortSoundMousedownBind),B.default.notNull(o.EffectBase)&&B.default.applyMultiply(o.EffectBase);var c=this._parent.getInstanceMirror(o),f=c.parent[c.args[0]];B.default.notNull(f)&&(o._animateBase=f,o._animateBase._playCompleteToEndFrame=!0,f._abortBtn=o)}i=this._actVideoGroup.length;for(var g=0;g<i;g++)if(!(o=this._actVideoGroup[g])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerVideoMousedownBind),B.default.notNull(o.EffectBase)&&B.default.applyMultiply(o.EffectBase);var _=this._parent.getInstanceMirror(o),v=_.parent[_.args[0]];if(B.default.notNull(v)){v._abortZeroFrame=!0,v.visible=!1;var m=this._parent.getInstanceMirror(o);v._webGLCacheRectSize=v.scale?v.scale:.5,o._animateBase=v;var b=m.parent[m.args[0]+"_mask"];B.default.notNull(b)&&(m.parent.removeChild(b),b.cache(b.nominalBounds.x,b.nominalBounds.y,b.nominalBounds.width,b.nominalBounds.height,v._webGLCacheRectSize),v._maskBase=b,this._parent.stage.isWebGL&&(v.filters=[new createjs.AlphaMaskFilter(b.cacheCanvas)]))}}i=this._onceActVideoGroup.length;for(var y=0;y<i;y++)if(!(o=this._onceActVideoGroup[y])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerOnceVideoMousedownBind),B.default.notNull(o.EffectBase)&&B.default.applyMultiply(o.EffectBase);var P=this._parent.getInstanceMirror(o),M=P.parent[P.args[0]];if(B.default.notNull(M)){M._abortZeroFrame=!0,M.visible=!1;var O=this._parent.getInstanceMirror(o);M._webGLCacheRectSize=M.scale?M.scale:.5,o._animateBase=M;var S=O.parent[O.args[0]+"_mask"];B.default.notNull(S)&&(O.parent.removeChild(S),S.cache(S.nominalBounds.x,S.nominalBounds.y,S.nominalBounds.width,S.nominalBounds.height,M._webGLCacheRectSize),M._maskBase=S,this._parent.stage.isWebGL&&(M.filters=[new createjs.AlphaMaskFilter(S.cacheCanvas)]))}}}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"triggerAbortSoundMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/",l=n._animateBase;if(B.default.notNull(l)){l.bitmapCache&&l.uncache(),2<=n.totalFrames?0===n.currentFrame?(l._changeFinalFrame=l.totalFrames-1,n.gotoAndStop(1)):(l._changeFinalFrame=0,n.gotoAndStop(0)):l._changeFinalFrame=l.totalFrames-1;var d=l._maskBase;if(l.gotoAndStop(l._changeFinalFrame),d){if(this._parent.stage.isWebGL){var h=l.scaleX/d.scaleX,p=l.scaleY/d.scaleY;l.cache(d.nominalBounds.x/h,d.nominalBounds.y/p,d.nominalBounds.width/h,d.nominalBounds.height/p,l._webGLCacheRectSize),l.useGL=!1}}else this._parent.stage.isWebGL&&(l.cache(l.nominalBounds.x,l.nominalBounds.y,l.nominalBounds.width,l.nominalBounds.height,l._webGLCacheRectSize),l.useGL=!1);this._parent.stage.update()}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSoundMousedown",value:function e(t){var n=t.currentTarget._animateBase,i=0;n&&n._changeFinalFrame&&0!==n._changeFinalFrame&&(i=n._changeFinalFrame,n._changeFinalFrame=0),this._parent.stop(null,!0),n&&(n._changeFinalFrame=i);var o=t.currentTarget,r=this._parent.getInstanceMirror(o),a=o.nominalBounds,s={x:o.x+a.x*o.scale,y:o.y+a.y*o.scale},u=o.parent.localToGlobal(s.x,s.y),l=this._parent.exportRoot.globalToLocal(u.x,u.y),d=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+o._replacePath+"sounds/":o._replacePath+"./sounds/",h=o._animateBase;if(B.default.notNull(h)){h._abortZeroFrame&&(h.visible=!1),h.bitmapCache&&h.uncache();var p=h._maskBase;if(p){if(this._parent.stage.isWebGL){var c=h.scaleX/p.scaleX,f=h.scaleY/p.scaleY;h.cache(p.nominalBounds.x/c,p.nominalBounds.y/f,p.nominalBounds.width/c,p.nominalBounds.height/f,h._webGLCacheRectSize,{useGL:"stage"}),h.useGL=!0}}else this._parent.stage.isWebGL;this._parent.stage.update()}this._parent.soundObj={id:r.args[1],path:d,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:l.x,locY:l.y,excludeTags:null,command:r.command,target:o};var g=this.checkCommandMode(r.command);this._parent.iosMode&&"none"===g?B.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):B.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(B.default.isNull(this._parent.soundObj)||B.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)B.default.notNull(n)&&n.stop();else switch(i){case"fileload":B.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this.stop(),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc);var o=this.checkCommandMode(this._parent.soundObj.command);"none"!==o&&this._parent.openSoundPlayBar(o,this._parent.soundObj)}}},{key:"triggerSoundWatch",value:function e(t){if(B.default.notNull(this._parent.soundChannel)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration,o=this._prevTime;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var r=this._parent.lib.properties.fps,a=Math.round(n/1e3*r),s=this._parent.soundObj.target,u=this._parent.getInstanceMirror(s),l=u.parent[u.args[0]];if(B.default.notNull(l)){var d=l.totalFrames;l._playCompleteToEndFrame&&a===d&&(l._changeFinalFrame=l.totalFrames-1),l._playCompleteToEndFrame&&0!==l._changeFinalFrame&&0===a&&this._parent.soundChannel.paused&&(a=l._changeFinalFrame,B.default.notNull(l._abortBtn)&&2<=l._abortBtn.totalFrames&&l._abortBtn.gotoAndStop(1)),a<d&&(l.gotoAndStop(a),l.bitmapCache?(l.visible||l._abortZeroFrame&&0<a&&(l.visible=!0),l.updateCache(),this._parent.stage.update()):l.visible||l._abortZeroFrame&&0<a&&(l.visible=!0))}}}},{key:"triggerSoundComplete",value:function e(t){var n=this._parent.soundObj.target,i=void 0,o=void 0;B.default.notNull(n)&&(o=(i=this._parent.getInstanceMirror(n)).parent[i.args[0]]);var r=this.checkCommandMode(this._parent.soundObj.command);if("mini-close"===r||"normal-close"===r||"ex-normal-close"===r||"none"===r)this.stop(),this._parent.closeSoundPlayBar(),this._parent.clearSoundChannel();else if(this._parent.stopSoundPlayBar(),this._parent.soundObj.autoPlay=!1,this._parent.iosMode&&"none"===r?B.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):B.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),B.default.notNull(o)){o._playCompleteToEndFrame&&(o._changeFinalFrame=o.totalFrames-1,o._playedEndFinish=!0);var a=o._maskBase;if(o.bitmapCache){if(B.default.notNull(o))if(o.bitmapCache&&o.uncache(),o._changeFinalFrame?o.gotoAndStop(o._changeFinalFrame):o.gotoAndStop(0),a){if(this._parent.stage.isWebGL){var s=o.scaleX/a.scaleX,u=o.scaleY/a.scaleY;o.cache(a.nominalBounds.x/s,a.nominalBounds.y/u,a.nominalBounds.width/s,a.nominalBounds.height/u,o._webGLCacheRectSize),o.useGL=!1}}else this._parent.stage.isWebGL&&(o.cache(o.nominalBounds.x,o.nominalBounds.y,o.nominalBounds.width,o.nominalBounds.height,o._webGLCacheRectSize),o.useGL=!1);this._parent.stage.update()}o._abortZeroFrame&&(o.visible=!1)}}},{key:"triggerVideoMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]],r=n._animateBase;if(B.default.notNull(r)){r._abortZeroFrame&&(r.visible=!1),r.bitmapCache&&r.uncache();var a=r._maskBase;if(a){if(this._parent.stage.isWebGL){var s=r.scaleX/a.scaleX,u=r.scaleY/a.scaleY;r.cache(a.nominalBounds.x/s,a.nominalBounds.y/u,a.nominalBounds.width/s,a.nominalBounds.height/u,r._webGLCacheRectSize,{useGL:"stage"}),r.useGL=!0}}else this._parent.stage.isWebGL;this._parent.stage.update()}null!==this._parent.assetVideoPath&&""!==this._parent.assetVideoPath||(this._parent.assetVideoPath=this._parent.assetSoundPath),null!==this._parent.pageVideoPath&&""!==this._parent.pageVideoPath||(this._parent.pageVideoPath=this._parent.pageSoundPath);var l=n.nominalBounds,d={x:n.x+l.x*n.scale,y:n.y+l.y*n.scale},h=n.parent.localToGlobal(d.x,d.y),p=this._parent.exportRoot.globalToLocal(h.x,h.y),c=this._parent.assetVideoPath?this._parent.assetVideoPath:this._parent.pageVideoPath?this._parent.pageVideoPath+n._replacePath+"videos/":n._replacePath+"./videos/",f=navigator.platform.match(/iPhone|iPod|iPad|Mac/)?15:0;this._parent.videoObj={id:i.args[1],path:c,loop:0,offset:f,volume:this._parent.volume,callback:this.checkVideoPlayStatusBind,watchFunc:this.triggerVideoWatchBind,completeFunc:this.triggerVideoCompleteBind,autoPlay:!0,locX:p.x,locY:p.y,excludeTags:null,command:i.command,target:n,videoBase:o},B.default.playWebVideo(this._parent.createjs,this._parent.videoObj.path,this._parent.videoObj.id,this._parent.videoObj.loop,this._parent.videoObj.offset,this._parent.videoObj.volume,this._parent.videoObj.callback),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkVideoPlayStatus",value:function e(t,n,i){if(B.default.isNull(this._parent.videoObj)||B.default.notNull(this._parent.videoObj)&&this._parent.videoObj.id!==t)B.default.notNull(n)&&n.stop();else switch(i){case"fileload":break;case"fileerror":this.stop(),this._parent.videoObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.videoChannel=n,this._parent.videoChannel.video.muted=!0,this._parent.videoChannel.paused=!this._parent.videoObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.videoObj.watchFunc),this._parent.videoChannel.addEventListener("complete",this._parent.videoObj.completeFunc);var o=this.checkCommandMode(this._parent.videoObj.command);"none"!==o&&this._parent.openVideoPlayBar(o,this._parent.videoObj)}}},{key:"triggerVideoWatch",value:function e(t){if(B.default.notNull(this._parent.videoChannel)&&B.default.notNull(this._parent.videoObj))if(B.default.isNull(this._parent.videoChannel.videoBitmap))if(this._parent.stage.isWebGL){var n=function e(){o._video.currentTime!==u||o._video.currentTime===u&&3===l?(o._video.currentTime!==u?l=0:l<Number.MAX_VALUE&&l++,u=o._video.currentTime,r.image._invalid=!0,r.parent&&(!i._parent.videoObj.videoBase.visible&&0<=o._video.currentTime&&(i._parent.videoObj.videoBase.visible=!0,o._video.muted=!1),r.parent.bitmapCache&&r.parent.updateCache())):l<Number.MAX_VALUE&&l++,r.parent&&requestAnimationFrame(e)};this._parent.videoChannel.videoBuffer=new this._parent.createjs.VideoBuffer(this._parent.videoChannel.video),this._parent.videoChannel.videoBitmap=new this._parent.createjs.Bitmap(this._parent.videoChannel.videoBuffer),B.default.isNull(this._parent.videoChannel.videoBitmap.parent)&&B.default.notNull(this._parent.videoObj.videoBase)&&this._parent.videoObj.videoBase.addChild(this._parent.videoChannel.videoBitmap);var i=this,o=this._parent.videoChannel.videoBuffer,r=this._parent.videoChannel.videoBitmap,a=this._parent.videoObj.offset,s=this._parent.videoChannel,u=-1,l=0;requestAnimationFrame(n)}else this._parent.videoChannel.videoBuffer=new this._parent.createjs.VideoBuffer(this._parent.videoChannel.video),this._parent.videoChannel.videoBitmap=new this._parent.createjs.Bitmap(this._parent.videoChannel.videoBuffer),B.default.isNull(this._parent.videoChannel.videoBitmap.parent)&&(B.default.notNull(this._parent.videoObj.videoBase)&&(this._parent.videoObj.videoBase.addChild(this._parent.videoChannel.videoBitmap),this._parent.videoChannel.video.muted=!1),this._parent.videoObj.videoBase.visible=!0);else!this._parent.stage.isWebGL&&this._parent.videoChannel.paused&&this._parent.videoChannel.position===this._parent.videoObj.offset&&B.default.notNull(this._parent.videoChannel.videoBuffer)&&(this._parent.videoChannel.videoBuffer._lastTime=-1)}},{key:"triggerVideoComplete",value:function e(t){var n=this._parent.videoObj.videoBase,i=this.checkCommandMode(this._parent.videoObj.command);"mini-close"===i||"normal-close"===i||"ex-normal-close"===i||"none"===i?(this.stop(),this._parent.closeVideoPlayBar(),this._parent.clearVideoChannel()):(this._parent.stopVideoPlayBar(),this._parent.videoObj.autoPlay=!1,B.default.notNull(n)&&(n.bitmapCache&&(n.updateCache(),this._parent.stage.update()),n._abortZeroFrame))}},{key:"triggerOnceVideoMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]],r=n._animateBase;if(B.default.notNull(r)){r._abortZeroFrame&&(r.visible=!1),r.bitmapCache&&r.uncache();var a=r._maskBase;if(a){if(this._parent.stage.isWebGL){var s=r.scaleX/a.scaleX,u=r.scaleY/a.scaleY;r.cache(a.nominalBounds.x/s,a.nominalBounds.y/u,a.nominalBounds.width/s,a.nominalBounds.height/u,r._webGLCacheRectSize,{useGL:"stage"}),r.useGL=!0}}else this._parent.stage.isWebGL;this._parent.stage.update()}null!==this._parent.assetVideoPath&&""!==this._parent.assetVideoPath||(this._parent.assetVideoPath=this._parent.assetSoundPath),null!==this._parent.pageVideoPath&&""!==this._parent.pageVideoPath||(this._parent.pageVideoPath=this._parent.pageSoundPath);var l=n.nominalBounds,d={x:n.x+l.x*n.scale,y:n.y+l.y*n.scale},h=n.parent.localToGlobal(d.x,d.y),p=this._parent.exportRoot.globalToLocal(h.x,h.y),c=this._parent.assetVideoPath?this._parent.assetVideoPath:this._parent.pageVideoPath?this._parent.pageVideoPath+n._replacePath+"videos/":n._replacePath+"./videos/",f=navigator.platform.match(/iPhone|iPod|iPad|Mac/)?15:0;this._parent.videoObj={id:i.args[1],path:c,loop:0,offset:f,volume:this._parent.volume,callback:this.checkOnceVideoPlayStatusBind,watchFunc:this.triggerOnceVideoWatchBind,completeFunc:this.triggerOnceVideoCompleteBind,autoPlay:!0,locX:p.x,locY:p.y,excludeTags:null,command:i.command,target:n,videoBase:o},B.default.playWebVideo(this._parent.createjs,this._parent.videoObj.path,this._parent.videoObj.id,this._parent.videoObj.loop,this._parent.videoObj.offset,this._parent.videoObj.volume,this._parent.videoObj.callback),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkOnceVideoPlayStatus",value:function e(t,n,i){if(B.default.isNull(this._parent.videoObj)||B.default.notNull(this._parent.videoObj)&&this._parent.videoObj.id!==t)B.default.notNull(n)&&n.stop();else switch(i){case"fileload":break;case"fileerror":this.stop(),this._parent.videoObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.videoChannel=n,this._parent.videoChannel.video.muted=!0,this._parent.videoChannel.paused=!this._parent.videoObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.videoObj.watchFunc),this._parent.videoChannel.addEventListener("complete",this._parent.videoObj.completeFunc);var o=this.checkCommandMode(this._parent.videoObj.command);"none"!==o&&this._parent.openVideoPlayBar(o,this._parent.videoObj)}}},{key:"triggerOnceVideoWatch",value:function e(t){if(B.default.notNull(this._parent.videoChannel)&&B.default.notNull(this._parent.videoObj))if(B.default.isNull(this._parent.videoChannel.videoBitmap))if(this._parent.stage.isWebGL){var n=function e(){o._video.currentTime!==u||o._video.currentTime===u&&3===l?(o._video.currentTime!==u?l=0:l<Number.MAX_VALUE&&l++,u=o._video.currentTime,r.image._invalid=!0,r.parent&&(!i._parent.videoObj.videoBase.visible&&0<=o._video.currentTime&&(i._parent.videoObj.videoBase.visible=!0,o._video.muted=!1),r.parent.bitmapCache&&r.parent.updateCache())):l<Number.MAX_VALUE&&l++,r.parent&&requestAnimationFrame(e)};this._parent.videoChannel.videoBuffer=new this._parent.createjs.VideoBuffer(this._parent.videoChannel.video),this._parent.videoChannel.videoBitmap=new this._parent.createjs.Bitmap(this._parent.videoChannel.videoBuffer),B.default.isNull(this._parent.videoChannel.videoBitmap.parent)&&B.default.notNull(this._parent.videoObj.videoBase)&&this._parent.videoObj.videoBase.addChild(this._parent.videoChannel.videoBitmap);var i=this,o=this._parent.videoChannel.videoBuffer,r=this._parent.videoChannel.videoBitmap,a=this._parent.videoObj.offset,s=this._parent.videoChannel,u=-1,l=0;requestAnimationFrame(n)}else this._parent.videoChannel.videoBuffer=new this._parent.createjs.VideoBuffer(this._parent.videoChannel.video),this._parent.videoChannel.videoBitmap=new this._parent.createjs.Bitmap(this._parent.videoChannel.videoBuffer),B.default.isNull(this._parent.videoChannel.videoBitmap.parent)&&(B.default.notNull(this._parent.videoObj.videoBase)&&(this._parent.videoObj.videoBase.addChild(this._parent.videoChannel.videoBitmap),this._parent.videoChannel.video.muted=!1),this._parent.videoObj.videoBase.visible=!0);else!this._parent.stage.isWebGL&&this._parent.videoChannel.paused&&this._parent.videoChannel.position===this._parent.videoObj.offset&&B.default.notNull(this._parent.videoChannel.videoBuffer)&&(this._parent.videoChannel.videoBuffer._lastTime=-1)}},{key:"triggerOnceVideoComplete",value:function e(t){var n=this._parent.videoObj.videoBase,i=this.checkCommandMode(this._parent.videoObj.command);"mini-close"===i||"normal-close"===i||"ex-normal-close"===i||"none"===i?(this.stop(),this._parent.closeVideoPlayBar(),this._parent.clearVideoChannel()):(this._parent.stopVideoPlayBar(),this._parent.videoObj.autoPlay=!1,B.default.notNull(n)&&(n.bitmapCache&&(n.updateCache(),this._parent.stage.update()),n._abortZeroFrame))}}]),f);function f(e){s(this,f),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._actMVGroup=[],this._actVideoGroup=[],this._abortActMVGroup=[],this._onceActVideoGroup=[],this._prevTime=-1,this._seq=999,this._timeout}t.ModulePageActSoundMV=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModulePager=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,y=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["SilentShowPicL","SilentShowPicR","SlientShowPicL","SlientShowPicR","ShowPicL","ShowPicR","PicLabel","GoPic"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=this._showPicGroup.length;for(n=0;n<i;n++)(t=this._showPicGroup[n]).alpha=1,t.mouseChildren=!0,t.mouseEnabled=!0;for(i=this._goPicGroup.length,n=0;n<i;n++)(t=this._goPicGroup[n]).alpha=1,null!==t.cursor&&(t.mouseChildren=!0,t.mouseEnabled=!0)}},{key:"reset",value:function e(){this.isInited||this.init(),this.stop();var t=void 0,n=void 0,i=this._showPicGroup.length;for(n=0;n<i;n++){t=this._showPicGroup[n];var o,r=this._parent.getInstanceMirror(t).parent;1===i&&(r.visible=!0),this.useJSON?r.showPicFunc(r,Number(this._parent.pageParam[this._parent.pageParam.length-1])):r.showPicFunc(r,1)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"update",value:function e(t,n){this.isInited||this.init();var i=void 0,o=void 0,r=this._showPicGroup.length;for(o=0;o<r;o++){i=this._showPicGroup[o];var a,s=this._parent.getInstanceMirror(i).parent;1===r&&(s.visible=!0),y.default.isNull(n)?s.showPicFunc(s,t,!0):n===i&&s.showPicFunc(s,t,!0,n)}}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"ShowPicL":case"ShowPicR":case"SlientShowPicL":case"SlientShowPicR":case"SilentShowPicL":case"SilentShowPicR":i=this.getCustomTag(t),this._showPicGroup.push(t),this._showPicGroupMirror[i]=this.pickRelation(n.parent,n.args[0]);break;case"PicLabel":i=this.getCustomTag(t),this._picLabelGroup.push(t);break;case"GoPic":i=this.getCustomTag(t),this._goPicGroup.push(t)}}}},{key:"getCustomTag",value:function e(t){return y.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=void 0;for(this.triggerPicShowControlMousedownBind=this.triggerPicShowControlMousedownBind||this.triggerPicShowControlMousedown.bind(this),this.triggerPicLabelControlMousedownBind=this.triggerPicLabelControlMousedownBind||this.triggerPicLabelControlMousedown.bind(this),this.triggerPicPageControlMousedownBind=this.triggerPicPageControlMousedownBind||this.triggerPicPageControlMousedown.bind(this),this.callShowPicBind=this.callShowPicBind||this.callShowPic.bind(this),r=this._showPicGroup.length,o=0;o<r;o++)if(!(i=this._showPicGroup[o])._isModuleInited){i.goPicList=[],(l=i.parent).showPicFunc=this.callShowPicBind,l.currentPicIndex=1,l.showPicControl=i;var d=this._parent.getInstanceMirror(i);for(y.default.notNull(i.prevBtn)&&("ShowPicR"===d.command||"SlientShowPicR"===d.command||"SilentShowPicR"===d.command?(i.prevBtnRef=i.prevBtn,i.nextBtnRef=i.nextBtn):"ShowPicL"!==d.command&&"SlientShowPicL"!==d.command&&"SilentShowPicL"!==d.command||(i.nextBtnRef=i.prevBtn,i.prevBtnRef=i.nextBtn),i.prevBtn.cursor="pointer",i.prevBtn.addEventListener(this._mouseTriggerBehavior,this.triggerPicShowControlMousedownBind),y.default.notNull(i.prevBtn.EffectBase)&&(y.default.applyMultiply(i.prevBtn.EffectBase),y.default.applyColorFilter(i.prevBtn.createjs,i.EffectBase)),y.default.notNull(i.prevBtn.hintTxt)&&(i.prevBtn.hintTxt.textBaseline=this._parent.textBaseline,i.prevBtn.hintTxt.text="              ","alphabetic"===this._parent.textBaseline&&(i.prevBtn.hintTxt.y+=i.prevBtn.hintTxt.lineHeight*this._parent.textAlphabeticFixYScale),i.prevBtn.hintTxt.cache(i.prevBtn.hintTxt.getBounds().x,i.prevBtn.hintTxt.getBounds().y,i.prevBtn.hintTxt.getBounds().width,i.prevBtn.hintTxt.getBounds().height,2),i.prevBtn.hintTxt.updateCache())),y.default.notNull(i.nextBtn)&&("ShowPicR"===d.command||"SlientShowPicR"===d.command||"SilentShowPicR"===d.command?(i.prevBtnRef=i.prevBtn,i.nextBtnRef=i.nextBtn):"ShowPicL"!==d.command&&"SlientShowPicL"!==d.command&&"SilentShowPicL"!==d.command||(i.nextBtnRef=i.prevBtn,i.prevBtnRef=i.nextBtn),i.nextBtn.cursor="pointer",i.nextBtn.addEventListener(this._mouseTriggerBehavior,this.triggerPicShowControlMousedownBind),y.default.notNull(i.nextBtn.EffectBase)&&(y.default.applyMultiply(i.nextBtn.EffectBase),y.default.applyColorFilter(i.nextBtn.createjs,i.EffectBase)),y.default.notNull(i.nextBtn.hintTxt)&&(i.nextBtn.hintTxt.textBaseline=this._parent.textBaseline,i.nextBtn.hintTxt.text="              ","alphabetic"===this._parent.textBaseline&&(i.nextBtn.hintTxt.y+=i.nextBtn.hintTxt.lineHeight*this._parent.textAlphabeticFixYScale),i.nextBtn.hintTxt.cache(i.nextBtn.hintTxt.getBounds().x,i.nextBtn.hintTxt.getBounds().y,i.nextBtn.hintTxt.getBounds().width,i.nextBtn.hintTxt.getBounds().height,2),i.nextBtn.hintTxt.updateCache())),y.default.notNull(i.noTxt)&&(i.noTxt.textBaseline=this._parent.textBaseline,i.noTxt.text="              ","alphabetic"===this._parent.textBaseline&&(i.noTxt.y+=i.noTxt.lineHeight*this._parent.textAlphabeticFixYScale),i.noTxt.cache(i.noTxt.getBounds().x,i.noTxt.getBounds().y,i.noTxt.getBounds().width,i.noTxt.getBounds().height,2),i.noTxt.updateCache()),a=this.getCustomTag(i),u=this._showPicGroupMirror[a].length,s=0;s<u;s++)this._showPicGroupMirror[a][s].visible=!1}for(r=this._picLabelGroup.length,o=0;o<r;o++)if(!(i=this._picLabelGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var h=this._parent.getInstanceMirror(i);for((l=i.parent).showPicLabels=l.showPicLabels||[],u=Number(h.args[2]),s=Number(h.args[1]);s<=u;s++)l.showPicLabels[s]=h.args[0];i.addEventListener(this._mouseTriggerBehavior,this.triggerPicLabelControlMousedownBind),y.default.notNull(i.EffectBase)&&y.default.applyMultiply(i.EffectBase)}for(r=this._goPicGroup.length,o=0;o<r;o++)if(!(i=this._goPicGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.showPicControlBase=i.parent.parent,i.showPicControlBase.showPicControl.goPicList.push(i),i.cursor="pointer";var p=this._parent.getInstanceMirror(i);i.addEventListener(this._mouseTriggerBehavior,this.triggerPicPageControlMousedownBind),y.default.notNull(i.EffectBase)&&y.default.applyMultiply(i.EffectBase),0<p.args.length&&"ICON"===p.args[0]&&(i.removeEventListener(this._mouseTriggerBehavior,this.triggerPicPageControlMousedownBind),i.gotoAndStop(2),i.cursor=null,i.mouseEnabled=!1,i.mouseChildren=!1)}for(r=this._showPicGroup.length,o=0;o<r;o++)(i=this._showPicGroup[o])._isModuleInited||(i._replacePath=n,i._isModuleInited=!0,(l=i.parent).showPicFunc(l,1))}},{key:"callShowPic",value:function e(t,n,i,o){var r=1<arguments.length&&void 0!==n?n:1,a=2<arguments.length&&void 0!==i&&i,s=3<arguments.length&&void 0!==o?o:null;if(this.useJSON&&(this._parent.pageParam[this._parent.pageParam.length-1]=r),!a||t.currentPicIndex!==r){t.currentPicIndex=r;var u=void 0,l=void 0,d=void 0,h=void 0,p=this.getCustomTag(t.showPicControl),c=void 0;(l=this._showPicGroupMirror[p].length)<r&&(r=l,t.currentPicIndex=r,this.useJSON&&(this._parent.pageParam[this._parent.pageParam.length-1]=r));var f=this._parent.getInstanceMirror(t.showPicControl).command;for(u=0;u<l;u++)(c=this._showPicGroupMirror[p][u]).visible=!1,h=this._parent.getInstanceMirror(c),Number(h.args[0])===r&&null===s?(c.visible=!0,"EnCnTrans"===h.command?y.default.notNull(c.selfReset)&&c.selfReset(c):"RecoverZone"===h.command&&this._parent._waitInited&&this._parent.reset(["ModulePager","ModuleWordsNavigator"],!0)):Number(h.args[0])===r&&null!==s&&(c.visible=!0,"EnCnTrans"===h.command?y.default.notNull(c.selfReset)&&c.selfReset(c):"RecoverZone"===h.command&&-1===f.indexOf("Slient")&&-1===f.indexOf("Silent")?this._parent._waitInited&&this._parent.reset(["ModulePager","ModuleWordsNavigator"],!0):"RecoverZone"===h.command&&this._parent._waitInited&&this._parent.resetAbortSound(["ModulePager","ModuleWordsNavigator"],!0));var g=l;g<=1?t.showPicControl.visible=!1:(t.showPicControl.visible=!0,c=t.showPicControl,d=this._parent.getInstanceMirror(c),y.default.notNull(c.noTxt)&&(c.noTxt.text=r+"/"+g,c.noTxt.updateCache()),c=t.showPicControl.prevBtnRef,y.default.notNull(c.hintTxt)&&(c.hintTxt.text="",c.hintTxt.updateCache()),r<=1?y.default.notNull(c)&&(c.gotoAndStop(0),c.cursor=null,y.default.applyColorGrayFilter(this._parent.createjs,c)):y.default.notNull(c)&&(c.cursor="pointer",c.gotoAndStop(0),y.default.unapplyColorFilter(this._parent.createjs,c)),c=t.showPicControl.nextBtnRef,y.default.notNull(c.hintTxt)&&(c.hintTxt.text="",c.hintTxt.updateCache()),g<=r?y.default.notNull(c)&&(c.gotoAndStop(0),c.cursor=null,y.default.applyColorGrayFilter(this._parent.createjs,c)):y.default.notNull(c)&&(c.cursor="pointer",c.gotoAndStop(0),y.default.unapplyColorFilter(this._parent.createjs,c)));var _=!0;if(y.default.notNull(t.showPicLabels)){var v=void 0;for(l=(d=this._parent.getInstanceMirror(t)).subset.length,u=0;u<l;u++)if(c=t[d.subset[u]],"PicLabel"===(h=this._parent.getInstanceMirror(c)).command&&2===c.currentFrame){v=h.args[0];break}for(u=0;u<l;u++)c=t[d.subset[u]],"PicLabel"===(h=this._parent.getInstanceMirror(c)).command&&(y.default.unapplyColorFilter(this._parent.createjs,c),h.args[0]===t.showPicLabels[r]?(_=v!==h.args[0],c.gotoAndStop(2),this.applyNormalCache(c)):(this.applyReverseCache(c),c.gotoAndStop(0)));var m=r-1,b=r+1;c=t.showPicControl.prevBtnRef,y.default.notNull(t)&&(c.hintTxt.text=t.showPicLabels[m],c.hintTxt.updateCache()),c=t.showPicControl.nextBtnRef,y.default.notNull(t)&&(c.hintTxt.text=t.showPicLabels[b],c.hintTxt.updateCache())}}}},{key:"applyNormalCache",value:function e(t){y.default.isNull(t)||(y.default.notNull(t.nominalBounds)&&t.cache(t.nominalBounds.x,t.nominalBounds.y,t.nominalBounds.width,t.nominalBounds.height),y.default.notNull(t.EffectBase)&&y.default.applyMultiply(t))}},{key:"applyReverseCache",value:function e(t){y.default.isNull(t)||(t.uncache(),y.default.notNull(t.EffectBase)&&y.default.unapplyMultiply(t))}},{key:"triggerPicShowControlMousedown",value:function e(t){if(!y.default.isNull(t.currentTarget.bitmapCache))return t.stopPropagation(),void t.stopImmediatePropagation();var n=this._parent.getInstanceMirror(t.currentTarget.parent);"ShowPicL"!==n.command&&"ShowPicR"!==n.command||this._parent.stop(null,!0);var i=t.currentTarget,o=this._parent.getInstanceMirror(i),r=o.parent,a=o.parent.parent;switch(i){case r.prevBtnRef:a.showPicFunc(a,a.currentPicIndex-1);break;case r.nextBtnRef:a.showPicFunc(a,a.currentPicIndex+1)}this._parent.sendPageFlipMessage(),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerPicLabelControlMousedown",value:function e(t){var n=this._parent.getInstanceMirror(t.currentTarget.parent.showPicControl);"ShowPicL"!==n.command&&"ShowPicR"!==n.command||this._parent.stop(null,!0);var i=t.currentTarget,o=this._parent.getInstanceMirror(i),r=o.parent;r.showPicFunc(r,Number(o.args[1])),this._parent.sendPageFlipMessage(),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerPicPageControlMousedown",value:function e(t){var n=this._parent.getInstanceMirror(t.currentTarget.parent.parent.showPicControl);"ShowPicL"!==n.command&&"ShowPicR"!==n.command||this._parent.stop(null,!0);var i=t.currentTarget,o=this._parent.getInstanceMirror(i),r=o.parent,a=o.parent.parent;a.showPicFunc(a,Number(o.args[0])),this._parent.sendPageFlipMessage(),t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._showPicGroup=[],this._showPicGroupMirror={},this._picLabelGroup=[],this._goPicGroup=[],this._seq=999}t.ModulePager=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleWordsNavigator=void 0;var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,L=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=["WordsNavL","WordsNavR","OpenWord","ExWB","ExWordBar","ExWord"],d=(o(h,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==l.indexOf(e)||-1!==l.indexOf(t):-1!==l.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==l.indexOf(e)||-1!==l.indexOf(t):-1!==l.indexOf(t)||e})&&(this.initModulesByModule(),this.setup(t))}},{key:"stop",value:function e(){}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=this._wordsNavGroup.length;for(n=0;n<i;n++){t=this._wordsNavGroup[n];var o,r=this._parent.getInstanceMirror(t).parent;this.useJSON?r.ExWB?(2===this._parent.pageParam.length&&(this._parent.pageParam[2]="1"),r.showWordFunc(r,Number(this._parent.pageParam[0]),Number(this._parent.pageParam[1]),Number(this._parent.pageParam[2]))):r.showWordFunc(r,Number(this._parent.pageParam[0]),1,Number(this._parent.pageParam[1])):r.showWordFunc(r,1,1,1)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"initModulesByModule",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTargetByModule(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTargetByModule(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==l.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"WordsNavL":case"WordsNavR":i=this.getCustomTag(t),this._wordsNavGroup.push(t),this._wordsNavGroupMirror[i]=this.pickRelation(n.parent,n.args[0]);break;case"OpenWord":i=this.getCustomTag(t),this._openWordGroup.push(t),this._openWordGroupMirror[i]=this.pickRelation(n.parent.parent,n.args[0]);break;case"ExWordBar":i=this.getCustomTag(t),this._exWordBarGroup.push(t);break;case"ExWord":i=this.getCustomTag(t),this._exWordGroup.push(t)}}}},{key:"pickTargetByModule",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==l.indexOf(n.command))switch(n.command){case"OpenWord":i=this.getCustomTag(t),this._openWordGroupMirror[i]=this.pickRelation(n.parent.parent,n.args[0])}}},{key:"getCustomTag",value:function e(t){return L.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=void 0,d=void 0;for(this.callShowWordBind=this.callShowWordBind||this.callShowWord.bind(this),this.triggerPicShowControlMousedownBind=this.triggerPicShowControlMousedownBind||this.triggerPicShowControlMousedown.bind(this),this.triggerOpenWordMousedownBind=this.triggerOpenWordMousedownBind||this.triggerOpenWordMousedown.bind(this),this.triggerWordBarChangeMousedownBind=this.triggerWordBarChangeMousedownBind||this.triggerWordBarChangeMousedown.bind(this),a=this._wordsNavGroup.length,r=0;r<a;r++)if(!(i=this._wordsNavGroup[r])._isModuleInited){(d=i.parent).showWordFunc=this.callShowWordBind,d.currentWordIndex=1,d.currentWordSubIndex=1,i.currentWordNavIndex=1,d.wordsNavControl=i;var h=this._parent.getInstanceMirror(i);for(L.default.notNull(i.prevBtn)&&("WordsNavR"===h.command?(i.prevBtnRef=i.prevBtn,i.nextBtnRef=i.nextBtn):"WordsNavL"===h.command&&(i.nextBtnRef=i.prevBtn,i.prevBtnRef=i.nextBtn),i.prevBtn.cursor="pointer",i.prevBtn.addEventListener(this._mouseTriggerBehavior,this.triggerPicShowControlMousedownBind),L.default.notNull(i.prevBtn.EffectBase)&&(L.default.applyMultiply(i.prevBtn.EffectBase),L.default.applyColorFilter(i.prevBtn.createjs,i.EffectBase))),L.default.notNull(i.nextBtn)&&("WordsNavR"===h.command?(i.prevBtnRef=i.prevBtn,i.nextBtnRef=i.nextBtn):"WordsNavL"===h.command&&(i.nextBtnRef=i.prevBtn,i.prevBtnRef=i.nextBtn),i.nextBtn.cursor="pointer",i.nextBtn.addEventListener(this._mouseTriggerBehavior,this.triggerPicShowControlMousedownBind),L.default.notNull(i.nextBtn.EffectBase)&&(L.default.applyMultiply(i.nextBtn.EffectBase),L.default.applyColorFilter(i.nextBtn.createjs,i.EffectBase))),L.default.notNull(i.noTxt)&&(i.noTxt.text=""),s=this.getCustomTag(i),l=this._wordsNavGroupMirror[s].length,u=0;u<l;u++)this._wordsNavGroupMirror[s][u].visible=!1}for(a=this._openWordGroup.length,r=0;r<a;r++)if(!(i=this._openWordGroup[r])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var p=this._parent.getInstanceMirror(i);for(i.addEventListener(this._mouseTriggerBehavior,this.triggerOpenWordMousedownBind),L.default.notNull(i.EffectBase)&&L.default.applyMultiply(i.EffectBase),s=this.getCustomTag(i),l=this._openWordGroupMirror[s].length,u=0;u<l;u++)(o=this._openWordGroupMirror[s][u]).visible=!1}for(a=this._exWordBarGroup.length,r=0;r<a;r++)if(!(i=this._exWordBarGroup[r])._isModuleInited){i._replacePath=n,i._isModuleInited=!0;var c=this._parent.getInstanceMirror(i);for(l=c.subset.length,u=0;u<l;u++){var f;o=i[c.subset[u]],"opt"===this._parent.getInstanceMirror(o).command&&(o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerWordBarChangeMousedownBind),L.default.notNull(o.EffectBase)&&L.default.applyMultiply(o.EffectBase))}}for(a=this._wordsNavGroup.length,r=0;r<a;r++)(i=this._wordsNavGroup[r])._isModuleInited||(i._replacePath=n,i._isModuleInited=!0,(d=i.parent).showWordFunc(d,1,1))}},{key:"callShowWord",value:function e(t,n,i,o,r){var a=1<arguments.length&&void 0!==n?n:1,s=2<arguments.length&&void 0!==i?i:1,u=3<arguments.length&&void 0!==o?o:1,l=4<arguments.length&&void 0!==r&&r;this.useJSON&&(this._parent.pageParam[0]=a,L.default.notNull(t.ExWB)?(this._parent.pageParam[1]=s,this._parent.pageParam[2]=u):this._parent.pageParam[1]=u);var d=!this._parent.actWinWordGroupHide;t.currentWordIndex=a,t.currentWordSubIndex=s;var h=void 0,p=void 0,c=void 0,f=void 0,g=void 0,_=void 0,v=void 0,m=this.getCustomTag(t.wordsNavControl),b=void 0,y=void 0,P=-1,M=!0,O=null;for(c=this._wordsNavGroupMirror[m].length,h=0;h<c;h++){(b=this._wordsNavGroupMirror[m][h]).visible=!1,f=(_=this._parent.getInstanceMirror(b)).subset.length;var S=Number.MAX_VALUE;for(p=0;p<f;p++)y=b[_.subset[p]],L.default.isNull(y.orgVisible)&&(y.orgVisible=y.visible),L.default.isNull(y.orgWGLoc)&&(y.orgWGLoc={x:y.x,y:y.y}),S>y.orgWGLoc.x&&(S=y.orgWGLoc.x);for(p=0;p<f;p++)y=b[_.subset[p]],v=this._parent.getInstanceMirror(y),Number(v.args[1])===a&&(b.visible=d,P=Number(_.args[0]));for(p=0;p<f;p++)if(y=b[_.subset[p]],v=this._parent.getInstanceMirror(y),y.mouseEnabled=!0,"OpenWord"===v.command)if(Number(v.args[1])===a){if(y.x=d?y.orgWGLoc.x:S,this._parent.menuContentInit&&l&&L.default.notNull(this._parent.menuRef[a-1])){var B=this._parent.menuRef[a-1].split("_")[0];return void this._parent.sendCommand(B,this._parent.menuRef[a-1])}this._parent._waitInited&&(L.default.isNull(t.wordsNavControl.callSpecClickFunc)?y.mouseEnabled=!1:L.default.notNull(t.wordsNavControl.callSpecClickFunc)&&L.default.notNull(y.bitmapCache)?t.wordsNavControl.callSpecClickFunc({self:t.wordsNavControl}):L.default.notNull(t.wordsNavControl.callSpecClickFunc)&&L.default.isNull(y.bitmapCache)&&t.wordsNavControl.callSpecClearFunc({self:t.wordsNavControl}),y.gotoAndStop(2),this.applyNormalCache(y));for(var x=this.getCustomTag(y),k=this._openWordGroupMirror[x].length,w=void 0,C=0;C<k;C++){w=this._openWordGroupMirror[x][C];var I=this._parent.getInstanceMirror(w);Number(I.args[0])===a?(M=!(w.visible=!0),w.showPicFunc&&w.showPicFunc(w,u)):w.visible=!1}null===O&&(O=y)}else y.x=y.orgWGLoc.x,y.gotoAndStop(0),this.applyReverseCache(y)}L.default.notNull(this._parent.menuContent)&&(this._parent.menuContent.visible=!0,this._parent.menuContentInit=!0,this._parent.menuContent.showPicFunc&&this._parent.menuContent.showPicFunc(this._parent.menuContent,u)),t.currentWordNavIndex=P;var N=c;if(N<=1||!d?t.wordsNavControl.visible=!1:(t.wordsNavControl.visible=!0,b=t.wordsNavControl.prevBtnRef,P<=1?L.default.notNull(b)&&(b.cursor=null,b.gotoAndStop(0),b.mouseEnabled=!1,L.default.applyColorGrayFilter(this._parent.createjs,b)):L.default.notNull(b)&&(b.cursor="pointer",b.gotoAndStop(0),b.mouseEnabled=!0,L.default.unapplyColorFilter(this._parent.createjs,b)),b=t.wordsNavControl.nextBtnRef,N<=P?L.default.notNull(b)&&(b.cursor=null,b.gotoAndStop(0),b.mouseEnabled=!1,L.default.applyColorGrayFilter(this._parent.createjs,b)):L.default.notNull(b)&&(b.cursor="pointer",b.gotoAndStop(0),b.mouseEnabled=!0,L.default.unapplyColorFilter(this._parent.createjs,b))),L.default.notNull(t.ExWB)){for(c=this._exWordBarGroup.length,h=0;h<c;h++)if(b=this._exWordBarGroup[h],_=this._parent.getInstanceMirror(b),Number(_.args[0])===a)for(b.visible=!0,f=_.subset.length,p=0;p<f;p++)y=b[_.subset[p]],"opt"===(v=this._parent.getInstanceMirror(y)).command&&(Number(v.args[0])===s?(y.gotoAndStop(2),this.applyNormalCache(y)):(y.gotoAndStop(0),this.applyReverseCache(y)));else b.visible=!1;for(c=this._exWordGroup.length,h=0;h<c;h++)b=this._exWordGroup[h],_=this._parent.getInstanceMirror(b),Number(_.args[0])===a&&Number(_.args[1])===s?b.visible=!0:b.visible=!1}if(M&&null!==O){var T,j=this._parent.getInstanceMirror(O).args[0]+"_"+a;this._parent._waitInited&&L.default.notNull(this._parent.moduleConfigData[j])&&this._parent.loadContentByModule(this._parent.moduleConfigData[j],{target:t,index:a,subindex:s,pagerindex:u,changeBar:l,TYPE:"words-navigator"})}else M||L.default.notNull(t.wordsNavControl.callSpecCompleteFunc)&&t.wordsNavControl.callSpecCompleteFunc({self:t.wordsNavControl,pickTarget:O})}},{key:"applyNormalCache",value:function e(t){L.default.isNull(t)||(L.default.notNull(t.nominalBounds)&&t.cache(t.nominalBounds.x,t.nominalBounds.y,t.nominalBounds.width,t.nominalBounds.height),L.default.notNull(t.EffectBase)&&L.default.applyMultiply(t))}},{key:"applyReverseCache",value:function e(t){L.default.isNull(t)||(t.uncache(),L.default.notNull(t.EffectBase)&&L.default.unapplyMultiply(t))}},{key:"triggerPicShowControlMousedown",value:function e(t){if(L.default.notNull(t.currentTarget.bitmapCache))return t.stopPropagation(),void t.stopImmediatePropagation();var n=t.currentTarget,o=this._parent.getInstanceMirror(n),r=o.parent,a=o.parent.parent,s=this.getCustomTag(r),u=void 0,l=void 0,d=this._wordsNavGroupMirror[s].length;switch(n){case r.prevBtnRef:a.currentWordNavIndex--;break;case r.nextBtnRef:a.currentWordNavIndex++}for(a.currentWordNavIndex<=1&&(a.currentWordNavIndex=1),a.currentWordNavIndex>=d&&(a.currentWordNavIndex=d),i=0;i<d;i++)u=this._wordsNavGroupMirror[s][i],l=this._parent.getInstanceMirror(u),Number(l.args[0])===a.currentWordNavIndex?(u.visible=!0,1!==l.args.length&&(this._parent.stop(null,!0),n.parent.parent.showWordFunc(n.parent.parent,Number(l.args[1]),Number(l.args[0]),1,!0),this._parent.sendPageFlipMessage())):u.visible=!1;u=r.prevBtnRef,a.currentWordNavIndex<=1?L.default.notNull(u)&&(u.cursor=null,u.gotoAndStop(0),u.mouseEnabled=!1,L.default.applyColorGrayFilter(this._parent.createjs,u)):L.default.notNull(u)&&(u.cursor="pointer",u.mouseEnabled=!0,L.default.unapplyColorFilter(this._parent.createjs,u)),u=r.nextBtnRef,a.currentWordNavIndex>=d?L.default.notNull(u)&&(u.cursor=null,u.gotoAndStop(0),u.mouseEnabled=!1,L.default.applyColorGrayFilter(this._parent.createjs,u)):L.default.notNull(u)&&(u.cursor="pointer",u.mouseEnabled=!0,L.default.unapplyColorFilter(this._parent.createjs,u)),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerOpenWordMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent,r=i.parent.parent;if(L.default.isNull(t.currentTarget.bitmapCache)&&this._parent.stop(null,!0),"RecoverZone"===i.args[0]&&("EnBookPage"===this._parent.__specClassName?this._parent.reset(["ModuleWordsNavigator"],!0):this._parent.reset(["ModulePager","ModuleWordsNavigator"],!0)),this._parent.menuContentInit&&L.default.notNull(this._parent.menuRef[Number(i.args[1])-1])){var a=this._parent.menuRef[Number(i.args[1])-1].split("_")[0];return this._parent.sendCommand(a,this._parent.menuRef[Number(i.args[1])-1]),t.stopPropagation(),void t.stopImmediatePropagation()}L.default.isNull(t.currentTarget.bitmapCache)&&this._parent.sendPageFlipMessage(),L.default.notNull(r.ExWB)?r.showWordFunc(r,Number(i.args[1]),Number(i.args[2]),Number(i.args[3])):r.showWordFunc(r,Number(i.args[1]),1,Number(i.args[2])),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerWordBarChangeMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent,r=this._parent.getInstanceMirror(o),a=i.parent.parent.parent;L.default.trace(Number(r.args[0]),Number(i.args[0])),a.showWordFunc(a,Number(r.args[0]),Number(i.args[0])),t.stopPropagation(),t.stopImmediatePropagation()}}]),h);function h(e){u(this,h),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._wordsNavGroup=[],this._wordsNavGroupMirror={},this._openWordGroup=[],this._openWordGroupMirror={},this._exWordBarGroup=[],this._exWordGroup=[],this._seq=999}t.ModuleWordsNavigator=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleOnAndOff=void 0;var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=["OnToOff","OffToOn","AllOnAndOff","OnAndOffControl"],h=(o(p,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==d.indexOf(e)||-1!==d.indexOf(t):-1!==d.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==d.indexOf(e)||-1!==d.indexOf(t):-1!==d.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0;n=this._onToOffGroup.length;for(var i=0;i<n;i++)if(0===(t=this._onToOffGroup[i]).groupSync.length){t.btnOn.visible=!0,t.btnOff.visible=!1;for(var o=this.getCustomTag(t),r=this._onToOffBtnGroup[o].length,a=0;a<r;a++){var s;this._onToOffBtnGroup[o][a].gotoAndStop(0)}}n=this._offToOnGroup.length;for(var u=0;u<n;u++)if(0===(t=this._offToOnGroup[u]).groupSync.length){t.btnOn.visible=!1,t.btnOff.visible=!0;for(var l=this.getCustomTag(t),d=this._offToOnBtnGroup[l].length,h=0;h<d;h++){var p;this._offToOnBtnGroup[l][h].gotoAndStop(1)}}n=this._allOnAndOffGroup.length;for(var c=0;c<n;c++)0===(t=this._allOnAndOffGroup[c]).groupSync.length&&(t.btnOn.visible=!1,t.btnOff.visible=!0),this.refreshAllOnAndOffStatus(t);this.refreshOnAndOffControl()}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==d.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"OnToOff":i=this.getCustomTag(t),this._onToOffGroup.push(t),this._onToOffBtnGroup[i]=this.pickRelation(t.parent,n.args[0]);break;case"OffToOn":i=this.getCustomTag(t),this._offToOnGroup.push(t),this._offToOnBtnGroup[i]=this.pickRelation(t.parent,n.args[0]);break;case"AllOnAndOff":i=this.getCustomTag(t),this._allOnAndOffGroup.push(t);break;case"OnAndOffControl":i=this.getCustomTag(t),this._onAndOffControlGroup.push(t)}}}},{key:"getCustomTag",value:function e(t){return s.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickAllOnAndOffRelation",value:function e(t){for(var n=this._parent.getInstanceMirror(t),i=n.subset.length,o=0;o<i;o++){var r=this._parent.getInstanceMirror(n.target[n.subset[o]]),a=n.target[n.subset[o]];if("AllOnAndOff"===r.command)return a}return null}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0;this.triggerFuncMousedownBind=this.triggerFuncMousedownBind||this.triggerFuncMousedown.bind(this),this.triggerSubMousedownBind=this.triggerSubMousedownBind||this.triggerSubMousedown.bind(this);var o=void 0;o=this._onToOffGroup.length;for(var r=0;r<o;r++){if(!(i=this._onToOffGroup[r])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.btnOn.cursor="pointer",i.btnOff.cursor="pointer",i.btnOn.visible=!0,i.btnOff.visible=!1,i.btnOn.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),i.btnOff.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),i.allOnAndOff=this.pickAllOnAndOffRelation(i.parent);for(var a=this.getCustomTag(i),s=this._onToOffBtnGroup[a].length,u=0;u<s;u++){var l=this._onToOffBtnGroup[a][u];l.cursor="pointer",l.gotoAndStop(0),l.rel=i,l.addEventListener(this._mouseTriggerBehavior,this.triggerSubMousedownBind)}}var d=this._parent.getInstanceMirror(i);if(i.groupSync=[],1<d.args.length)for(var h=0;h<o;h++){var p=this._onToOffGroup[h],c;p!==i&&this._parent.getInstanceMirror(p).args[1]===d.args[1]&&i.groupSync.push(p)}}o=this._offToOnGroup.length;for(var f=0;f<o;f++){if(!(i=this._offToOnGroup[f])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.btnOn.cursor="pointer",i.btnOff.cursor="pointer",i.btnOn.visible=!1,i.btnOff.visible=!0,i.btnOn.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),i.btnOff.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),i.allOnAndOff=this.pickAllOnAndOffRelation(i.parent);for(var g=this.getCustomTag(i),_=this._offToOnBtnGroup[g].length,v=0;v<_;v++){var m=this._offToOnBtnGroup[g][v];m.cursor="pointer",m.gotoAndStop(1),m.rel=i,m.addEventListener(this._mouseTriggerBehavior,this.triggerSubMousedownBind)}}var b=this._parent.getInstanceMirror(i);if(i.groupSync=[],1<b.args.length)for(var y=0;y<o;y++){var P=this._offToOnGroup[y],M;P!==i&&this._parent.getInstanceMirror(P).args[1]===b.args[1]&&i.groupSync.push(P)}}o=this._allOnAndOffGroup.length;for(var O=0;O<o;O++){(i=this._allOnAndOffGroup[O])._isModuleInited||(i._replacePath=n,i._isModuleInited=!0,i.btnOn.cursor="pointer",i.btnOff.cursor="pointer",i.btnOn.visible=!1,i.btnOff.visible=!0,i.btnOn.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),i.btnOff.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),i.onToOff=this.pickRelation(i.parent,"OnToOff"),i.offToOn=this.pickRelation(i.parent,"OffToOn"),this.refreshAllOnAndOffStatus(i));var S=this._parent.getInstanceMirror(i);if(i.groupSync=[],0<S.args.length)for(var B=0;B<o;B++){var x=this._allOnAndOffGroup[B],k;x!==i&&this._parent.getInstanceMirror(x).args[0]===S.args[0]&&i.groupSync.push(x)}}o=this._onAndOffControlGroup.length;for(var w=0;w<o;w++)(i=this._onAndOffControlGroup[w])._isModuleInited||(i._replacePath=n,i._isModuleInited=!0,i.onToOff=this.pickRelation(i.parent,"OnToOff"),i.offToOn=this.pickRelation(i.parent,"OffToOn"))}},{key:"refreshAllOnAndOffStatus",value:function e(t){if(s.default.notNull(t)){var n=void 0;n=t.onToOff.length;var o=!0;for(i=0;i<n;i++)if(t.onToOff[i].btnOff.visible){o=!1;break}for(n=t.offToOn.length,i=0;i<n;i++)if(t.offToOn[i].btnOff.visible){o=!1;break}o?(t.btnOn.visible=!0,t.btnOff.visible=!1):(t.btnOn.visible=!1,t.btnOff.visible=!0)}}},{key:"refreshOnAndOffControl",value:function e(){this.isInited||this.init();for(var t=void 0,n=this._onAndOffControlGroup.length,i=0;i<n;i++){var o=void 0;o=(t=this._onAndOffControlGroup[i]).onToOff.length;for(var r=!1,a=0;a<o;a++)for(var s=this.getCustomTag(t.onToOff[a]),u=this._onToOffBtnGroup[s].length,l=0;l<u;l++)if(0===this._onToOffBtnGroup[s][l].currentFrame){r=!0;break}var d=!1;o=t.offToOn.length;for(var h=0;h<o;h++)for(var p=this.getCustomTag(t.offToOn[h]),c=this._offToOnBtnGroup[p].length,f=0;f<c;f++)if(0===this._offToOnBtnGroup[p][f].currentFrame){d=!0;break}0<t.onToOff.length&&0<t.offToOn.length?t.visible=!(!r&&!d):0<t.onToOff.length?t.visible=!!r:(t.offToOn.length,t.visible=!0)}}},{key:"updateFuncBtnStatus",value:function e(t){var n=this._parent.getInstanceMirror(t),i=this.getCustomTag(t),o=void 0,r=void 0,a=void 0,s=void 0;switch(n.command){case"OnToOff":if(o=this._onToOffBtnGroup[i].length,t.btnOn.visible){r=!1;for(var u=0;u<o;u++)if(0===this._onToOffBtnGroup[i][u].currentFrame){r=!0;break}}else if(t.btnOff.visible){r=!0;for(var l=0;l<o;l++)if(0!==this._onToOffBtnGroup[i][l].currentFrame){r=!1;break}}if(a=s=!0,0!==t.groupSync.length)for(var d=t.groupSync.length,h=0;h<d;h++){for(var p=t.groupSync[h],c=this.getCustomTag(p),f=this._onToOffBtnGroup[c].length,g=0;g<f;g++)if(0===this._onToOffBtnGroup[c][g].currentFrame){a=!1;break}for(var _=0;_<f;_++)if(0!==this._onToOffBtnGroup[c][_].currentFrame){s=!1;break}}if(0!==t.groupSync.length&&(t.btnOn.visible?r||a||(r=!0):t.btnOn.visible||r&&!s&&(r=!1)),r){if(t.btnOn.visible=!0,t.btnOff.visible=!1,0!==t.groupSync.length)for(var v=t.groupSync.length,m=0;m<v;m++){var b=t.groupSync[m];b.btnOn.visible=!0,b.btnOff.visible=!1}}else if(t.btnOn.visible=!1,t.btnOff.visible=!0,0!==t.groupSync.length)for(var y=t.groupSync.length,P=0;P<y;P++){var M=t.groupSync[P];M.btnOn.visible=!1,M.btnOff.visible=!0}this.refreshAllOnAndOffStatus(t.allOnAndOff);break;case"OffToOn":if(o=this._offToOnBtnGroup[i].length,t.btnOn.visible){r=!1;for(var O=0;O<o;O++)if(0===this._offToOnBtnGroup[i][O].currentFrame){r=!0;break}}else if(t.btnOff.visible){r=!0;for(var S=0;S<o;S++)if(0!==this._offToOnBtnGroup[i][S].currentFrame){r=!1;break}}if(a=s=!0,0!==t.groupSync.length)for(var B=t.groupSync.length,x=0;x<B;x++){for(var k=t.groupSync[x],w=this.getCustomTag(k),C=this._offToOnBtnGroup[w].length,I=0;I<C;I++)if(0===this._offToOnBtnGroup[w][I].currentFrame){a=!1;break}for(var N=0;N<C;N++)if(0!==this._offToOnBtnGroup[w][N].currentFrame){s=!1;break}}if(0!==t.groupSync.length&&(t.btnOn.visible?r||a||(r=!0):t.btnOn.visible||r&&!s&&(r=!1)),r){if(t.btnOn.visible=!0,t.btnOff.visible=!1,0!==t.groupSync.length)for(var T=t.groupSync.length,j=0;j<T;j++){var L=t.groupSync[j];L.btnOn.visible=!0,L.btnOff.visible=!1}}else if(t.btnOn.visible=!1,t.btnOff.visible=!0,0!==t.groupSync.length)for(var A=t.groupSync.length,E=0;E<A;E++){var G=t.groupSync[E];G.btnOn.visible=!1,G.btnOff.visible=!0}this.refreshAllOnAndOffStatus(t.allOnAndOff);break;case"AllOnAndOff":if(t.btnOff.visible){o=t.onToOff.length;for(var W=0;W<o;W++)t.onToOff[W].btnOn.visible=!1,t.onToOff[W].btnOff.visible=!0;o=t.offToOn.length;for(var R=0;R<o;R++)t.offToOn[R].btnOn.visible=!1,t.offToOn[R].btnOff.visible=!0}else{o=t.onToOff.length;for(var F=0;F<o;F++)t.onToOff[F].btnOn.visible=!0,t.onToOff[F].btnOff.visible=!1;o=t.offToOn.length;for(var D=0;D<o;D++)t.offToOn[D].btnOn.visible=!0,t.offToOn[D].btnOff.visible=!1}}this.refreshOnAndOffControl()}},{key:"triggerFuncMousedown",value:function e(t){var n=t.currentTarget,o=this._parent.getInstanceMirror(n),r=this.getCustomTag(n),a=n.parent;switch(n.name){case"btnOn":a.btnOn.visible=!1,a.btnOff.visible=!0;break;case"btnOff":a.btnOn.visible=!0,a.btnOff.visible=!1}var s=void 0;switch(o=this._parent.getInstanceMirror(a),r=this.getCustomTag(a),o.command){case"OnToOff":s=this._onToOffBtnGroup[r].length;for(var u=0;u<s;u++)a.btnOff.visible?this._onToOffBtnGroup[r][u].gotoAndStop(1):this._onToOffBtnGroup[r][u].gotoAndStop(0);if(0!==a.groupSync.length)for(var l=a.groupSync.length,d=0;d<l;d++){var h=a.groupSync[d];h.btnOn.visible=a.btnOn.visible,h.btnOff.visible=a.btnOff.visible;for(var p=this.getCustomTag(h),c=this._onToOffBtnGroup[p].length,f=0;f<c;f++)h.btnOff.visible?this._onToOffBtnGroup[p][f].gotoAndStop(1):this._onToOffBtnGroup[p][f].gotoAndStop(0)}break;case"OffToOn":s=this._offToOnBtnGroup[r].length;for(var g=0;g<s;g++)a.btnOff.visible?this._offToOnBtnGroup[r][g].gotoAndStop(1):this._offToOnBtnGroup[r][g].gotoAndStop(0);if(0!==a.groupSync.length)for(var _=a.groupSync.length,v=0;v<_;v++){var m=a.groupSync[v];m.btnOn.visible=a.btnOn.visible,m.btnOff.visible=a.btnOff.visible;for(var b=this.getCustomTag(m),y=this._offToOnBtnGroup[b].length,P=0;P<y;P++)m.btnOff.visible?this._offToOnBtnGroup[b][P].gotoAndStop(1):this._offToOnBtnGroup[b][P].gotoAndStop(0)}break;case"AllOnAndOff":for(s=a.onToOff.length,i=0;i<s;i++){r=this.getCustomTag(a.onToOff[i]);for(var M=this._onToOffBtnGroup[r].length,O=0;O<M;O++)a.btnOff.visible?this._onToOffBtnGroup[r][O].gotoAndStop(1):this._onToOffBtnGroup[r][O].gotoAndStop(0)}for(s=a.offToOn.length,i=0;i<s;i++){r=this.getCustomTag(a.offToOn[i]);for(var S=this._offToOnBtnGroup[r].length,B=0;B<S;B++)a.btnOff.visible?this._offToOnBtnGroup[r][B].gotoAndStop(1):this._offToOnBtnGroup[r][B].gotoAndStop(0)}if(0!==a.groupSync.length)for(var x=a.groupSync.length,k=0;k<x;k++){var w=a.groupSync[k];w.btnOn.visible=a.btnOn.visible,w.btnOff.visible=a.btnOff.visible;for(var C=w.onToOff.length,I=0;I<C;I++)for(var N=this.getCustomTag(w.onToOff[I]),T=this._onToOffBtnGroup[N].length,j=0;j<T;j++)w.btnOff.visible?this._onToOffBtnGroup[N][j].gotoAndStop(1):this._onToOffBtnGroup[N][j].gotoAndStop(0);C=w.offToOn.length;for(var L=0;L<C;L++)for(var A=this.getCustomTag(w.offToOn[L]),E=this._offToOnBtnGroup[A].length,G=0;G<E;G++)w.btnOff.visible?this._offToOnBtnGroup[A][G].gotoAndStop(1):this._offToOnBtnGroup[A][G].gotoAndStop(0);this.updateFuncBtnStatus(w)}}this.updateFuncBtnStatus(a),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSubMousedown",value:function e(t){var n=t.currentTarget,i=n.bigTag,o=n.parent;0===n.currentFrame?n.gotoAndStop(1):n.gotoAndStop(0),this.updateFuncBtnStatus(n.rel),t.stopPropagation(),t.stopImmediatePropagation()}}]),p);function p(e){l(this,p),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._onToOffGroup=[],this._offToOnGroup=[],this._allOnAndOffGroup=[],this._onAndOffControlGroup=[],this._onToOffBtnGroup={},this._offToOnBtnGroup={},this._seq=999}t.ModuleOnAndOff=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleCalculator=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["Calculator"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init(),c.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1)}},{key:"reset",value:function e(){this.isInited||this.init(),c.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);for(var t=void 0,n=this._calculatorGroup.length,i=0;i<n;i++){t=this._calculatorGroup[i];var o=this._parent.getInstanceMirror(t);t.txt.text="",t.todo=[""],t.x=t.orgX,t.y=t.orgY}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"Calculator":i=this.getCustomTag(t),this._calculatorGroup.push(t)}}}},{key:"getCustomTag",value:function e(t){return c.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0;this.triggerBtnDragMainMenuListFuncMousedownBind=this.triggerBtnDragMainMenuListFuncMousedownBind||this.triggerBtnDragMainMenuListFuncMousedown.bind(this),this.triggerBtnDragListMousedownBind=this.triggerBtnDragListMousedownBind||this.triggerBtnDragListMousedown.bind(this),this.triggerBtnDragListPressmoveBind=this.triggerBtnDragListPressmoveBind||this.triggerBtnDragListPressmove.bind(this),this.triggerBtnDragListPressupBind=this.triggerBtnDragListPressupBind||this.triggerBtnDragListPressup.bind(this);for(var o=this._calculatorGroup.length,r=0;r<o;r++)if(!(i=this._calculatorGroup[r])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer",i.callUpdateFunc=null;var a=this._parent.getInstanceMirror(i);i.txt=a.parent[a.args[0]],i.txtMax=a.parent[a.args[1]]||1,i.limitInput=a.args[2].split("")||null,i.orgX=i.x,i.orgY=i.y,c.default.notNull(i.canDrag)&&(i.canDrag.addEventListener("mousedown",this.triggerBtnDragListMousedownBind),i.canDrag.addEventListener("pressup",this.triggerBtnDragListPressupBind));for(var s=a.subset.length,u=0;u<s;u++){var l=i[a.subset[u]],d;"sp"===this._parent.getInstanceMirror(l).command&&(l.mouseEnabled=!1)}for(var h=void 0,p=0;p<10;p++)h=i["n"+p],c.default.notNull(h)&&(h.value=p,h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind));h=i.b1_btn,c.default.notNull(h)&&(h.value="back",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b2_btn,c.default.notNull(h)&&(h.value="=",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b3_btn,c.default.notNull(h)&&(h.value="<",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b4_btn,c.default.notNull(h)&&(h.value=">",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b5_btn,c.default.notNull(h)&&(h.value=".",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b6_btn,c.default.notNull(h)&&(h.value="+",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b7_btn,c.default.notNull(h)&&(h.value="-",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b8_btn,c.default.notNull(h)&&(h.value="x",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.b9_btn,c.default.notNull(h)&&(h.value="÷",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind)),h=i.close_btn,c.default.notNull(h)&&(h.value="close",h.addEventListener(this._mouseTriggerBehavior,this.triggerBtnDragMainMenuListFuncMousedownBind))}}},{key:"triggerBtnDragMainMenuListFuncMousedown",value:function e(t){var n=t.currentTarget,i,o=this._parent.getInstanceMirror(n).parent,r=o.txt,a=void 0,s=void 0;if(o.todo=o.todo||[""],"close"===n.value)o.visible=!1;else if(c.default.isNull(o.limitInput))if(this.isNumber(n.value)){var u=r.text.toString().split("");u.length<o.txtMax&&(u.push(n.value),r.text=u.join(),o.todo[o.todo.length-1]=r.text,c.default.notNull(o.callUpdateFunc)&&o.callUpdateFunc(o))}else{var l=void 0;switch(n.value){case"back":0<(l=r.text.toString().split("")).length&&(l.pop(),r.text=l.join(),o.todo[o.todo.length-1]=r.text);break;case"=":this.calculate(o);break;case"+":case"-":case"x":case"÷":""!==o.todo[o.todo.length-1]&&this.isNumber(o.todo[o.todo.length-1])?o.todo.push(""):(""===o.todo[o.todo.length-1]||this.isNumber(o.todo[o.todo.length-1]),o.todo[o.todo.length-1]=n.value);break;case"<":case">":break;case".":(l=r.text.split("")).length<o.txtMax&&-1===l.indexOf(".")&&(l.push(n.value),r.text=l.join(),o.todo[o.todo.length-1]=r.text)}}else{if(-1===o.limitInput.indexOf(n.value.toString())&&"back"!==n.value){var d=r.text.toString().split("");return d.length<o.txtMax&&(d.push(n.value),r.text=d.join(),o.todo[o.todo.length-1]=r.text,c.default.notNull(o.callUpdateFunc)&&o.callUpdateFunc(o)),r.bitmapCache&&r.updateCache(),t.stopPropagation(),void t.stopImmediatePropagation()}if(this.isNumber(n.value)){var h=r.text.toString().split("");h.length<o.txtMax&&(h.push(n.value),r.text=h.join(),o.todo[o.todo.length-1]=r.text,c.default.notNull(o.callUpdateFunc)&&o.callUpdateFunc(o))}else{var p=void 0;switch(n.value){case"back":0<(p=r.text.toString().split("")).length&&(p.pop(),r.text=p.join(),o.todo[o.todo.length-1]=r.text,c.default.notNull(o.callUpdateFunc)&&o.callUpdateFunc(o));break;case"=":o.visible=!1,this.calculate(o)}}}r.bitmapCache&&r.updateCache(),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"calculate",value:function e(t){c.default.notNull(parent.callUpdateFunc)&&parent.callUpdateFunc(t)}},{key:"isNumber",value:function e(t){return!isNaN(t)}},{key:"triggerBtnDragListMousedown",value:function e(t){var n=t.currentTarget,i=n.parent.parent.globalToLocal(t.stageX,t.stageY);n.parent.fixX=n.parent.x-i.x,n.parent.fixY=n.parent.y-i.y,n.parent.startX=n.parent.x+n.parent.fixX,n.parent.startY=n.parent.y+n.parent.fixY,this._parent.setPressEventIsOn(!0),n.addEventListener("pressmove",this.triggerBtnDragListPressmoveBind,c.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragListPressmove",value:function e(t){var n=t.currentTarget;n.parent.parent.setChildIndex(n.parent,n.parent.parent.getNumChildren()-1);var i=n.parent.parent.globalToLocal(t.stageX,t.stageY);n.parent.x=i.x+n.parent.fixX,n.parent.y=i.y+n.parent.fixY,this._parent.setPressEventIsOn(!0);var o=Math.abs(n.parent.x-n.parent.startX),r=Math.abs(n.parent.y-n.parent.startY),a=Math.sqrt(Math.pow(o,2)+Math.pow(r,2));t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerBtnDragListPressup",value:function e(t){var n=t.currentTarget;this._parent.setPressEventIsOn(!1),n.removeEventListener("pressmove",this.triggerBtnDragListPressmoveBind,c.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._calculatorGroup=[],this._dragMainMenuListGroup=[],this._dragMainMenuListGroupMirror={},this._seq=999}t.ModuleCalculator=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModulePureAnimate=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=["ReplayAnimate"],d={ReplayAnimate:"none"},h=!1,p=.5,c=(i(f,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==l.indexOf(e)||-1!==l.indexOf(t):-1!==l.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==l.indexOf(e)||-1!==l.indexOf(t):-1!==l.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init();for(var t=this._pickList.length,n=void 0,i=void 0,o=0;o<t;o++)n=this._pickList[o],i=this._parent.getInstanceMirror(n)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);if(-1!==l.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"ReplayAnimate":this._animate.push(t)}}}},{key:"setup",value:function e(t){for(var u=this,l=0<arguments.length&&void 0!==t?t:"",n=this._animate.length,i=function e(t){var r=u._animate[t];if(!r._isModuleInited){var n=function e(t){if(t-r.lastFrameTime<s)requestAnimationFrame(e);else{r.lastFrameTime=t;var n=r.totalFrames,i,o=r.currentFrame+1;n<=o&&(o=0),r.gotoAndStop(o),r.bitmapCache&&r.updateCache(),a._parent.stage.contains(a._parent.exportRoot)?requestAnimationFrame(e):r.bitmapCache&&(r.uncache(),a._parent.stage.update())}};r._replacePath=l,r._isModuleInited=!0,r.fps=1e3/u._parent.lib.properties.fps,r.interval&&(u._parent.clearInterval(r.interval),cancelAnimationFrame(r.interval));var i=u._parent.getInstanceMirror(r);r._webGLCacheRectSize=i.args[1]?Number(i.args[1]):.5;var a=u,o=0,s=1e3/60*(60/u._parent.lib.properties.fps)-1e3/60*.5;r.lastFrameTime=0,u._parent.stage.isWebGL,r.interval=requestAnimationFrame(n)}},o=0;o<n;o++)i(o)}},{key:"checkCommandMode",value:function e(t){var n;return d[t]}}]),f);function f(e){u(this,f),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._animate=[],this._prevTime=-1,this._seq=999}t.ModulePureAnimate=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleZoom=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,v=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["ZoomIn"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=this._zoomInGroup.length;for(n=0;n<i;n++){t=this._zoomInGroup[n];var o=this._parent.getInstanceMirror(t),r=this.getCustomTag(t),a=this._zoomInGroupMirror[r];v.default.notNull(a)&&(a.visible=!1)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"ZoomIn":i=this.getCustomTag(t),this._zoomInGroup.push(t),this._zoomInGroupMirror[i]=this.pickRelation(n.parent,n.args[1])}}}},{key:"getCustomTag",value:function e(t){return v.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){var i=t[n];return null!=i?i:null}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0;this.triggerBtnZoomInMousedownBind=this.triggerBtnZoomInMousedownBind||this.triggerBtnZoomInMousedown.bind(this);var r=this._zoomInGroup.length;for(o=0;o<r;o++)if(!(i=this._zoomInGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var a=this.getCustomTag(i),s=this._parent.getInstanceMirror(i),u=this._zoomInGroupMirror[a];if(v.default.notNull(u)){u.visible=!1;var l=u.parent.localToGlobal(u.x-u.regX*u.scaleX,u.y-u.regY*u.scaleY),d=u.getBounds().width*u.scaleX,h=u.getBounds().height*u.scaleY,p=0<=u.getBounds().x?1:-1,c=0<=u.getBounds().y?1:-1,f=new this._parent.createjs.Point(u.x-u.regX*u.scaleX,u.y-u.regY*u.scaleY);1==p?f.x+=d:f.x-=d,1==c?f.y+=h:f.y-=h;var g=u.parent.localToGlobal(f.x,f.y);if(l.x>g.x){var _=l.clone();l.setValues(g.x,g.y),g.setValues(_.x,_.y)}u._locXY1=l,u._locXY2=g,u._locXY1N=u.parent.parent.globalToLocal(l.x,l.y),u._locXY2N=u.parent.parent.globalToLocal(g.x,g.y),this._zoomInGroupList.push({index:Number(s.args[0]),id:s.args[0],locX1:u._locXY1N.x,locY1:u._locXY1N.y,locX2:u._locXY2N.x,locY2:u._locXY2N.y})}i.addEventListener(this._mouseTriggerBehavior,this.triggerBtnZoomInMousedownBind),v.default.notNull(i.EffectBase)&&v.default.applyMultiply(i.EffectBase)}this._zoomInGroupList=this._zoomInGroupList.sort(function(e,t){return e.index>t.index?1:-1})}},{key:"getZoomInInfoList",value:function e(){return this._zoomInGroupList.concat()}},{key:"triggerBtnZoomInMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n);this._parent.sendCommand(i.command,n.name),t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._parent=e,this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._pickList,this._zoomInGroup=[],this._zoomInGroupList=[],this._zoomInGroupMirror={},this._seq=999}t.ModuleZoom=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var a=!window.ActiveXObject&&window.ActiveXObject;t.default={prefixNumberStr:function e(t,n){return(Array(n).join("0")+t).slice(-n)},loadJSON:function e(t,n){var i=void 0;(i=a?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest).callback=n,i.overrideMimeType&&i.overrideMimeType("application/json"),i.open("GET",t,!1),i.onreadystatechange=function(){4==this.readyState&&this.callback(this)},i.send(null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}t.default={randomInt:function e(t,n,i){for(var o=void 0;o=Math.round(Math.random()*(n-t))+t,helper.notNull(i)&&o===i;);return o},roundX:function e(t,n){return Math.round(Math.round(t*Math.pow(10,(n||0)+1))/10)/Math.pow(10,n||0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}t.default={checkArrayEquals:function e(t,n){if(!n)return!1;if(t.length!=n.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]instanceof Array&&n[i]instanceof Array){if(!r.default.checkArrayEquals(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1;return!0},getArrayUnique:function e(t,n,i){return i.indexOf(t)===n},shuffleArray:function e(t){for(var n=t.length-1;0<n;n--){var i=Math.floor(Math.random()*(n+1)),o=[t[i],t[n]];t[n]=o[0],t[i]=o[1]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,p=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=void 0,l=void 0,d=void 0,h=!1,c=!1;t.default={playSoundCheckLoadRequest:function e(n,t,i,o,r,a,s){var u=n.Sound.play(i,{offset:r,interrupt:n.Sound.INTERRUPT_EARLY,loop:o,volume:a});if("playFailed"===u.playState){var l=function e(t){n.Sound.removeEventListener("fileload",e),n.Sound.removeEventListener("fileerror",h),n.Sound.removeEventListener("error",d),p.default.notNull(s)&&s(i,u,"fileload")},d=function e(t){n.Sound.removeEventListener("fileload",l),n.Sound.removeEventListener("fileerror",h),n.Sound.removeEventListener("error",e),p.default.notNull(s)&&s(i,u,"error")},h=function e(t){n.Sound.removeEventListener("fileload",l),n.Sound.removeEventListener("fileerror",e),n.Sound.removeEventListener("error",d),p.default.notNull(s)&&s(i,u,"fileerror")};n.Sound.alternateExtensions=["mp3"],n.Sound.registerSound(t+i+".mp3",i),p.default.notNull(s)&&s(i,u,"preloading"),n.Sound.addEventListener("fileload",l),n.Sound.addEventListener("error",d),n.Sound.addEventListener("fileerror",h)}else p.default.notNull(s)&&(u.paused=!0,s(i,u,"playSuccess"))},playSound:function e(t,n,i){return t.Sound.play(n,{interrupt:t.Sound.INTERRUPT_EARLY,loop:i})},playWebAudioSound:function e(t,n,i,o,r,a,s){d=t,p.default.notNull(u)?u.stop():u=new f,u.path=n,u.id=i,u.loop=o,u.offset=r,u.volume=a,u.callback=s,u.src=n+i+".mp3",u.play()},playWebAudioSound2:function e(t,n,i,o,r,a,s){d=t,p.default.notNull(l)?l.stop():l=new f,l.path=n,l.id=i,l.loop=o,l.offset=r,l.volume=a,l.callback=s,l.src=n+i+".mp3",l.play()}};var f=(i(g,[{key:"addEventListener",value:function e(t,n){this.hasOwnProperty("_listener")||(this._listener=[]),void 0===this._listener[t]&&(this._listener[t]=[]),this._listener[t].push(n)}},{key:"dispatchEvent",value:function e(t){if(t.target,!t.type)throw new Error("Event Object missing 'type' ");var n;this._listener&&this._listener[t.type]instanceof Array&&this._listener[t.type].forEach(function(e){e.call(this,t)})}},{key:"removeEventListener",value:function e(t,n){if(this._listener&&this._listener[t]instanceof Array)for(var i=this._listener[t],o=0,r=i.length;o<r;o++)if(i[o]===n){i.splice(o,1);break}}},{key:"stop",value:function e(){d.Ticker.removeEventListener("tick",this.watchCreateJSIsLive),h=!1,this.audio.removeEventListener("canplaythrough",this.triggerWebAudioCanPaly),this.audio.removeEventListener("loadedmetadata",this.triggerWebAudioMetaData),this.audio.autoplay=!1,this.audio.pause()}},{key:"play",value:function e(){d.Ticker.addEventListener("tick",this.watchCreateJSIsLive),this.audio.addEventListener("loadedmetadata",this.triggerWebAudioMetaData),this.audio.load()}},{key:"triggerWebAudioMetaData",value:function e(t){var n=t.target;n.removeEventListener("loadedmetadata",n.__this.triggerWebAudioCanPaly),n.__this.callback(n.__this.id,n.__this,"playSuccess")}},{key:"triggerWebAudioCanPaly",value:function e(t){var n=t.target;n.removeEventListener("canplaythrough",n.__this.triggerWebAudioCanPaly),p.default.trace("canplay",n.duration,n.currentTime),n.__this.position=n.__this.offset;var i=n.play();void 0!==i?i.then(function(){n.play(),n.__this.callback(n.__this.id,n.__this,"playSuccess")}).catch(function(){n.__this.callback(n.__this.id,n.__this,"fileerror")}):n.__this.callback(n.__this.id,n.__this,"playSuccess")}},{key:"triggerWebAudioError",value:function e(t){var n=t.target;n.__this.callback(n.__this.id,n.__this,"fileerror")}},{key:"triggerWebAudioComplete",value:function e(t){var n=t.target;if(0===n.__this.loopMax)n.__this.dispatchEvent(n.__this.createNewEvent("complete"));else if(n.__this.loopCount++,n.__this.loopCount<=n.__this.loopMax){var i=n.play();void 0!==i&&i.then(function(){n.play()}).catch(function(){n.__this.dispatchEvent(n.__this.createNewEvent("complete"))})}else n.__this.dispatchEvent(n.__this.createNewEvent("complete"))}},{key:"watchCreateJSIsLive",value:function e(t){d.Ticker.paused?(u.paused||(h=!0,u.paused=!0),l.paused||(c=!0,l.paused=!0)):(h&&!d.Ticker.paused?(h=!1,u.paused=!1):h=!1,c&&!d.Ticker.paused?(c=!1,l.paused=!1):c=!1)}},{key:"createNewEvent",value:function e(t){var n;return"function"==typeof Event?n=new Event(t,{bubbles:!0,cancelable:!1}):(n=document.createEvent("Event")).initEvent(t,!0,!0),n}},{key:"autoplay",set:function e(t){this.audio.autoplay=t},get:function e(){return this.audio.autoplay}},{key:"playbackRate",set:function e(t){this.audio.playbackRate=t},get:function e(){return this.audio.playbackRate}},{key:"src",set:function e(t){this.audio.src=t},get:function e(){return this.audio.src}},{key:"volume",set:function e(t){this.audio.volume=t},get:function e(){return this.audio.volume}},{key:"loop",set:function e(t){this.loopMax=0<=t?t:0,this.loopCount=0},get:function e(){return this.loopMax}},{key:"duration",get:function e(){return 1e3*this.audio.duration}},{key:"position",get:function e(){return p.default.notNull(this.audio.currentTime)?1e3*this.audio.currentTime:0},set:function e(t){t<=this.offset&&(t=this.offset),this.audio.currentTime=t/1e3}},{key:"paused",set:function e(t){if(t)this.audio.autoplay=!1,this.audio.pause();else{this.audio.autoplay=!0;var n=this.audio.play(),i=this;void 0!==n&&n.then(function(){i.audio.play()}).catch(function(){})}},get:function e(){return this.audio.paused}}]),g);function g(){s(this,g),this.audio=new Audio,this.audio.preload="metadata",(this.audio.__this=this).audio.autoplay=!1,this.path,this.id,this.offset,this.vol,this.loop,this.callback,this.audio.addEventListener("error",this.triggerWebAudioError),this.audio.addEventListener("ended",this.triggerWebAudioComplete)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,u=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=void 0,d=void 0,h=!1;t.default={playWebVideo:function e(t,n,i,o,r,a,s){d=t,u.default.notNull(l)&&l.stop(),(l=new p).path=n,l.id=i,l.loop=o,l.offset=r,l.volume=a,l.callback=s,l.src=n+i+".mp4",l.play()}};var p=(i(c,[{key:"addEventListener",value:function e(t,n){this.hasOwnProperty("_listener")||(this._listener=[]),void 0===this._listener[t]&&(this._listener[t]=[]),this._listener[t].push(n)}},{key:"dispatchEvent",value:function e(t){if(t.target,!t.type)throw new Error("Event Object missing 'type' ");var n;this._listener&&this._listener[t.type]instanceof Array&&this._listener[t.type].forEach(function(e){e.call(this,t)})}},{key:"removeEventListener",value:function e(t,n){if(this._listener&&this._listener[t]instanceof Array)for(var i=this._listener[t],o=0,r=i.length;o<r;o++)if(i[o]===n){i.splice(o,1);break}}},{key:"stop",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;d.Ticker.removeEventListener("tick",this.watchCreateJSIsLive),h=!1,this.video.removeEventListener("canplaythrough",this.triggerWebVideoCanPaly),this.video.removeEventListener("loadedmetadata",this.triggerWebVideoMetaData),this.video.autoplay=!1,this.video.pause(),n&&u.default.notNull(this.videoBitmap)&&(u.default.notNull(this.videoBitmap.parent)&&this.videoBitmap.parent.removeChild(this.videoBitmap),this.videoBitmap=null,this.videoBuffer=null)}},{key:"play",value:function e(){u.default.notNull(this.videoBitmap)&&(u.default.notNull(this.videoBitmap.parent)&&this.videoBitmap.parent.removeChild(this.videoBitmap),this.videoBitmap=null,this.videoBuffer=null),d.Ticker.addEventListener("tick",this.watchCreateJSIsLive),this.video.addEventListener("loadedmetadata",this.triggerWebVideoMetaData)}},{key:"triggerWebVideoMetaData",value:function e(t){var n=t.target;n.removeEventListener("loadedmetadata",n.__this.triggerWebVideoMetaData),n.__this.callback(n.__this.id,n.__this,"playSuccess")}},{key:"triggerWebVideoCanPaly",value:function e(t){var n=t.target;n.removeEventListener("canplaythrough",n.__this.triggerWebVideoCanPaly),u.default.trace("canplay",n.duration,n.currentTime),n.__this.position=n.__this.offset;var i=n.play();void 0!==i?i.then(function(){n.play(),n.__this.callback(n.__this.id,n.__this,"playSuccess")}).catch(function(){n.__this.callback(n.__this.id,n.__this,"fileerror")}):(n.__this.videoBuffer=new d.VideoBuffer(n),n.__this.videoBitmap=new d.Bitmap(n.__this.videoBuffer),n.__this.callback(n.__this.id,n.__this,"playSuccess"))}},{key:"triggerWebVideoError",value:function e(t){var n=t.target;n.__this.callback(n.__this.id,n.__this,"fileerror")}},{key:"triggerWebVideoComplete",value:function e(t){var n=t.target;if(0===n.__this.loopMax)n.__this.dispatchEvent(n.__this.createNewEvent("complete"));else if(n.__this.loopCount++,n.__this.loopCount<=n.__this.loopMax){var i=n.play();void 0!==i&&i.then(function(){n.play()}).catch(function(){n.__this.dispatchEvent(n.__this.createNewEvent("complete"))})}else n.__this.dispatchEvent(n.__this.createNewEvent("complete"))}},{key:"watchCreateJSIsLive",value:function e(t){d.Ticker.paused?l.paused||(h=!0,l.paused=!0):h&&!d.Ticker.paused?(h=!1,l.paused=!1):h=!1}},{key:"createNewEvent",value:function e(t){var n;return"function"==typeof Event?n=new Event(t,{bubbles:!0,cancelable:!1}):(n=document.createEvent("Event")).initEvent(t,!0,!0),n}},{key:"autoplay",set:function e(t){this.video.autoplay=t},get:function e(){return this.video.autoplay}},{key:"playbackRate",set:function e(t){this.video.playbackRate=t},get:function e(){return this.video.playbackRate}},{key:"src",set:function e(t){this.video.src=t},get:function e(){return this.video.src}},{key:"volume",set:function e(t){this.video.volume=t},get:function e(){return this.video.volume}},{key:"loop",set:function e(t){this.loopMax=0<=t?t:0,this.loopCount=0},get:function e(){return this.loopMax}},{key:"duration",get:function e(){return 1e3*this.video.duration}},{key:"position",get:function e(){return u.default.notNull(this.video.currentTime)?1e3*this.video.currentTime:0},set:function e(t){t<=this.offset&&(t=this.offset),this.video.currentTime=t/1e3}},{key:"paused",set:function e(t){if(t)this.video.autoplay=!1,this.video.pause();else{this.video.autoplay=!0;var n=this.video.play(),i=this;void 0!==n&&n.then(function(){i.video.play()}).catch(function(){})}},get:function e(){return this.video.paused}}]),c);function c(){s(this,c),this.video=document.createElement("video"),(this.video.__this=this).video.preload="metadata",this.video.autoplay=!1,this.videoBuffer,this.videoBitmap,this.path,this.id,this.offset,this.vol,this.loop,this.callback,this.video.playsInline="true",this.video["webkit-playsinline"]="true",this.video.addEventListener("error",this.triggerWebVideoError),this.video.addEventListener("ended",this.triggerWebVideoComplete)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}t.default={collisionTest:function e(t,n){if(t.getBounds()&&n.getBounds()){var i=t.getBounds().width*t.scaleX,o=t.getBounds().height*t.scaleY,r=n.getBounds().width*n.scaleX,a=n.getBounds().height*n.scaleY,s=t.x+t.getBounds().x*t.scaleX-i/2,u=t.x+t.getBounds().x*t.scaleX+i/2,l=t.y+t.getBounds().y*t.scaleY-o/2,d=t.y+t.getBounds().y*t.scaleY+o/2,h=n.x+n.getBounds().x*n.scaleX-r/2,p=n.x+n.getBounds().x*n.scaleX+r/2,c=n.y+n.getBounds().y*n.scaleY-a/2,f=n.y+n.getBounds().y*n.scaleY+o/2,g=void 0,_=void 0;return _=l<c&&c<d||l<f&&f<d,(g=s<h&&h<u||s<p&&p<u)&&_}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,h=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}t.default={applyMultiply:function e(t){h.default.notNull(t)&&(t.compositeOperation="multiply")},unapplyMultiply:function e(t){h.default.notNull(t)&&(t.compositeOperation=null)},applyColorFilter:function e(t,n,i,o,r,a){var s=2<arguments.length&&void 0!==i?i:255,u=3<arguments.length&&void 0!==o?o:0,l=4<arguments.length&&void 0!==r?r:0,d=5<arguments.length&&void 0!==a?a:0;h.default.notNull(n)&&n instanceof t.MovieClip&&(h.default.isNull(n.orgAlpha)&&(n.orgAlpha=n.alpha),n.filters=[new t.ColorFilter(0,0,0,1,s,u,l,d)],h.default.notNull(n.nominalBounds)?n.cache(n.nominalBounds.x,n.nominalBounds.y,n.nominalBounds.width,n.nominalBounds.height):h.default.trace("target.nominalBounds is undefined."))},applyColorGrayFilter:function e(t,n,i){var o=2<arguments.length&&void 0!==i?i:.2;h.default.notNull(n)&&n instanceof t.MovieClip&&(h.default.isNull(n.orgAlpha)&&(n.orgAlpha=n.alpha),n.alpha=o,n.filters=[new createjs.ColorMatrixFilter((new t.ColorMatrix).adjustSaturation(-100))],h.default.notNull(n.nominalBounds)?n.cache(n.nominalBounds.x,n.nominalBounds.y,n.nominalBounds.width,n.nominalBounds.height):h.default.trace("target.nominalBounds is undefined."))},unapplyColorFilter:function e(t,n){h.default.notNull(n)&&n instanceof t.MovieClip&&(h.default.isNull(n.orgAlpha)&&(n.orgAlpha=n.alpha),n.alpha=n.orgAlpha,n.filters=null,n.uncache())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,l=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var r=!1;t.default={generateExtraCommand:function e(t,n,i){var o={};if(o.owner=i,l.default.notNull(n)){var r=n.split("_");o.command=t,(o.data=r.concat()).shift()}return o},sendExtraCommand:function e(t){for(var n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r;if(l.default.trace.apply(l.default,["log: sendExtraCommand",t].concat(i)),l.default.notNull(window)){if(window.sendFromChild)(r=window).sendFromChild.apply(r,[t].concat(i));else if(l.default.notNull(window.parent)&&window.parent.sendFromIFrameChild){var a;(a=window.parent).sendFromIFrameChild.apply(a,[t].concat(i))}}else l.default.trace("warning: window is not exist.")},getHtmlhrefValue:function e(t){if(l.default.notNull(window)){var n,i=decodeURI(window.location.href).split("?");if(i.length<=1)return;var o,r=i[1].split("&"),a=void 0,s=void 0;for(s=0;s<r.length;s++){var u=r[s].split("=");if(u[0]==t){a=u[1];break}}return void 0!==a&&(a=unescape(a)).replace(/\+/g," "),a}},canvasResume:function e(t,n){l.default.trace("canvas resume"),t.Ticker.paused=!1,t.Ticker.addEventListener("tick",n)},canvasPause:function e(t,n){l.default.trace("canvas pause"),t.Ticker.paused=!0,t.Ticker.removeEventListener("tick",n)},supportPassive:function e(){if(r)return{passive:!0};if(l.default.isNull(window))return!1;try{var t=Object.defineProperty({},"passive",{get:function e(){r=!0}});window.addEventListener("test",null,t)}catch(e){}return!!r&&{passive:!0}},createNewEvent:function e(t){var n;return"function"==typeof Event?n=new Event(t,{bubbles:!0,cancelable:!1}):(n=document.createEvent("Event")).initEvent(t,!0,!0),n},isIOS:function e(t){var n;return 0<arguments.length&&void 0!==t&&t?(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform)&&!window.MSStream:(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!window.MSStream}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SoundPlayerBar=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["SoundPlayBar","MiniSoundPlayBar"],l=(i(d,[{key:"init",value:function e(){if(!this.isInited){var t;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup()}return this}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init(),c.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1),this.closeSoundPlayBar();for(var t=this._pickList.length,n=void 0,i=void 0,o=0;o<t;o++)n=this._pickList[o],i=this._parent.getInstanceMirror(n),n.timeTF.text="",n.durationTF.text="",n.timeTF.updateCache(),n.durationTF.updateCache(),n.visible=!1}},{key:"openSoundPlayBar",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:{};this.isInited||this.init(),this.reset(),this._soundPlayBar&&(this._soundPlayBar.visible=!1),this._miniSoundPlayBar&&(this._miniSoundPlayBar.visible=!1),this._controlPlayBar="mini-close"===t||"mini-wait"===t?this._miniSoundPlayBar:this._soundPlayBar,this._soundObj=i,this.initControlSoundPlayBar(t)}},{key:"stopSoundPlayBar",value:function e(){this.isInited||this.init(),c.default.notNull(this._controlPlayBar)&&(this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!0:this._parent.soundChannel.paused=!0,this._parent.soundChannel.position=0,this._controlPlayBar.controlPlay.visible=!0,this._controlPlayBar.controlPause.visible=!1)}},{key:"closeSoundPlayBar",value:function e(){this.isInited||this.init(),c.default.notNull(this._controlPlayBar)&&(c.default.notNull(this._parent.soundChannel)&&(this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!0:this._parent.soundChannel.paused=!0),this._controlPlayBar.visible=!1,this._parent.createjs.Ticker.removeEventListener("tick",this.watchPlaySoundTickBind),this._soundObj=null,this._controlPlayBar=null)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);-1!==u.indexOf(n.command)&&this._pickList.push(t)}},{key:"setup",value:function e(){this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this),this.pressmoveScrollBind=this.pressmoveScrollBind||this.pressmoveScroll.bind(this),this.mousedownScrollBind=this.mousedownScrollBind||this.mousedownScroll.bind(this),this.pressupScrollBind=this.pressupScrollBind||this.pressupScroll.bind(this),this.pressmoveBarBaseBind=this.pressmoveBarBaseBind||this.pressmoveBarBase.bind(this),this.mousedownBarBaseBind=this.mousedownBarBaseBind||this.mousedownBarBase.bind(this),this.pressupBarBaseBind=this.pressupBarBaseBind||this.pressupBarBase.bind(this),this.watchPlaySoundTickBind=this.watchPlaySoundTickBind||this.watchPlaySoundTick.bind(this);for(var t=this._pickList.length,n=void 0,i=0;i<t;i++)(n=this._pickList[i])._isModuleInited||(n._isModuleInited=!0,this.build(n));this._miniSoundPlayBar||(this._miniSoundPlayBar=this._soundPlayBar),this._soundPlayBar||(this._soundPlayBar=this._miniSoundPlayBar)}},{key:"build",value:function e(t){var n=this._parent.getInstanceMirror(t);"SoundPlayBar"===n.command&&(this._soundPlayBar=t),"MiniSoundPlayBar"===n.command&&(this._miniSoundPlayBar=t),t.controlClose&&(t.controlClose.cursor="pointer",t.controlClose.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.controlStop&&(t.controlStop.cursor="pointer",t.controlStop.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.controlPlay&&(t.controlPlay.cursor="pointer",t.controlPlay.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.controlPause&&(t.controlPause.cursor="pointer",t.controlPause.visible=!1,t.controlPause.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.timeBar&&t.timeBar.pullBall&&(t.timeBar.pullBall.cursor="pointer",t.timeBar.pullBall.addEventListener("pressmove",this.pressmoveScrollBind,c.default.supportPassive()),t.timeBar.pullBall.addEventListener("mousedown",this.mousedownScrollBind,c.default.supportPassive()),t.timeBar.pullBall.addEventListener("pressup",this.pressupScrollBind,c.default.supportPassive())),t.baseMC&&(t.baseMC.addEventListener("pressmove",this.pressmoveBarBaseBind,c.default.supportPassive()),t.baseMC.addEventListener("mousedown",this.mousedownBarBaseBind,c.default.supportPassive()),t.baseMC.addEventListener("pressup",this.pressupBarBaseBind,c.default.supportPassive())),t.timeTF.mouseEnabled=!1,t.durationTF.mouseEnabled=!1,t.gapTF.mouseEnabled=!1,t.timeTF.text="  00:00  ",t.durationTF.text="  00:00  ",t.timeTF.cache(t.timeTF.getBounds().x,t.timeTF.getBounds().y,t.timeTF.getBounds().width,t.timeTF.getBounds().height,1),t.timeTF.updateCache(),t.durationTF.cache(t.durationTF.getBounds().x,t.durationTF.getBounds().y,t.durationTF.getBounds().width,t.durationTF.getBounds().height,1),t.durationTF.updateCache(),t.gapTF.cache(t.gapTF.getBounds().x,t.gapTF.getBounds().y,t.gapTF.getBounds().width,t.gapTF.getBounds().height,1),t.gapTF.updateCache(),t.visible=!1}},{key:"initControlSoundPlayBar",value:function e(t){if(!c.default.isNull(this._soundObj)&&!c.default.isNull(this._controlPlayBar))if(c.default.notNull(this._parent.owner)&&""!==this._parent.owner)c.default.notNull(this._parent.soundChannel)&&(this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),this._parent.soundChannel.stop()),c.default.isNull(this._soundObj.marqueeMode)?this._parent.sendCommand("SoundPlayBar","SoundPlayBar_"+t):this._parent.sendCommand("MarqueeSoundPlayBar","MarqueeSoundPlayBar_"+t);else{if(this._parent.createjs.Ticker.addEventListener("tick",this.watchPlaySoundTickBind),this._soundObj.autoPlay){var n=this._controlPlayBar.nominalBounds,i=this._parent.exportRoot.nominalBounds;"mini-close"===t||"mini-wait"===t?this._controlPlayBar.setTransform(this._soundObj.locX-n.width*this._controlPlayBar.scale/2,this._soundObj.locY-n.height*this._controlPlayBar.scale):this._controlPlayBar.setTransform((i.x+i.width)/2-n.width*this._controlPlayBar.scale/2,i.y+i.height-n.height*this._controlPlayBar.scale),this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!1:this._parent.soundChannel.paused=!1,this._controlPlayBar.controlPlay.visible=!1,this._controlPlayBar.controlPause.visible=!0}else this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!0:this._parent.soundChannel.paused=!0,this._controlPlayBar.controlPlay.visible=!0,this._controlPlayBar.controlPause.visible=!1;this._controlPlayBar.visible=!0}}},{key:"triggerMousedown",value:function e(t){var n=t.currentTarget,i;switch(this._parent.getInstanceMirror(n).command){case"controlClose":this._parent.stop(null,!0);break;case"controlPlay":this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!1:this._parent.soundChannel.paused=!1,this._controlPlayBar.controlPlay.visible=!1,this._controlPlayBar.controlPause.visible=!0;break;case"controlPause":this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!0:this._parent.soundChannel.paused=!0,this._controlPlayBar.controlPlay.visible=!0,this._controlPlayBar.controlPause.visible=!1;break;case"controlStop":this.stopSoundPlayBar()}this.refreshScroll(),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"watchPlaySoundTick",value:function e(t){if(c.default.notNull(this._soundObj)&&this._parent.soundChannel){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._parent.soundChannel.sec&&(n*=1e3,i*=1e3),this.showBarTime(n,i),this.refreshScroll()}}},{key:"mousedownScroll",value:function e(t){this._parent.setPressEventIsOn(!0),c.default.notNull(this._soundObj)&&this._parent.soundChannel&&(this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!0:this._parent.soundChannel.paused=!0),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"pressupScroll",value:function e(t){this._parent.setPressEventIsOn(!1),c.default.notNull(this._soundObj)&&this._parent.soundChannel&&(c.default.notNull(this._parent.soundChannel.debugReset)&&this._parent.soundChannel.debugReset(),this._controlPlayBar.controlPause.visible&&(this._parent.soundChannel.defaultPlaybackRate?this._parent.soundChannel.controlPaused=!1:this._parent.soundChannel.paused=!1)),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"pressmoveScroll",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.lineBase.nominalBounds.width,o=n.parent.globalToLocal(t.stageX,t.stageY);o.x<0&&(o.x=0),o.x>i&&(o.x=i),n.x=o.x;var r=o.x/i;this._parent.soundChannel.position=this._parent.soundChannel.duration*r;var a=this._parent.soundChannel.position,s=this._parent.soundChannel.duration;this._parent.soundChannel.sec&&(a*=1e3,s*=1e3),this.showBarTime(s*r,s),this.setBarLineSize(n.parent.lineBase,n.x,n.parent.lineBase.nominalBounds.height,!1),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"setBarLineSize",value:function e(t,n,i,o){if(void 0!==n&&void 0!==i){var r=t.nominalBounds;o?t.setTransform(t.x-r.width/2,t.y-r.height/2,n/t.nominalBounds.width,i/t.nominalBounds.height):t.setTransform(t.x,t.y,n/t.nominalBounds.width,i/t.nominalBounds.height)}}},{key:"showBarTime",value:function e(t,n){var i=this._controlPlayBar.timeTF,o=this._controlPlayBar.durationTF,r=Math.round(n/1e3),a=Math.floor(r/3600),s=Math.floor((r-3600*a)/60),u=Math.floor(r-(3600*a+60*s));o.text=a<=0?c.default.prefixNumberStr(s,2)+"："+c.default.prefixNumberStr(u,2):c.default.prefixNumberStr(a,2)+"："+c.default.prefixNumberStr(s,2)+"："+c.default.prefixNumberStr(u,2),o.updateCache();var l=Math.round(t/1e3),d=Math.floor(l/3600),h=Math.floor((l-3600*d)/60),p=Math.floor(l-(3600*d+60*h));i.text=d<=0?c.default.prefixNumberStr(h,2)+"："+c.default.prefixNumberStr(p,2):c.default.prefixNumberStr(d,2)+"："+c.default.prefixNumberStr(h,2)+"："+c.default.prefixNumberStr(p,2),i.updateCache()}},{key:"refreshScroll",value:function e(){if(c.default.notNull(this._soundObj)&&this._parent.soundChannel){var t=this._controlPlayBar.timeBar.pullBall,n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration,o=this._parent.soundChannel.position,r=this._parent.soundChannel.duration;this._parent.soundChannel.sec&&(o*=1e3,r*=1e3);var a=this._controlPlayBar.timeBar.lineBase.nominalBounds.width;t.x=a*(o/r),this.setBarLineSize(t.parent.lineBase,t.x,t.parent.lineBase.nominalBounds.height,!1)}}},{key:"pressmoveBarBase",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget.parent;n.parent.setChildIndex(n,n.parent.getNumChildren()-1);var i=n.parent.globalToLocal(t.stageX,t.stageY);n.x=i.x+this._baseMoveFixedX,n.y=i.y+this._baseMoveFixedY;var o=n.nominalBounds.width*n.scale,r=n.nominalBounds.height*n.scale,a=0-n.nominalBounds.x*n.scale,s=this._parent.exportRoot.nominalBounds.width+this._parent.exportRoot.nominalBounds.x-o,u=0-n.nominalBounds.y*n.scale,l=this._parent.exportRoot.nominalBounds.height+this._parent.exportRoot.nominalBounds.y-r;n.x<a&&(n.x=a),n.x>s&&(n.x=s),n.y<u&&(n.y=u),n.y>l&&(n.y=l);var d=Math.abs(n.x-this._baseMoveStartX),h=Math.abs(n.y-this._baseMoveStartY),p=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));t.stopPropagation(),t.stopImmediatePropagation()}},{key:"pressupBarBase",value:function e(t){this._parent.setPressEventIsOn(!1);var n=t.currentTarget.parent;t.stopPropagation(),t.stopImmediatePropagation()}},{key:"mousedownBarBase",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget.parent;n.parent.setChildIndex(n,n.parent.getNumChildren()-1);var i=n.parent.globalToLocal(t.stageX,t.stageY);this._baseMoveFixedX=n.x-i.x,this._baseMoveFixedY=n.y-i.y,this._baseMoveStartX=n.x+this._baseMoveFixedX,this._baseMoveStartY=n.y+this._baseMoveFixedY,t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._soundPlayBar,this._miniSoundPlayBar,this._controlPlayBar,this._soundObj}t.SoundPlayerBar=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerBar=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["VideoPlayBar","MiniVideoPlayBar"],l=(i(d,[{key:"init",value:function e(){if(!this.isInited){var t;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup()}return this}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init(),c.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1),this.closeVideoPlayBar();for(var t=this._pickList.length,n=void 0,i=void 0,o=0;o<t;o++)n=this._pickList[o],i=this._parent.getInstanceMirror(n),n.timeTF.text="",n.durationTF.text="",n.timeTF.updateCache(),n.durationTF.updateCache(),n.visible=!1}},{key:"openVideoPlayBar",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:{};this.isInited||this.init(),this.reset(),this._videoPlayBar&&(this._videoPlayBar.visible=!1),this._miniVideoPlayBar&&(this._miniVideoPlayBar.visible=!1),this._controlPlayBar="mini-close"===t||"mini-wait"===t?this._miniVideoPlayBar:this._videoPlayBar,this._videoObj=i,this.initControlVideoPlayBar(t)}},{key:"stopVideoPlayBar",value:function e(){this.isInited||this.init(),c.default.notNull(this._controlPlayBar)&&(this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!0:this._parent.videoChannel.paused=!0,this._parent.videoChannel.position=0,this._controlPlayBar.controlPlay.visible=!0,this._controlPlayBar.controlPause.visible=!1)}},{key:"closeVideoPlayBar",value:function e(){this.isInited||this.init(),c.default.notNull(this._controlPlayBar)&&(c.default.notNull(this._parent.videoChannel)&&(this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!0:this._parent.videoChannel.paused=!0),this._controlPlayBar.visible=!1,this._parent.createjs.Ticker.removeEventListener("tick",this.watchPlayVideoTickBind),this._videoObj=null,this._controlPlayBar=null)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t);-1!==u.indexOf(n.command)&&this._pickList.push(t)}},{key:"setup",value:function e(){this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this),this.pressmoveScrollBind=this.pressmoveScrollBind||this.pressmoveScroll.bind(this),this.mousedownScrollBind=this.mousedownScrollBind||this.mousedownScroll.bind(this),this.pressupScrollBind=this.pressupScrollBind||this.pressupScroll.bind(this),this.pressmoveBarBaseBind=this.pressmoveBarBaseBind||this.pressmoveBarBase.bind(this),this.mousedownBarBaseBind=this.mousedownBarBaseBind||this.mousedownBarBase.bind(this),this.pressupBarBaseBind=this.pressupBarBaseBind||this.pressupBarBase.bind(this),this.watchPlayVideoTickBind=this.watchPlayVideoTickBind||this.watchPlayVideoTick.bind(this);for(var t=this._pickList.length,n=void 0,i=0;i<t;i++)(n=this._pickList[i])._isModuleInited||(n._isModuleInited=!0,this.build(n));this._miniVideoPlayBar||(this._miniVideoPlayBar=this._videoPlayBar),this._videoPlayBar||(this._videoPlayBar=this._miniVideoPlayBar)}},{key:"build",value:function e(t){var n=this._parent.getInstanceMirror(t);"VideoPlayBar"===n.command&&(this._videoPlayBar=t),"MiniVideoPlayBar"===n.command&&(this._miniVideoPlayBar=t),t.controlClose&&(t.controlClose.cursor="pointer",t.controlClose.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.controlStop&&(t.controlStop.cursor="pointer",t.controlStop.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.controlPlay&&(t.controlPlay.cursor="pointer",t.controlPlay.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.controlPause&&(t.controlPause.cursor="pointer",t.controlPause.visible=!1,t.controlPause.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind)),t.timeBar&&t.timeBar.pullBall&&(t.timeBar.pullBall.cursor="pointer",t.timeBar.pullBall.addEventListener("pressmove",this.pressmoveScrollBind,c.default.supportPassive()),t.timeBar.pullBall.addEventListener("mousedown",this.mousedownScrollBind,c.default.supportPassive()),t.timeBar.pullBall.addEventListener("pressup",this.pressupScrollBind,c.default.supportPassive())),t.baseMC&&(t.baseMC.addEventListener("pressmove",this.pressmoveBarBaseBind,c.default.supportPassive()),t.baseMC.addEventListener("mousedown",this.mousedownBarBaseBind,c.default.supportPassive()),t.baseMC.addEventListener("pressup",this.pressupBarBaseBind,c.default.supportPassive())),t.timeTF.mouseEnabled=!1,t.durationTF.mouseEnabled=!1,t.gapTF.mouseEnabled=!1,t.timeTF.text="  00:00  ",t.durationTF.text="  00:00  ",t.timeTF.cache(t.timeTF.getBounds().x,t.timeTF.getBounds().y,t.timeTF.getBounds().width,t.timeTF.getBounds().height,1),t.timeTF.updateCache(),t.durationTF.cache(t.durationTF.getBounds().x,t.durationTF.getBounds().y,t.durationTF.getBounds().width,t.durationTF.getBounds().height,1),t.durationTF.updateCache(),t.gapTF.cache(t.gapTF.getBounds().x,t.gapTF.getBounds().y,t.gapTF.getBounds().width,t.gapTF.getBounds().height,1),t.gapTF.updateCache(),t.visible=!1}},{key:"initControlVideoPlayBar",value:function e(t){if(!c.default.isNull(this._videoObj)&&!c.default.isNull(this._controlPlayBar))if(c.default.notNull(this._parent.owner)&&""!==this._parent.owner)c.default.notNull(this._parent.videoChannel)&&(this._parent.videoChannel.removeEventListener("complete",this._parent.videoObj.completeFunc),this._parent.videoChannel.stop()),this._parent.sendCommand("VideoPlayBar","VideoPlayBar_"+t);else{if(this._parent.createjs.Ticker.addEventListener("tick",this.watchPlayVideoTickBind),this._videoObj.autoPlay){var n=this._controlPlayBar.nominalBounds,i=this._parent.exportRoot.nominalBounds;"mini-close"===t||"mini-wait"===t?this._controlPlayBar.setTransform(this._videoObj.locX-n.width*this._controlPlayBar.scale/2,this._videoObj.locY-n.height*this._controlPlayBar.scale):this._controlPlayBar.setTransform((i.x+i.width)/2-n.width*this._controlPlayBar.scale/2,i.y+i.height-n.height*this._controlPlayBar.scale),this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!1:this._parent.videoChannel.paused=!1,this._controlPlayBar.controlPlay.visible=!1,this._controlPlayBar.controlPause.visible=!0}else this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!0:this._parent.videoChannel.paused=!0,this._controlPlayBar.controlPlay.visible=!0,this._controlPlayBar.controlPause.visible=!1;this._controlPlayBar.visible=!0}}},{key:"triggerMousedown",value:function e(t){var n=t.currentTarget,i;switch(this._parent.getInstanceMirror(n).command){case"controlClose":this._parent.stop(null,!0);break;case"controlPlay":this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!1:this._parent.videoChannel.paused=!1,this._controlPlayBar.controlPlay.visible=!1,this._controlPlayBar.controlPause.visible=!0;break;case"controlPause":this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!0:this._parent.videoChannel.paused=!0,this._controlPlayBar.controlPlay.visible=!0,this._controlPlayBar.controlPause.visible=!1;break;case"controlStop":this.stopVideoPlayBar()}this.refreshScroll(),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"watchPlayVideoTick",value:function e(t){if(c.default.notNull(this._videoObj)&&this._parent.videoChannel){var n=this._parent.videoChannel.position,i=this._parent.videoChannel.duration;this._parent.videoChannel.sec&&(n*=1e3,i*=1e3),this.showBarTime(n,i),this.refreshScroll()}}},{key:"mousedownScroll",value:function e(t){this._parent.setPressEventIsOn(!0),c.default.notNull(this._videoObj)&&this._parent.videoChannel&&(this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!0:this._parent.videoChannel.paused=!0),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"pressupScroll",value:function e(t){this._parent.setPressEventIsOn(!1),c.default.notNull(this._videoObj)&&this._parent.videoChannel&&this._controlPlayBar.controlPause.visible&&(this._parent.videoChannel.defaultPlaybackRate?this._parent.videoChannel.controlPaused=!1:this._parent.videoChannel.paused=!1),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"pressmoveScroll",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.lineBase.nominalBounds.width,o=n.parent.globalToLocal(t.stageX,t.stageY);o.x<0&&(o.x=0),o.x>i&&(o.x=i),n.x=o.x;var r=o.x/i;this._parent.videoChannel.position=this._parent.videoChannel.duration*r;var a=this._parent.videoChannel.position,s=this._parent.videoChannel.duration;this._parent.videoChannel.sec&&(a*=1e3,s*=1e3),this.showBarTime(s*r,s),this.setBarLineSize(n.parent.lineBase,n.x,n.parent.lineBase.nominalBounds.height,!1),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"setBarLineSize",value:function e(t,n,i,o){if(void 0!==n&&void 0!==i){var r=t.nominalBounds;o?t.setTransform(t.x-r.width/2,t.y-r.height/2,n/t.nominalBounds.width,i/t.nominalBounds.height):t.setTransform(t.x,t.y,n/t.nominalBounds.width,i/t.nominalBounds.height)}}},{key:"showBarTime",value:function e(t,n){var i=this._controlPlayBar.timeTF,o=this._controlPlayBar.durationTF,r=Math.round(n/1e3),a=Math.floor(r/3600),s=Math.floor((r-3600*a)/60),u=Math.floor(r-(3600*a+60*s));o.text=a<=0?c.default.prefixNumberStr(s,2)+"："+c.default.prefixNumberStr(u,2):c.default.prefixNumberStr(a,2)+"："+c.default.prefixNumberStr(s,2)+"："+c.default.prefixNumberStr(u,2),o.updateCache();var l=Math.round(t/1e3),d=Math.floor(l/3600),h=Math.floor((l-3600*d)/60),p=Math.floor(l-(3600*d+60*h));i.text=d<=0?c.default.prefixNumberStr(h,2)+"："+c.default.prefixNumberStr(p,2):c.default.prefixNumberStr(d,2)+"："+c.default.prefixNumberStr(h,2)+"："+c.default.prefixNumberStr(p,2),i.updateCache()}},{key:"refreshScroll",value:function e(){if(c.default.notNull(this._videoObj)&&this._parent.videoChannel){var t=this._controlPlayBar.timeBar.pullBall,n=this._parent.videoChannel.position,i=this._parent.videoChannel.duration,o=this._parent.videoChannel.position,r=this._parent.videoChannel.duration;this._parent.videoChannel.sec&&(o*=1e3,r*=1e3);var a=this._controlPlayBar.timeBar.lineBase.nominalBounds.width;t.x=a*(o/r),this.setBarLineSize(t.parent.lineBase,t.x,t.parent.lineBase.nominalBounds.height,!1)}}},{key:"pressmoveBarBase",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget.parent;n.parent.setChildIndex(n,n.parent.getNumChildren()-1);var i=n.parent.globalToLocal(t.stageX,t.stageY);n.x=i.x+this._baseMoveFixedX,n.y=i.y+this._baseMoveFixedY;var o=n.nominalBounds.width*n.scale,r=n.nominalBounds.height*n.scale,a=0-n.nominalBounds.x*n.scale,s=this._parent.exportRoot.nominalBounds.width+this._parent.exportRoot.nominalBounds.x-o,u=0-n.nominalBounds.y*n.scale,l=this._parent.exportRoot.nominalBounds.height+this._parent.exportRoot.nominalBounds.y-r;n.x<a&&(n.x=a),n.x>s&&(n.x=s),n.y<u&&(n.y=u),n.y>l&&(n.y=l);var d=Math.abs(n.x-this._baseMoveStartX),h=Math.abs(n.y-this._baseMoveStartY),p=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));t.stopPropagation(),t.stopImmediatePropagation()}},{key:"pressupBarBase",value:function e(t){this._parent.setPressEventIsOn(!1);var n=t.currentTarget.parent;t.stopPropagation(),t.stopImmediatePropagation()}},{key:"mousedownBarBase",value:function e(t){var n=t.currentTarget.parent;this._parent.setPressEventIsOn(!0),n.parent.setChildIndex(n,n.parent.getNumChildren()-1);var i=n.parent.globalToLocal(t.stageX,t.stageY);this._baseMoveFixedX=n.x-i.x,this._baseMoveFixedY=n.y-i.y,this._baseMoveStartX=n.x+this._baseMoveFixedX,this._baseMoveStartY=n.y+this._baseMoveFixedY,t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._videoPlayBar,this._miniVideoPlayBar,this._controlPlayBar,this._videoObj}t.VideoPlayerBar=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(3).BasePage,c=n(4).ModuleGoOutCommand,f=n(5).ModuleBookSound,g=n(6).ModuleAnsZone,_=n(7).ModulePlaySwitchSound,v=n(8).ModuleListPop,m=n(9).ModuleSwitchPop,b=n(10).ModuleStopTouch,y=n(11).ModuleDragListPop,P=n(12).ModulePageActSoundMV,M=n(13).ModulePager,O=n(14).ModuleWordsNavigator,S=n(15).ModuleOnAndOff,B=n(16).ModuleCalculator,x=n(17).ModulePureAnimate,k=n(18).ModuleZoom,w=n(30).ModuleWordsMarqueeSound,C=n(34).ModuleDragQA,I=n(35).ModuleEnCnTranslate,N=n(36).ModuleAnimateAnsRightWrong,T=n(37).ModuleSpotlight,j=n(38).ModuleLetterStroke,L=(h(E,A=p),i(E,[{key:"init",value:function e(){r(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam)),window.callDelayPageInitComplete&&window.callDelayPageInitComplete()}},{key:"getGoOutCommandItemList",value:function e(){return this.isInited||this.init(),this._moduleGoOutCommand?this._moduleGoOutCommand.getPickListName():null}},{key:"interrupt",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.stop(i,o,!0)}},{key:"stop",value:function e(t,n,i){var o=0<arguments.length&&void 0!==t?t:null,r=1<arguments.length&&void 0!==n&&n,a=2<arguments.length&&void 0!==i&&i;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(o=this.soundObj.excludeTags),s.default.isNull(o)&&(o=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(o=o.concat(this.videoObj.excludeTags)),-1===o.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&!a&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&!a&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.stop(),this._moduleWordsMarqueeSound&&-1===o.indexOf("ModuleWordsMarqueeSound")&&-1===this._resetExclude.indexOf("ModuleWordsMarqueeSound")&&this._moduleWordsMarqueeSound.stop(),this._moduleDragQA&&-1===o.indexOf("ModuleDragQA")&&-1===this._resetExclude.indexOf("ModuleDragQA")&&this._moduleDragQA.stop(),this._moduleEnCnTranslate&&-1===o.indexOf("ModuleEnCnTranslate")&&-1===this._resetExclude.indexOf("ModuleEnCnTranslate")&&this._moduleEnCnTranslate.stop(),this._moduleAnimateAnsRightWrong&&-1===o.indexOf("ModuleAnimateAnsRightWrong")&&-1===this._resetExclude.indexOf("ModuleAnimateAnsRightWrong")&&this._moduleAnimateAnsRightWrong.stop(),this._moduleSpotlight&&-1===o.indexOf("ModuleSpotlight")&&-1===this._resetExclude.indexOf("ModuleSpotlight")&&this._moduleSpotlight.stop(),this._moduleLetterStroke&&-1===o.indexOf("ModuleLetterStroke")&&-1===this._resetExclude.indexOf("ModuleLetterStroke")&&this._moduleLetterStroke.stop(),this._moduleGoOutCommand&&-1===o.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.stop(),this._moduleBookSound&&-1===o.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.stop(),this._modulePlaySwitchSound&&-1===o.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.stop(),this._moduleListPop&&-1===o.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.stop(),this._moduleSwitchPop&&-1===o.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.stop(),this._moduleStopTouch&&-1===o.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.stop(),this._moduleDragListPop&&-1===o.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.stop(),this._modulePageActSoundMV&&-1===o.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.stop(),this._modulePager&&-1===o.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.stop(),this._moduleWordsNavigator&&-1===o.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.stop(),this._moduleOnAndOff&&-1===o.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.stop(),this._moduleCalculator&&-1===o.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.stop(),this._modulePureAnimate&&-1===o.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.stop(),this._moduleAnsZone&&-1===o.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.stop(),this._moduleZoom&&-1===o.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.stop(),this.soundObj=null,this.soundChannel=null,-1===o.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),r&&this.sendCommand("Stop","Stop")}},{key:"reset",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(i=this.soundObj.excludeTags),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.reset(),this._moduleWordsMarqueeSound&&-1===i.indexOf("ModuleWordsMarqueeSound")&&-1===this._resetExclude.indexOf("ModuleWordsMarqueeSound")&&this._moduleWordsMarqueeSound.reset(),this._moduleDragQA&&-1===i.indexOf("ModuleDragQA")&&-1===this._resetExclude.indexOf("ModuleDragQA")&&this._moduleDragQA.reset(),this._moduleEnCnTranslate&&-1===i.indexOf("ModuleEnCnTranslate")&&-1===this._resetExclude.indexOf("ModuleEnCnTranslate")&&this._moduleEnCnTranslate.reset(),this._moduleAnimateAnsRightWrong&&-1===i.indexOf("ModuleAnimateAnsRightWrong")&&-1===this._resetExclude.indexOf("ModuleAnimateAnsRightWrong")&&this._moduleAnimateAnsRightWrong.reset(),this._moduleSpotlight&&-1===i.indexOf("ModuleSpotlight")&&-1===this._resetExclude.indexOf("ModuleSpotlight")&&this._moduleSpotlight.reset(),this._moduleLetterStroke&&-1===i.indexOf("ModuleLetterStroke")&&-1===this._resetExclude.indexOf("ModuleLetterStroke")&&this._moduleLetterStroke.reset(),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleBookSound&&-1===i.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.reset(),this._modulePlaySwitchSound&&-1===i.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePageActSoundMV&&-1===i.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),this.soundObj=null,this.soundChannel=null,-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),o&&this.sendCommand("Reset","Reset")}},{key:"resetAbortSound",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),this._moduleDragQA&&-1===i.indexOf("ModuleDragQA")&&-1===this._resetExclude.indexOf("ModuleDragQA")&&this._moduleDragQA.reset(),this._moduleEnCnTranslate&&-1===i.indexOf("ModuleEnCnTranslate")&&-1===this._resetExclude.indexOf("ModuleEnCnTranslate")&&this._moduleEnCnTranslate.reset(),this._moduleAnimateAnsRightWrong&&-1===i.indexOf("ModuleAnimateAnsRightWrong")&&-1===this._resetExclude.indexOf("ModuleAnimateAnsRightWrong")&&this._moduleAnimateAnsRightWrong.reset(),this._moduleSpotlight&&-1===i.indexOf("ModuleSpotlight")&&-1===this._resetExclude.indexOf("ModuleSpotlight")&&this._moduleSpotlight.reset(),this._moduleLetterStroke&&-1===i.indexOf("ModuleLetterStroke")&&-1===this._resetExclude.indexOf("ModuleLetterStroke")&&this._moduleLetterStroke.reset(),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),o&&this.sendCommand("ResetAbortSound","ResetAbortSound")}},{key:"clearSoundChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundObj=null,this.soundChannel=null,this.createjs.Sound.removeAllSounds()}},{key:"clearVideoChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoObj=null,this.videoChannel=null}},{key:"updatePageParam",value:function e(t){s.default.isNull(t)||(r(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"updatePageParam",this).call(this,t),s.default.trace("updatePageParam:",this.pageParam),0===this.pageParam.length&&(this.pageParam[0]=1),this._moduleWordsNavigator?(this._moduleWordsNavigator.useJSON=!0,1===this.pageParam.length&&(this.pageParam[1]=1),this._modulePager&&(this._modulePager.useNav=!0,this._modulePager.useJSON=!0),this._moduleWordsNavigator.reset()):this._modulePager&&(this._modulePager.useNav=!1,this._modulePager.useJSON=!0,this._modulePager.reset()),this._moduleSwitchPop&&this._moduleSwitchPop.reset())}},{key:"updatePageProps",value:function e(){s.default.trace("updatePageProps:","wbcMode:",this.wbcMode,",webMode:",this.webMode,",mobileMode:",this.mobileMode,"actWinNavHide",this.actWinNavHide,"actWinWordGroupHide",this.actWinWordGroupHide),this._moduleGoOutCommand&&this._moduleGoOutCommand.reset(),this._moduleListPop&&this._moduleListPop.reset(),this._moduleDragListPop&&this._moduleDragListPop.reset(),this._moduleWordsNavigator&&this._moduleWordsNavigator.reset(),this._moduleSwitchPop&&this._moduleSwitchPop.reset()}},{key:"getZoomInInfo",value:function e(){return this.isInited||this.init(),this._moduleZoom?this._moduleZoom.getZoomInInfoList():[]}},{key:"injectMarqueeData",value:function e(t,n){this.marqueeSData=t,this.marqueeDData=n}},{key:"injectPagerMarqueeData",value:function e(t){this.marqueePagerData=t}},{key:"syncMarqueeSound",value:function e(t,n){t!==this.soundChannel&&s.default.notNull(this._moduleWordsMarqueeSound)&&this._moduleWordsMarqueeSound.syncMarqueeSound(t,n)}},{key:"updatePagerIndex",value:function e(t,n){this._modulePager&&this._modulePager.update(t,n)}},{key:"initModules",value:function e(){this.isInited&&(r(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"initModules",this).call(this),this._moduleGoOutCommand=new c(this).init(),this._moduleBookSound=new f(this).init(),this._moduleAnsZone=new g(this).init(),this._modulePlaySwitchSound=new _(this).init(),this._moduleListPop=new v(this).init(),this._moduleSwitchPop=new m(this).init(),this._moduleStopTouch=new b(this).init(),this._moduleDragListPop=new y(this).init(),this._modulePageActSoundMV=new P(this).init(),this._modulePager=new M(this).init(),this._moduleWordsNavigator=new O(this).init(),this._moduleOnAndOff=new S(this).init(),this._moduleCalculator=new B(this).init(),this._modulePureAnimate=new x(this).init(),this._moduleZoom=new k(this).init(),this._moduleWordsMarqueeSound=new w(this).init(),this._moduleDragQA=new C(this).init(),this._moduleEnCnTranslate=new I(this).init(),this._moduleAnimateAnsRightWrong=new N(this).init(),this._moduleSpotlight=new T(this).init(),this._moduleLetterStroke=new j(this).init())}},{key:"reinitModules",value:function e(t){if(this.isInited){if(s.default.isNull(this._moduleGoOutCommand)?this._moduleGoOutCommand=new c(this).init(t):this._moduleGoOutCommand.reinit(t),s.default.isNull(this._moduleBookSound)?this._moduleBookSound=new f(this).init(t):this._moduleBookSound.reinit(t),s.default.isNull(this._moduleAnsZone)?this._moduleAnsZone=new g(this).init(t):this._moduleAnsZone.reinit(t),s.default.isNull(this._modulePlaySwitchSound)?this._modulePlaySwitchSound=new _(this).init(t):this._modulePlaySwitchSound.reinit(t),s.default.isNull(this._moduleListPop)?this._moduleListPop=new v(this).init(t):this._moduleListPop.reinit(t),s.default.isNull(this._moduleSwitchPop)?this._moduleSwitchPop=new m(this).init(t):this._moduleSwitchPop.reinit(t),s.default.isNull(this._moduleStopTouch)?this._moduleStopTouch=new b(this).init(t):this._moduleStopTouch.reinit(t),s.default.isNull(this._moduleDragListPop)?this._moduleDragListPop=new y(this).init(t):this._moduleDragListPop.reinit(t),s.default.isNull(this._modulePageActSoundMV)?this._modulePageActSoundMV=new P(this).init(t):this._modulePageActSoundMV.reinit(t),s.default.isNull(this._modulePager)?this._modulePager=new M(this).init(t):this._modulePager.reinit(t),s.default.isNull(this._moduleWordsNavigator)?this._moduleWordsNavigator=new O(this).init(t):this._moduleWordsNavigator.reinit(t),s.default.isNull(this._moduleOnAndOff)?this._moduleOnAndOff=new S(this).init(t):this._moduleOnAndOff.reinit(t),s.default.isNull(this._moduleCalculator)?this._moduleCalculator=new B(this).init(t):this._moduleCalculator.reinit(t),s.default.isNull(this._modulePureAnimate)?this._modulePureAnimate=new x(this).init(t):this._modulePureAnimate.reinit(t),s.default.isNull(this._moduleZoom)?this._moduleZoom=new k(this).init(t):this._moduleZoom.reinit(t),s.default.isNull(this._moduleWordsMarqueeSound)?this._moduleWordsMarqueeSound=new w(this).init(t):this._moduleWordsMarqueeSound.reinit(t),s.default.isNull(this._moduleDragQA)?this._moduleDragQA=new C(this).init(t):this._moduleDragQA.reinit(t),s.default.isNull(this._moduleEnCnTranslate)?this._moduleEnCnTranslate=new I(this).init(t):this._moduleEnCnTranslate.reinit(t),s.default.isNull(this._moduleAnimateAnsRightWrong)?this._moduleAnimateAnsRightWrong=new N(this).init(t):this._moduleAnimateAnsRightWrong.reinit(t),s.default.isNull(this._moduleSpotlight)?this._moduleSpotlight=new T(this).init(t):this._moduleSpotlight.reinit(t),s.default.isNull(this._moduleLetterStroke)?this._moduleLetterStroke=new j(this).init(t):this._moduleLetterStroke.reinit(t),s.default.notNull(this.__backInfo))switch(this.__backInfo.TYPE){case"words-navigator":this.__backInfo.target.showWordFunc(this.__backInfo.target,this.__backInfo.index,this.__backInfo.subindex,this.__backInfo.pagerindex,this.__backInfo.changeBar)}this.__backInfo=null,this.__loadinfo=null}}}]),E),A;function E(e,t,n,i){l(this,E);var o=d(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o.__specClassName="EnBookPage",o}t.EnBookPage=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleWordsMarqueeSound=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=n(31),u=["ReadSound","MarqueeS","MarqueeD"],l={ReadSound:"none",MarqueeS:"ex-normal-wait",MarqueeD:"ex-normal-wait"},d=!1,h=(i(p,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"debugReset",value:function e(){this._parent.getParentIsNoDefinition()&&(this.isInited||this.init(),this._playSubPrev=-1,this._marqueeSPlayCount.length=0,this._marqueeDPlayCount.length=0)}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init(),this.debugReset();var t=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0;for(t=this._readSoundGroup.length,i=0;i<t;i++)r=this._readSoundGroup[i],c.default.notNull(r)&&(r.bitmapCache||r._buttonHelper&&!1===r._buttonHelper.enabled)&&(c.default.notNull(r.EffectBase)&&c.default.unapplyColorFilter(this._parent.createjs,r.EffectBase),c.default.notNull(r.EffectBaseShadow)&&c.default.unapplyColorFilter(this._parent.createjs,r.EffectBaseShadow),this.applyReverseCache(r),r.gotoAndStop(0));for(t=this._marqueeSGroup.length,i=0;i<t;i++){r=this._marqueeSGroup[i];var s=this.getCustomTag(r);for(n=this._marqueeSControlMirror[s].length,o=0;o<n;o++)a=this._marqueeSControlMirror[s][o],c.default.notNull(a)&&(a.bitmapCache||a._buttonHelper&&!1===a._buttonHelper.enabled)&&(c.default.notNull(a.EffectBase)&&c.default.unapplyColorFilter(this._parent.createjs,a.EffectBase),c.default.notNull(a.EffectBaseShadow)&&c.default.unapplyColorFilter(this._parent.createjs,a.EffectBaseShadow),this.applyReverseCache(a),a.gotoAndStop(0))}for(t=this._marqueeDGroup.length,i=0;i<t;i++){r=this._marqueeDGroup[i];var u=this.getCustomTag(r);for(n=this._marqueeDControlMirror[u].length,o=0;o<n;o++)a=this._marqueeDControlMirror[u][o],c.default.notNull(a)&&(a.bitmapCache||a._buttonHelper&&!1===a._buttonHelper.enabled)&&(c.default.notNull(a.EffectBase)&&c.default.unapplyColorFilter(this._parent.createjs,a.EffectBase),c.default.notNull(a.EffectBaseShadow)&&c.default.unapplyColorFilter(this._parent.createjs,a.EffectBaseShadow),this.applyReverseCache(a),a.gotoAndStop(0))}c.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),c.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"syncMarqueeSound",value:function e(t,n){if(this.isInited||this.init(),"marqueeS"===n.marqueeMode){for(var i=this._marqueeSGroup.length,o=null,r=0;r<i;r++){var a=this._marqueeSGroup[r],s;if(this._parent.getInstanceMirror(a).args[0]===n.id){o=a;break}}c.default.notNull(o)&&(this.stop(),this._parent.soundObj=f.cloneDeep(n),this._parent.soundObj.callback=this.checkSoundPlayStatusBind,this._parent.soundObj.watchFunc=this.triggerSoundWatchSyncBind,this._parent.soundObj.completeFunc=this.triggerSoundCompleteBind,this._parent.soundObj.target=o,this._parent.soundChannel=t,this._prevTime=-1,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc))}else if("marqueeD"===n.marqueeMode){for(var u=this._marqueeDGroup.length,l=null,d=0;d<u;d++){var h=this._marqueeDGroup[d],p;if(this._parent.getInstanceMirror(h).args[0]===n.id){l=h;break}}c.default.notNull(l)&&(this.stop(),this._parent.soundObj=f.cloneDeep(n),this._parent.soundObj.callback=this.checkSoundPlayStatusBind,this._parent.soundObj.watchFunc=this.triggerSoundWatchSyncBind,this._parent.soundObj.completeFunc=this.triggerSoundCompleteBind,this._parent.soundObj.target=l,this._parent.soundChannel=t,this._prevTime=-1,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc))}}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"ReadSound":this._readSoundGroup.push(t);break;case"MarqueeS":i=this.getCustomTag(t),void 0!==this._parent.marqueeSData&&(this._marqueeSGroup.push(t),this._marqueeSControlMirror[i]=this.pickRelation(n.parent,this._parent.marqueeSData[n.args[0]]));break;case"MarqueeD":i=this.getCustomTag(t),void 0!==this._parent.marqueeDData&&(this._marqueeDGroup.push(t),this._marqueeDControlMirror[i]=this.pickRelation(n.parent,this._parent.marqueeDData[n.args[0]]))}}}},{key:"getCustomTag",value:function e(t){return c.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){var i=[];if(c.default.isNull(n))return i;for(var o=this._parent.getInstanceMirror(t),r=n.mc.length,a=0;a<r;a++){var s=t[n.mc[a]];s?i.push(s):i.push(null)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerReadSoundMousedownBind=this.triggerReadSoundMousedownBind||this.triggerReadSoundMousedown.bind(this),this.triggerMarqueeSMousedownBind=this.triggerMarqueeSMousedownBind||this.triggerMarqueeSMousedown.bind(this),this.triggerMarqueeDMousedownBind=this.triggerMarqueeDMousedownBind||this.triggerMarqueeDMousedown.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundWatch2Bind=this.triggerSoundWatch2Bind||this.triggerSoundWatch2.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this),this.triggerSoundWatchSyncBind=this.triggerSoundWatchSyncBind||this.triggerSoundWatchSync.bind(this),this.debugResetBind=this.debugResetBind||this.debugReset.bind(this);var i=void 0;i=this._readSoundGroup.length;for(var o=void 0,r=0;r<i;r++)(o=this._readSoundGroup[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerReadSoundMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase));i=this._marqueeSGroup.length;for(var a=0;a<i;a++)(o=this._marqueeSGroup[a])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMarqueeSMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase));i=this._marqueeDGroup.length;for(var s=0;s<i;s++)(o=this._marqueeDGroup[s])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMarqueeDMousedownBind),c.default.notNull(o.EffectBase)&&c.default.applyMultiply(o.EffectBase))}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"applyNormalCache",value:function e(t){c.default.isNull(t)||(c.default.isNull(t._buttonHelper)?(c.default.notNull(t.nominalBounds)&&t.cache(t.nominalBounds.x,t.nominalBounds.y,t.nominalBounds.width,t.nominalBounds.height),c.default.notNull(t.EffectBase)&&c.default.applyMultiply(t)):(t._buttonHelper.enabled=!1,t.cursor="pointer",t.gotoAndStop(1)))}},{key:"applyReverseCache",value:function e(t){c.default.isNull(t)||(c.default.isNull(t._buttonHelper)?(t.uncache(),c.default.notNull(t.EffectBase)&&c.default.unapplyMultiply(t)):(t._buttonHelper.enabled=!0,t._buttonHelper._isPressed=!1,t.gotoAndStop(0)))}},{key:"triggerReadSoundMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n);n.gotoAndStop(1),this.applyNormalCache(n);var o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:i.args[0],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n};var l=this.checkCommandMode(i.command);this._parent.iosMode&&"none"===l?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerMarqueeSMousedown",value:function e(t){this._parent.stop(null,!0),this.debugReset();var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:i.args[0],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatch2Bind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n,marqueeMode:"marqueeS",marqueeData:this._parent.marqueeSData[i.args[0]]},void 0!==this._parent.marqueeSData[i.args[0]].sub&&0<this._parent.marqueeSData[i.args[0]].sub.length&&1===this._parent.marqueeSData[i.args[0]].sub[0]&&(this._parent.marqueeSData[i.args[0]].sub[0]=100);var l=this.checkCommandMode(i.command);this._parent.iosMode&&"none"===l||this._parent.getParentIsNoDefinition()?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerMarqueeDMousedown",value:function e(t){this._parent.stop(null,!0),this.debugReset();var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:i.args[0],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatch2Bind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n,marqueeMode:"marqueeD",marqueeData:this._parent.marqueeDData[i.args[0]]},void 0!==this._parent.marqueeDData[i.args[0]].sub&&0<this._parent.marqueeDData[i.args[0]].sub.length&&1===this._parent.marqueeDData[i.args[0]].sub[0]&&(this._parent.marqueeDData[i.args[0]].sub[0]=100);var l=this.checkCommandMode(i.command);this._parent.iosMode&&"none"===l||this._parent.getParentIsNoDefinition()?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),this._parent.sendPageTouchMessage("TouchSound","TouchSound_"+n.name),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(c.default.isNull(this._parent.soundObj)||c.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)c.default.notNull(n)&&n.stop();else switch(this._delayChangeMS=void 0,i){case"fileload":c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this.stop(),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc);var o=this.checkCommandMode(this._parent.soundObj.command);this._parent.getParentIsNoDefinition()&&(this._parent.soundChannel.debugReset=this.debugResetBind),"none"!==o&&this._parent.openSoundPlayBar(o,this._parent.soundObj)}}},{key:"triggerSoundWatch",value:function e(t){}},{key:"triggerSoundComplete",value:function e(t){this._parent.soundObj.target.gotoAndStop(0),this.stop();var n=this.checkCommandMode(this._parent.soundObj.command);"mini-close"===n||"normal-close"===n||"ex-normal-close"===n||"none"===n?(this._parent.closeSoundPlayBar(),this._parent.clearSoundChannel()):(this._parent.stopSoundPlayBar(),this._parent.soundObj.autoPlay=!1,this._parent.iosMode&&"none"===n?c.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):c.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback))}},{key:"triggerSoundWatch2",value:function e(t){if(c.default.notNull(this._parent.soundChannel)){var n=void 0!==this._parent.soundChannel.position?this._parent.soundChannel.position:this._parent.soundChannel.currentTime;if(this._prevTime!==n){c.default.notNull(this._parent.pairInstance)&&this._parent.pairInstance.syncMarqueeSound(this._parent.soundChannel,this._parent.soundObj),this._prevTime=n;var i=this._parent.soundChannel.duration;this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.lib.properties.fps,r=this._parent.soundObj.marqueeData;switch(this._parent.soundObj.marqueeMode){case"marqueeS":this.updateMarqueeSStatus(n);break;case"marqueeD":this.updateMarqueeDStatus(n)}}}}},{key:"triggerSoundWatchSync",value:function e(t){if(c.default.notNull(this._parent.soundChannel)){var n=void 0!==this._parent.soundChannel.position?this._parent.soundChannel.position:this._parent.soundChannel.currentTime;if(this._prevTime!==n){this._prevTime=n;var i=this._parent.soundChannel.duration;this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.lib.properties.fps,r=this._parent.soundObj.marqueeData;switch(this._parent.soundObj.marqueeMode){case"marqueeS":this.updateMarqueeSStatus(n);break;case"marqueeD":this.updateMarqueeDStatus(n)}}}}},{key:"updateMarqueeSStatus",value:function e(t){var n=this._parent.soundObj.marqueeData,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0;if(this._parent.soundChannel.soundrepeat&&!this._parent.soundChannel.paused&&(this._parent.soundChannel.soundrepeat=void 0),this._parent.soundChannel.paused&&this._parent.soundChannel.soundrepeat&&0!==t&&void 0===this._delayChangeMS)this._delayChangeMS=t;else{if(this._parent.soundChannel.paused&&void 0===this._parent.soundChannel.soundrepeat&&(this._delayChangeMS=void 0),void 0!==this._delayChangeMS){if(this._delayChangeMS>t)return;this._delayChangeMS=void 0}var u=this._parent.soundObj.target,l=this.getCustomTag(u);a=n.sub.length;var d=-1;for(o=0;o<a-1;o++)if(t>=n.sub[o]&&t<n.sub[o+1]){d=o;break}if(-1===d&&n.sub[o]<=t&&(d=o),this._parent.getParentIsNoDefinition()&&-1!==d&&!this._parent.soundChannel.paused&&(void 0===this._marqueeSPlayCount[d]?this._marqueeSPlayCount[d]=1:this._marqueeSPlayCount[d]=2,this._marqueeSPlayCount[d]<2))return-1===this._playSubPrev?(this._marqueeSPlayCount[d-1]=2,void(this._playSubPrev=0)):void(void 0===n.sub[d-1]?this._parent.soundChannel.position=0:this._parent.soundChannel.position=n.sub[d-1]);for(a=this._marqueeSControlMirror[l].length,o=0;o<a;o++)i=this._marqueeSControlMirror[l][o],c.default.notNull(i)&&(i.bitmapCache||i._buttonHelper&&!1===i._buttonHelper.enabled)&&(c.default.notNull(i.EffectBase)&&c.default.unapplyColorFilter(this._parent.createjs,i.EffectBase),c.default.notNull(i.EffectBaseShadow)&&c.default.unapplyColorFilter(this._parent.createjs,i.EffectBaseShadow),this.applyReverseCache(i),i.gotoAndStop(0));-1!==d&&(i=this._marqueeSControlMirror[l][d],c.default.notNull(i)&&(i.gotoAndStop(1),this.applyNormalCache(i)))}}},{key:"updateMarqueeDStatus",value:function e(t){var n=this._parent.soundObj.marqueeData,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0;if(this._parent.soundChannel.soundrepeat&&!this._parent.soundChannel.paused&&(this._parent.soundChannel.soundrepeat=void 0),this._parent.soundChannel.paused&&this._parent.soundChannel.soundrepeat&&0!==t&&void 0===this._delayChangeMS)this._delayChangeMS=t;else{if(this._parent.soundChannel.paused&&void 0===this._parent.soundChannel.soundrepeat&&(this._delayChangeMS=void 0),void 0!==this._delayChangeMS){if(this._delayChangeMS>t)return;this._delayChangeMS=void 0}var u=this._parent.soundObj.target,l=this.getCustomTag(u);a=n.sub.length;var d=-1;for(o=0;o<a-1;o++)if(t>=n.sub[o]&&t<n.sub[o+1]){d=o;break}if(-1===d&&n.sub[o]<=t&&(d=o),this._parent.getParentIsNoDefinition()&&-1!==d&&!this._parent.soundChannel.paused&&(void 0===this._marqueeDPlayCount[d]?this._marqueeDPlayCount[d]=1:this._marqueeDPlayCount[d]=2,this._marqueeDPlayCount[d]<2))return-1===this._playSubPrev?(this._marqueeDPlayCount[d-1]=2,void(this._playSubPrev=0)):void(void 0===n.sub[d-1]?this._parent.soundChannel.position=0:this._parent.soundChannel.position=n.sub[d-1]);for(a=this._marqueeDControlMirror[l].length,o=0;o<a;o++)i=this._marqueeDControlMirror[l][o],c.default.notNull(i)&&(i.bitmapCache||i._buttonHelper&&!1===i._buttonHelper.enabled)&&(c.default.notNull(i.EffectBase)&&c.default.unapplyColorFilter(this._parent.createjs,i.EffectBase),c.default.notNull(i.EffectBaseShadow)&&c.default.unapplyColorFilter(this._parent.createjs,i.EffectBaseShadow),this.applyReverseCache(i),i.gotoAndStop(0));-1!==d&&(i=this._marqueeDControlMirror[l][d],c.default.notNull(i)&&(i.gotoAndStop(1),d%2!=0&&(c.default.applyColorFilter(this._parent.createjs,i.EffectBase,255,153,255),c.default.notNull(i.EffectBaseShadow)&&c.default.applyColorFilter(this._parent.createjs,i.EffectBaseShadow,255,153,255)),this.applyNormalCache(i)))}}}]),p);function p(e){s(this,p),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._readSoundGroup=[],this._marqueeSGroup=[],this._marqueeDGroup=[],this._marqueeSControlMirror={},this._marqueeDControlMirror={},this._marqueeSPlayCount=[],this._marqueeDPlayCount=[],this._playSubPrev=-1,this._prevTime=-1,this._seq=999}t.ModuleWordsMarqueeSound=h},function(e,Ee,Ge){(function(je,Le){var Ae;(function(){var dd,hd="4.17.15",e=200,pd="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",cd="Expected a function",fd="__lodash_hash_undefined__",t=500,gd="__lodash_placeholder__",n=1,i=2,o=4,r=1,a=2,s=1,u=2,l=4,d=8,h=16,p=32,c=64,f=128,g=256,_=512,v=30,_d="...",m=800,b=16,y=1,P=2,M=3,O=1/0,vd=9007199254740991,md=17976931348623157e292,bd=NaN,yd=4294967295,Pd=yd-1,Md=yd>>>1,Od=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Sd="[object Arguments]",Bd="[object Array]",xd="[object AsyncFunction]",kd="[object Boolean]",wd="[object Date]",Cd="[object DOMException]",Id="[object Error]",Nd="[object Function]",Td="[object GeneratorFunction]",jd="[object Map]",Ld="[object Number]",Ad="[object Null]",Ed="[object Object]",Gd="[object Promise]",Wd="[object Proxy]",Rd="[object RegExp]",Fd="[object Set]",Dd="[object String]",qd="[object Symbol]",Vd="[object Undefined]",Zd="[object WeakMap]",Yd="[object WeakSet]",Xd="[object ArrayBuffer]",Hd="[object DataView]",Ud="[object Float32Array]",zd="[object Float64Array]",$d="[object Int8Array]",Jd="[object Int16Array]",Qd="[object Int32Array]",Kd="[object Uint8Array]",eh="[object Uint8ClampedArray]",th="[object Uint16Array]",nh="[object Uint32Array]",ih=/\b__p \+= '';/g,oh=/\b(__p \+=) '' \+/g,rh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ah=/&(?:amp|lt|gt|quot|#39);/g,sh=/[&<>"']/g,uh=RegExp(ah.source),lh=RegExp(sh.source),dh=/<%-([\s\S]+?)%>/g,hh=/<%([\s\S]+?)%>/g,ph=/<%=([\s\S]+?)%>/g,ch=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fh=/^\w*$/,gh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_h=/[\\^$.*+?()[\]{}|]/g,vh=RegExp(_h.source),mh=/^\s+|\s+$/g,bh=/^\s+/,yh=/\s+$/,Ph=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mh=/\{\n\/\* \[wrapped with (.+)\] \*/,Oh=/,? & /,S=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sh=/\\(\\)?/g,Bh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xh=/\w*$/,kh=/^[-+]0x[0-9a-f]+$/i,wh=/^0b[01]+$/i,Ch=/^\[object .+?Constructor\]$/,Ih=/^0o[0-7]+$/i,Nh=/^(?:0|[1-9]\d*)$/,Th=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jh=/($^)/,Lh=/['\n\r\u2028\u2029\\]/g,B="\\ud800-\\udfff",x,k,w,C="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff",I="\\u2700-\\u27bf",N="a-z\\xdf-\\xf6\\xf8-\\xff",T,j,L,A,E="A-Z\\xc0-\\xd6\\xd8-\\xde",G="\\ufe0e\\ufe0f",W="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",R="['’]",F="["+B+"]",D="["+W+"]",q="["+C+"]",V="\\d+",Z="["+I+"]",Y="["+N+"]",X="[^"+B+W+V+I+N+E+"]",H="\\ud83c[\\udffb-\\udfff]",U,z="[^"+B+"]",$="(?:\\ud83c[\\udde6-\\uddff]){2}",J="[\\ud800-\\udbff][\\udc00-\\udfff]",Q="["+E+"]",K="\\u200d",ee="(?:"+Y+"|"+X+")",te="(?:"+Q+"|"+X+")",ne="(?:['’](?:d|ll|m|re|s|t|ve))?",ie="(?:['’](?:D|LL|M|RE|S|T|VE))?",oe="(?:"+q+"|"+H+")"+"?",re="["+G+"]?",ae,se="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ue="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",le=re+oe+("(?:\\u200d(?:"+[z,$,J].join("|")+")"+re+oe+")*"),de="(?:"+[Z,$,J].join("|")+")"+le,he="(?:"+[z+q+"?",q,$,J,F].join("|")+")",Ah=RegExp(R,"g"),Eh=RegExp(q,"g"),pe=RegExp(H+"(?="+H+")|"+he+le,"g"),ce=RegExp([Q+"?"+Y+"+"+ne+"(?="+[D,Q,"$"].join("|")+")",te+"+"+ie+"(?="+[D,Q+ee,"$"].join("|")+")",Q+"?"+ee+"+"+ne,Q+"+"+ie,ue,se,V,de].join("|"),"g"),fe=RegExp("["+K+B+C+G+"]"),ge=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wh=-1,Rh={};Rh[Ud]=Rh[zd]=Rh[$d]=Rh[Jd]=Rh[Qd]=Rh[Kd]=Rh[eh]=Rh[th]=Rh[nh]=!0,Rh[Sd]=Rh[Bd]=Rh[Xd]=Rh[kd]=Rh[Hd]=Rh[wd]=Rh[Id]=Rh[Nd]=Rh[jd]=Rh[Ld]=Rh[Ed]=Rh[Rd]=Rh[Fd]=Rh[Dd]=Rh[Zd]=!1;var Fh={};Fh[Sd]=Fh[Bd]=Fh[Xd]=Fh[Hd]=Fh[kd]=Fh[wd]=Fh[Ud]=Fh[zd]=Fh[$d]=Fh[Jd]=Fh[Qd]=Fh[jd]=Fh[Ld]=Fh[Ed]=Fh[Rd]=Fh[Fd]=Fh[Dd]=Fh[qd]=Fh[Kd]=Fh[eh]=Fh[th]=Fh[nh]=!0,Fh[Id]=Fh[Nd]=Fh[Zd]=!1;var _e={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},me={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dh=parseFloat,qh=parseInt,ye="object"==typeof je&&je&&je.Object===Object&&je,Pe="object"==typeof self&&self&&self.Object===Object&&self,Vh=ye||Pe||Function("return this")(),Me=Ee&&!Ee.nodeType&&Ee,Oe=Me&&"object"==typeof Le&&Le&&!Le.nodeType&&Le,Zh=Oe&&Oe.exports===Me,Se=Zh&&ye.process,Be=function(){try{var e=Oe&&Oe.require&&Oe.require("util").types;return e||Se&&Se.binding&&Se.binding("util")}catch(e){}}(),Yh=Be&&Be.isArrayBuffer,Xh=Be&&Be.isDate,Hh=Be&&Be.isMap,Uh=Be&&Be.isRegExp,zh=Be&&Be.isSet,$h=Be&&Be.isTypedArray;function Jh(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Qh(e,t,n,i){for(var o=-1,r=null==e?0:e.length;++o<r;){var a=e[o];t(i,a,n(a),e)}return i}function Kh(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ep(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function tp(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function np(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[o++]=a)}return r}function ip(e,t){var n;return!!(null==e?0:e.length)&&-1<cp(e,t,0)}function op(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}function rp(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function ap(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function sp(e,t,n,i){var o=-1,r=null==e?0:e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function up(e,t,n,i){var o=null==e?0:e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function lp(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var xe=vp("length");function ke(e){return e.split("")}function dp(e){return e.match(S)||[]}function hp(e,i,t){var o;return t(e,function(e,t,n){if(i(e,t,n))return o=t,!1}),o}function pp(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function cp(e,t,n){return t==t?Ce(e,t,n):pp(e,gp,n)}function fp(e,t,n,i){for(var o=n-1,r=e.length;++o<r;)if(i(e[o],t))return o;return-1}function gp(e){return e!=e}function _p(e,t){var n=null==e?0:e.length;return n?yp(e,t)/n:bd}function vp(t){return function(e){return null==e?dd:e[t]}}function we(t){return function(e){return null==t?dd:t[e]}}function mp(e,i,o,r,t){return t(e,function(e,t,n){o=r?(r=!1,e):i(o,e,t,n)}),o}function bp(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function yp(e,t){for(var n,i=-1,o=e.length;++i<o;){var r=t(e[i]);r!==dd&&(n=n===dd?r:n+r)}return n}function Pp(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Mp(t,e){return rp(e,function(e){return[e,t[e]]})}function Op(t){return function(e){return t(e)}}function Sp(t,e){return rp(e,function(e){return t[e]})}function Bp(e,t){return e.has(t)}function xp(e,t){for(var n=-1,i=e.length;++n<i&&-1<cp(t,e[n],0););return n}function kp(e,t){for(var n=e.length;n--&&-1<cp(t,e[n],0););return n}function wp(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Cp=we(_e),Ip=we(ve);function Np(e){return"\\"+be[e]}function Tp(e,t){return null==e?dd:e[t]}function jp(e){return fe.test(e)}function Lp(e){return ge.test(e)}function Ap(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Ep(e){var n=-1,i=Array(e.size);return e.forEach(function(e,t){i[++n]=[t,e]}),i}function Gp(t,n){return function(e){return t(n(e))}}function Wp(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var a=e[n];a!==t&&a!==gd||(e[n]=gd,r[o++]=n)}return r}function Rp(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Fp(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Ce(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}function Dp(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}function qp(e){return jp(e)?Ie(e):xe(e)}function Vp(e){return jp(e)?Ne(e):ke(e)}var Zp=we(me);function Ie(e){for(var t=pe.lastIndex=0;pe.test(e);)++t;return t}function Ne(e){return e.match(pe)||[]}function Yp(e){return e.match(ce)||[]}var Te,Xp=function e(t){var B=(t=null==t?Vh:Xp.defaults(Vh.Object(),t,Xp.pick(Vh,Gh))).Array,n=t.Date,i=t.Error,_=t.Function,r=t.Math,c=t.Object,v=t.RegExp,d=t.String,M=t.TypeError,a=B.prototype,o=_.prototype,h=c.prototype,s=t["__core-js_shared__"],u=o.toString,P=h.hasOwnProperty,l=0,p=(f=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",f,g=h.toString,m=u.call(c),b=Vh._,y=v("^"+u.call(P).replace(_h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=Zh?t.Buffer:dd,S=t.Symbol,x=t.Uint8Array,k=O?O.allocUnsafe:dd,w=Gp(c.getPrototypeOf,c),C=c.create,I=h.propertyIsEnumerable,N=a.splice,T=S?S.isConcatSpreadable:dd,j=S?S.iterator:dd,L=S?S.toStringTag:dd,A=function(){try{var e=Ri(c,"defineProperty");return e({},"",{}),e}catch(e){}}(),E=t.clearTimeout!==Vh.clearTimeout&&t.clearTimeout,G=n&&n.now!==Vh.Date.now&&n.now,W=t.setTimeout!==Vh.setTimeout&&t.setTimeout,R=r.ceil,F=r.floor,D=c.getOwnPropertySymbols,q=O?O.isBuffer:dd,V=t.isFinite,Z=a.join,Y=Gp(c.keys,c),X=r.max,H=r.min,U=n.now,z=t.parseInt,$=r.random,J=a.reverse,Q=Ri(t,"DataView"),K=Ri(t,"Map"),ee=Ri(t,"Promise"),te=Ri(t,"Set"),ne=Ri(t,"WeakMap"),ie=Ri(c,"create"),oe=ne&&new ne,re={},ae=Bo(Q),se=Bo(K),ue=Bo(ee),le=Bo(te),de=Bo(ne),he=S?S.prototype:dd,pe=he?he.valueOf:dd,ce=he?he.toString:dd;function fe(e){if(ms(e)&&!ts(e)&&!(e instanceof be)){if(e instanceof me)return e;if(P.call(e,"__wrapped__"))return ko(e)}return new me(e)}var ge=function(e){if(!vs(e))return{};if(C)return C(e);_e.prototype=e;var t=new _e;return _e.prototype=dd,t};function _e(){}function ve(){}function me(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=dd}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yd,this.__views__=[]}function ye(){var e=new be(this.__wrapped__);return e.__actions__=$n(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=$n(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=$n(this.__views__),e}function Pe(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}function Me(){var e=this.__wrapped__.value(),t=this.__dir__,n=ts(e),i=t<0,o=n?e.length:0,r=Zi(0,o,this.__views__),a=r.start,s=r.end,u=s-a,l=i?s:a-1,d=this.__iteratees__,h=d.length,p=0,c=H(u,this.__takeCount__);if(!n||!i&&o==u&&c==u)return Nn(e,this.__actions__);var f=[];e:for(;u--&&p<c;){for(var g=-1,_=e[l+=t];++g<h;){var v=d[g],m=v.iteratee,b=v.type,y=m(_);if(2==b)_=y;else if(!y){if(1==b)continue e;break e}}f[p++]=_}return f}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Se(){this.__data__=ie?ie(null):{},this.size=0}function Be(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function xe(e){var t=this.__data__;if(ie){var n=t[e];return n===fd?dd:n}return P.call(t,e)?t[e]:dd}function ke(e){var t=this.__data__;return ie?t[e]!==dd:P.call(t,e)}function we(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&t===dd?fd:t,this}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ie(){this.__data__=[],this.size=0}function Ne(e){var t=this.__data__,n=nt(t,e),i;return!(n<0)&&(n==t.length-1?t.pop():N.call(t,n,1),--this.size,!0)}function Te(e){var t=this.__data__,n=nt(t,e);return n<0?dd:t[n][1]}function je(e){return-1<nt(this.__data__,e)}function Le(e,t){var n=this.__data__,i=nt(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ee(){this.size=0,this.__data__={hash:new Oe,map:new(K||Ce),string:new Oe}}function Ge(e){var t=Gi(this,e).delete(e);return this.size-=t?1:0,t}function We(e){return Gi(this,e).get(e)}function Re(e){return Gi(this,e).has(e)}function Fe(e,t){var n=Gi(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function De(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ae;++t<n;)this.add(e[t])}function qe(e){return this.__data__.set(e,fd),this}function Ve(e){return this.__data__.has(e)}function Ze(e){var t=this.__data__=new Ce(e);this.size=t.size}function Ye(){this.__data__=new Ce,this.size=0}function Xe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function He(e){return this.__data__.get(e)}function Ue(e){return this.__data__.has(e)}function ze(e,t){var n=this.__data__;if(n instanceof Ce){var i=n.__data__;if(!K||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ae(i)}return n.set(e,t),this.size=n.size,this}function $e(e,t){var n=ts(e),i=!n&&es(e),o=!n&&!i&&as(e),r=!n&&!i&&!o&&js(e),a=n||i||o||r,s=a?Pp(e.length,d):[],u=s.length;for(var l in e)!t&&!P.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Qi(l,u))||s.push(l);return s}function Je(e){var t=e.length;return t?e[dn(0,t-1)]:dd}function Qe(e,t){return Mo($n(e),ut(t,0,e.length))}function Ke(e){return Mo($n(e))}function et(e,t,n){(n===dd||Ja(e[t],n))&&(n!==dd||t in e)||at(e,t,n)}function tt(e,t,n){var i=e[t];P.call(e,t)&&Ja(i,n)&&(n!==dd||t in e)||at(e,t,n)}function nt(e,t){for(var n=e.length;n--;)if(Ja(e[n][0],t))return n;return-1}function it(e,i,o,r){return ft(e,function(e,t,n){i(r,e,o(e),n)}),r}function ot(e,t){return e&&Jn(t,gu(t),e)}function rt(e,t){return e&&Jn(t,_u(t),e)}function at(e,t,n){"__proto__"==t&&A?A(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function st(e,t){for(var n=-1,i=t.length,o=B(i),r=null==e;++n<i;)o[n]=r?dd:lu(e,t[n]);return o}function ut(e,t,n){return e==e&&(n!==dd&&(e=e<=n?e:n),t!==dd&&(e=t<=e?e:t)),e}function lt(n,i,o,e,t,r){var a,s=1&i,u=2&i,l=4&i;if(o&&(a=t?o(n,e,t,r):o(n)),a!==dd)return a;if(!vs(n))return n;var d=ts(n);if(d){if(a=Hi(n),!s)return $n(n,a)}else{var h=Vi(n),p=h==Nd||h==Td;if(as(n))return Fn(n,s);if(h==Ed||h==Sd||p&&!t){if(a=u||p?{}:Ui(n),!s)return u?Kn(n,rt(a,n)):Qn(n,ot(a,n))}else{if(!Fh[h])return t?n:{};a=zi(n,h,s)}}var c=(r=r||new Ze).get(n);if(c)return c;r.set(n,a),Is(n)?n.forEach(function(e){a.add(lt(e,i,o,e,n,r))}):bs(n)&&n.forEach(function(e,t){a.set(t,lt(e,i,o,t,n,r))});var f,g=d?dd:(l?u?Ti:Ni:u?_u:gu)(n);return Kh(g||n,function(e,t){g&&(e=n[t=e]),tt(a,t,lt(e,i,o,t,n,r))}),a}function dt(t){var n=gu(t);return function(e){return ht(e,t,n)}}function ht(e,t,n){var i=n.length;if(null==e)return!i;for(e=c(e);i--;){var o=n[i],r=t[o],a=e[o];if(a===dd&&!(o in e)||!r(a))return!1}return!0}function pt(e,t,n){if("function"!=typeof e)throw new M(cd);return mo(function(){e.apply(dd,n)},t)}function ct(e,t,n,i){var o=-1,r=ip,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=rp(t,Op(n))),i?(r=op,a=!1):200<=t.length&&(r=Bp,a=!1,t=new De(t));e:for(;++o<s;){var d=e[o],h=null==n?d:n(d);if(d=i||0!==d?d:0,a&&h==h){for(var p=l;p--;)if(t[p]===h)continue e;u.push(d)}else r(t,h,i)||u.push(d)}return u}fe.templateSettings={escape:dh,evaluate:hh,interpolate:ph,variable:"",imports:{_:fe}},(fe.prototype=ve.prototype).constructor=fe,(me.prototype=ge(ve.prototype)).constructor=me,(be.prototype=ge(ve.prototype)).constructor=be,Oe.prototype.clear=Se,Oe.prototype.delete=Be,Oe.prototype.get=xe,Oe.prototype.has=ke,Oe.prototype.set=we,Ce.prototype.clear=Ie,Ce.prototype.delete=Ne,Ce.prototype.get=Te,Ce.prototype.has=je,Ce.prototype.set=Le,Ae.prototype.clear=Ee,Ae.prototype.delete=Ge,Ae.prototype.get=We,Ae.prototype.has=Re,Ae.prototype.set=Fe,De.prototype.add=De.prototype.push=qe,De.prototype.has=Ve,Ze.prototype.clear=Ye,Ze.prototype.delete=Xe,Ze.prototype.get=He,Ze.prototype.has=Ue,Ze.prototype.set=ze;var ft=ni(Ot),gt=ni(St,!0);function _t(e,i){var o=!0;return ft(e,function(e,t,n){return o=!!i(e,t,n)}),o}function vt(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],a=t(r);if(null!=a&&(s===dd?a==a&&!Ts(a):n(a,s)))var s=a,u=r}return u}function mt(e,t,n,i){var o=e.length;for((n=Ds(n))<0&&(n=o<-n?0:o+n),(i=i===dd||o<i?o:Ds(i))<0&&(i+=o),i=i<n?0:qs(i);n<i;)e[n++]=t;return e}function bt(e,i){var o=[];return ft(e,function(e,t,n){i(e,t,n)&&o.push(e)}),o}function yt(e,t,n,i,o){var r=-1,a=e.length;for(n=n||Ji,o=o||[];++r<a;){var s=e[r];0<t&&n(s)?1<t?yt(s,t-1,n,i,o):ap(o,s):i||(o[o.length]=s)}return o}var Pt=ii(),Mt=ii(!0);function Ot(e,t){return e&&Pt(e,t,gu)}function St(e,t){return e&&Mt(e,t,gu)}function Bt(t,e){return np(e,function(e){return fs(t[e])})}function xt(e,t){for(var n=0,i=(t=En(t,e)).length;null!=e&&n<i;)e=e[So(t[n++])];return n&&n==i?e:dd}function kt(e,t,n){var i=t(e);return ts(e)?i:ap(i,n(e))}function wt(e){return null==e?e===dd?Vd:Ad:L&&L in c(e)?Fi(e):po(e)}function Ct(e,t){return t<e}function It(e,t){return null!=e&&P.call(e,t)}function Nt(e,t){return null!=e&&t in c(e)}function Tt(e,t,n){return e>=H(t,n)&&e<X(t,n)}function jt(e,t,n){for(var i=n?op:ip,o=e[0].length,r=e.length,a=r,s=B(r),u=1/0,l=[];a--;){var d=e[a];a&&t&&(d=rp(d,Op(t))),u=H(d.length,u),s[a]=!n&&(t||120<=o&&120<=d.length)?new De(a&&d):dd}d=e[0];var h=-1,p=s[0];e:for(;++h<o&&l.length<u;){var c=d[h],f=t?t(c):c;if(c=n||0!==c?c:0,!(p?Bp(p,f):i(l,f,n))){for(a=r;--a;){var g=s[a];if(!(g?Bp(g,f):i(e[a],f,n)))continue e}p&&p.push(f),l.push(c)}}return l}function Lt(e,i,o,r){return Ot(e,function(e,t,n){i(r,o(e),t,n)}),r}function At(e,t,n){var i=null==(e=fo(e,t=En(t,e)))?e:e[So(Qo(t))];return null==i?dd:Jh(i,e,n)}function Et(e){return ms(e)&&wt(e)==Sd}function Gt(e){return ms(e)&&wt(e)==Xd}function Wt(e){return ms(e)&&wt(e)==wd}function Rt(e,t,n,i,o){return e===t||(null==e||null==t||!ms(e)&&!ms(t)?e!=e&&t!=t:Ft(e,t,n,i,Rt,o))}function Ft(e,t,n,i,o,r){var a=ts(e),s=ts(t),u=a?Bd:Vi(e),l=s?Bd:Vi(t),d=(u=u==Sd?Ed:u)==Ed,h=(l=l==Sd?Ed:l)==Ed,p=u==l;if(p&&as(e)){if(!as(t))return!1;d=!(a=!0)}if(p&&!d)return r=r||new Ze,a||js(e)?ki(e,t,n,i,o,r):wi(e,t,u,n,i,o,r);if(!(1&n)){var c=d&&P.call(e,"__wrapped__"),f=h&&P.call(t,"__wrapped__"),g,_;if(c||f)return o(c?e.value():e,f?t.value():t,n,i,r=r||new Ze)}return p&&Ci(e,t,n,i,o,r=r||new Ze)}function Dt(e){return ms(e)&&Vi(e)==jd}function qt(e,t,n,i){var o=n.length,r=o,a=!i;if(null==e)return!r;for(e=c(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<r;){var u=(s=n[o])[0],l=e[u],d=s[1];if(a&&s[2]){if(l===dd&&!(u in e))return!1}else{var h=new Ze;if(i)var p=i(l,d,u,e,t,h);if(!(p===dd?Rt(d,l,3,i,h):p))return!1}}return!0}function Vt(e){return!(!vs(e)||io(e))&&(fs(e)?y:Ch).test(Bo(e));var t}function Zt(e){return ms(e)&&wt(e)==Rd}function Yt(e){return ms(e)&&Vi(e)==Fd}function Xt(e){return ms(e)&&_s(e.length)&&!!Rh[wt(e)]}function Ht(e){return"function"==typeof e?e:null==e?Ol:"object"==typeof e?ts(e)?Kt(e[0],e[1]):Qt(e):El(e)}function Ut(e){if(!ro(e))return Y(e);var t=[];for(var n in c(e))P.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zt(e){if(!vs(e))return ho(e);var t=ro(e),n=[];for(var i in e)("constructor"!=i||!t&&P.call(e,i))&&n.push(i);return n}function $t(e,t){return e<t}function Jt(e,i){var o=-1,r=is(e)?B(e.length):[];return ft(e,function(e,t,n){r[++o]=i(e,t,n)}),r}function Qt(t){var n=Wi(t);return 1==n.length&&n[0][2]?so(n[0][0],n[0][1]):function(e){return e===t||qt(e,t,n)}}function Kt(n,i){return eo(n)&&ao(i)?so(So(n),i):function(e){var t=lu(e,n);return t===dd&&t===i?hu(e,n):Rt(i,t,3)}}function en(i,o,r,a,s){i!==o&&Pt(o,function(e,t){if(s=s||new Ze,vs(e))tn(i,o,t,r,en,a,s);else{var n=a?a(_o(i,t),e,t+"",i,o,s):dd;n===dd&&(n=e),et(i,t,n)}},_u)}function tn(e,t,n,i,o,r,a){var s=_o(e,n),u=_o(t,n),l=a.get(u);if(l)et(e,n,l);else{var d=r?r(s,u,n+"",e,t,a):dd,h=d===dd;if(h){var p=ts(u),c=!p&&as(u),f=!p&&!c&&js(u);d=u,p||c||f?d=ts(s)?s:os(s)?$n(s):c?Fn(u,!(h=!1)):f?Yn(u,!(h=!1)):[]:ks(u)||es(u)?es(d=s)?d=Zs(s):vs(s)&&!fs(s)||(d=Ui(u)):h=!1}h&&(a.set(u,d),o(d,u,i,r,a),a.delete(u)),et(e,n,d)}}function nn(e,t){var n=e.length;if(n)return Qi(t+=t<0?n:0,n)?e[t]:dd}function on(e,o,n){var r=-1,t;return o=rp(o.length?o:[Ol],Op(Ei())),bp(Jt(e,function(t,e,n){var i;return{criteria:rp(o,function(e){return e(t)}),index:++r,value:t}}),function(e,t){return Hn(e,t,n)})}function rn(n,e){return an(n,e,function(e,t){return hu(n,t)})}function an(e,t,n){for(var i=-1,o=t.length,r={};++i<o;){var a=t[i],s=xt(e,a);n(s,a)&&_n(r,En(a,e),s)}return r}function sn(t){return function(e){return xt(e,t)}}function un(e,t,n,i){var o=i?fp:cp,r=-1,a=t.length,s=e;for(e===t&&(t=$n(t)),n&&(s=rp(e,Op(n)));++r<a;)for(var u=0,l=t[r],d=n?n(l):l;-1<(u=o(s,d,u,i));)s!==e&&N.call(s,u,1),N.call(e,u,1);return e}function ln(e,t){for(var n=e?t.length:0,i=n-1;n--;){var o=t[n];if(n==i||o!==r){var r=o;Qi(o)?N.call(e,o,1):wn(e,o)}}return e}function dn(e,t){return e+F($()*(t-e+1))}function hn(e,t,n,i){for(var o=-1,r=X(R((t-e)/(n||1)),0),a=B(r);r--;)a[i?r:++o]=e,e+=n;return a}function pn(e,t){var n="";if(!e||t<1||vd<t)return n;for(;t%2&&(n+=e),(t=F(t/2))&&(e+=e),t;);return n}function cn(e,t){return bo(co(e,t,Ol),e+"")}function fn(e){return Je(Lu(e))}function gn(e,t){var n=Lu(e);return Mo(n,ut(t,0,n.length))}function _n(e,t,n,i){if(!vs(e))return e;for(var o=-1,r=(t=En(t,e)).length,a=r-1,s=e;null!=s&&++o<r;){var u=So(t[o]),l=n;if(o!=a){var d=s[u];(l=i?i(d,u,s):dd)===dd&&(l=vs(d)?d:Qi(t[o+1])?[]:{})}tt(s,u,l),s=s[u]}return e}var vn=oe?function(e,t){return oe.set(e,t),e}:Ol,mn=A?function(e,t){return A(e,"toString",{configurable:!0,enumerable:!1,value:bl(t),writable:!0})}:Ol;function bn(e){return Mo(Lu(e))}function yn(e,t,n){var i=-1,o=e.length;t<0&&(t=o<-t?0:o+t),(n=o<n?o:n)<0&&(n+=o),o=n<t?0:n-t>>>0,t>>>=0;for(var r=B(o);++i<o;)r[i]=e[i+t];return r}function Pn(e,i){var o;return ft(e,function(e,t,n){return!(o=i(e,t,n))}),!!o}function Mn(e,t,n){var i=0,o=null==e?i:e.length;if("number"==typeof t&&t==t&&o<=Md){for(;i<o;){var r=i+o>>>1,a=e[r];null!==a&&!Ts(a)&&(n?a<=t:a<t)?i=1+r:o=r}return o}return On(e,t,Ol,n)}function On(e,t,n,i){t=n(t);for(var o=0,r=null==e?0:e.length,a=t!=t,s=null===t,u=Ts(t),l=t===dd;o<r;){var d=F((o+r)/2),h=n(e[d]),p=h!==dd,c=null===h,f=h==h,g=Ts(h);if(a)var _=i||f;else _=l?f&&(i||p):s?f&&p&&(i||!c):u?f&&p&&!c&&(i||!g):!c&&!g&&(i?h<=t:h<t);_?o=d+1:r=d}return H(r,Pd)}function Sn(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Ja(s,u)){var u=s;r[o++]=0===a?0:a}}return r}function Bn(e){return"number"==typeof e?e:Ts(e)?bd:+e}function xn(e){if("string"==typeof e)return e;if(ts(e))return rp(e,xn)+"";if(Ts(e))return ce?ce.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function kn(e,t,n){var i=-1,o=ip,r=e.length,a=!0,s=[],u=s;if(n)a=!1,o=op;else if(200<=r){var l=t?null:Pi(e);if(l)return Rp(l);a=!1,o=Bp,u=new De}else u=t?[]:s;e:for(;++i<r;){var d=e[i],h=t?t(d):d;if(d=n||0!==d?d:0,a&&h==h){for(var p=u.length;p--;)if(u[p]===h)continue e;t&&u.push(h),s.push(d)}else o(u,h,n)||(u!==s&&u.push(h),s.push(d))}return s}function wn(e,t){return null==(e=fo(e,t=En(t,e)))||delete e[So(Qo(t))]}function Cn(e,t,n,i){return _n(e,t,n(xt(e,t)),i)}function In(e,t,n,i){for(var o=e.length,r=i?o:-1;(i?r--:++r<o)&&t(e[r],r,e););return n?yn(e,i?0:r,i?r+1:o):yn(e,i?r+1:0,i?o:r)}function Nn(e,t){var n=e;return n instanceof be&&(n=n.value()),sp(t,function(e,t){return t.func.apply(t.thisArg,ap([e],t.args))},n)}function Tn(e,t,n){var i=e.length;if(i<2)return i?kn(e[0]):[];for(var o=-1,r=B(i);++o<i;)for(var a=e[o],s=-1;++s<i;)s!=o&&(r[o]=ct(r[o]||a,e[s],t,n));return kn(yt(r,1),t,n)}function jn(e,t,n){for(var i=-1,o=e.length,r=t.length,a={};++i<o;){var s=i<r?t[i]:dd;n(a,e[i],s)}return a}function Ln(e){return os(e)?e:[]}function An(e){return"function"==typeof e?e:Ol}function En(e,t){return ts(e)?e:eo(e,t)?[e]:Oo(Xs(e))}var Gn=cn;function Wn(e,t,n){var i=e.length;return n=n===dd?i:n,!t&&i<=n?e:yn(e,t,n)}var Rn=E||function(e){return Vh.clearTimeout(e)};function Fn(e,t){if(t)return e.slice();var n=e.length,i=k?k(n):new e.constructor(n);return e.copy(i),i}function Dn(e){var t=new e.constructor(e.byteLength);return new x(t).set(new x(e)),t}function qn(e,t){var n=t?Dn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Vn(e){var t=new e.constructor(e.source,xh.exec(e));return t.lastIndex=e.lastIndex,t}function Zn(e){return pe?c(pe.call(e)):{}}function Yn(e,t){var n=t?Dn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Xn(e,t){if(e!==t){var n=e!==dd,i=null===e,o=e==e,r=Ts(e),a=t!==dd,s=null===t,u=t==t,l=Ts(t);if(!s&&!l&&!r&&t<e||r&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!o)return 1;if(!i&&!r&&!l&&e<t||l&&n&&o&&!i&&!r||s&&n&&o||!a&&o||!u)return-1}return 0}function Hn(e,t,n){for(var i=-1,o=e.criteria,r=t.criteria,a=o.length,s=n.length;++i<a;){var u=Xn(o[i],r[i]),l;if(u)return s<=i?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}function Un(e,t,n,i){for(var o=-1,r=e.length,a=n.length,s=-1,u=t.length,l=X(r-a,0),d=B(u+l),h=!i;++s<u;)d[s]=t[s];for(;++o<a;)(h||o<r)&&(d[n[o]]=e[o]);for(;l--;)d[s++]=e[o++];return d}function zn(e,t,n,i){for(var o=-1,r=e.length,a=-1,s=n.length,u=-1,l=t.length,d=X(r-s,0),h=B(d+l),p=!i;++o<d;)h[o]=e[o];for(var c=o;++u<l;)h[c+u]=t[u];for(;++a<s;)(p||o<r)&&(h[c+n[a]]=e[o++]);return h}function $n(e,t){var n=-1,i=e.length;for(t=t||B(i);++n<i;)t[n]=e[n];return t}function Jn(e,t,n,i){var o=!n;n=n||{};for(var r=-1,a=t.length;++r<a;){var s=t[r],u=i?i(n[s],e[s],s,n,e):dd;u===dd&&(u=e[s]),o?at(n,s,u):tt(n,s,u)}return n}function Qn(e,t){return Jn(e,Di(e),t)}function Kn(e,t){return Jn(e,qi(e),t)}function ei(o,r){return function(e,t){var n=ts(e)?Qh:it,i=r?r():{};return n(e,o,Ei(t,2),i)}}function ti(s){return cn(function(e,t){var n=-1,i=t.length,o=1<i?t[i-1]:dd,r=2<i?t[2]:dd;for(o=3<s.length&&"function"==typeof o?(i--,o):dd,r&&Ki(t[0],t[1],r)&&(o=i<3?dd:o,i=1),e=c(e);++n<i;){var a=t[n];a&&s(e,a,n,o)}return e})}function ni(r,a){return function(e,t){if(null==e)return e;if(!is(e))return r(e,t);for(var n=e.length,i=a?n:-1,o=c(e);(a?i--:++i<n)&&!1!==t(o[i],i,o););return e}}function ii(u){return function(e,t,n){for(var i=-1,o=c(e),r=n(e),a=r.length;a--;){var s=r[u?a:++i];if(!1===t(o[s],s,o))break}return e}}function oi(t,e,n){var i=1&e,o=si(t);function r(){var e;return(this&&this!==Vh&&this instanceof r?o:t).apply(i?n:this,arguments)}return r}function ri(o){return function(e){var t=jp(e=Xs(e))?Vp(e):dd,n=t?t[0]:e.charAt(0),i=t?Wn(t,1).join(""):e.slice(1);return n[o]()+i}}function ai(t){return function(e){return sp(fl(Du(e).replace(Ah,"")),t,"")}}function si(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ge(i.prototype),n=i.apply(t,e);return vs(n)?n:t}}function ui(a,s,u){var l=si(a);function d(){for(var e=arguments.length,t=B(e),n=e,i=Ai(d);n--;)t[n]=arguments[n];var o=e<3&&t[0]!==i&&t[e-1]!==i?[]:Wp(t,i),r;return(e-=o.length)<u?bi(a,s,hi,d.placeholder,dd,t,o,dd,dd,u-e):Jh(this&&this!==Vh&&this instanceof d?l:a,this,t)}return d}function li(a){return function(e,t,n){var i=c(e);if(!is(e)){var o=Ei(t,3);e=gu(e),t=function(e){return o(i[e],e,i)}}var r=a(e,t,n);return-1<r?i[o?e[r]:r]:dd}}function di(u){return Ii(function(o){var r=o.length,e=r,t=me.prototype.thru;for(u&&o.reverse();e--;){var n=o[e];if("function"!=typeof n)throw new M(cd);if(t&&!a&&"wrapper"==Li(n))var a=new me([],!0)}for(e=a?e:r;++e<r;){var i=Li(n=o[e]),s="wrapper"==i?ji(n):dd;a=s&&no(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Li(s[0])].apply(a,s[3]):1==n.length&&no(n)?a[i]():a.thru(n)}return function(){var e=arguments,t=e[0];if(a&&1==e.length&&ts(t))return a.plant(t).value();for(var n=0,i=r?o[n].apply(this,e):t;++n<r;)i=o[n].call(this,i);return i}})}function hi(u,l,d,h,p,c,f,g,_,v){var m=128&l,b=1&l,y=2&l,P=24&l,M=512&l,O=y?dd:si(u);function S(){for(var e=arguments.length,t=B(e),n=e;n--;)t[n]=arguments[n];if(P)var i=Ai(S),o=wp(t,i);if(h&&(t=Un(t,h,p,P)),c&&(t=zn(t,c,f,P)),e-=o,P&&e<v){var r=Wp(t,i);return bi(u,l,hi,S.placeholder,d,t,r,g,_,v-e)}var a=b?d:this,s=y?a[u]:u;return e=t.length,g?t=go(t,g):M&&1<e&&t.reverse(),m&&_<e&&(t.length=_),this&&this!==Vh&&this instanceof S&&(s=O||si(s)),s.apply(a,t)}return S}function pi(n,i){return function(e,t){return Lt(e,n,i(t),{})}}function ci(i,o){return function(e,t){var n;if(e===dd&&t===dd)return o;if(e!==dd&&(n=e),t!==dd){if(n===dd)return t;t="string"==typeof e||"string"==typeof t?(e=xn(e),xn(t)):(e=Bn(e),Bn(t)),n=i(e,t)}return n}}function fi(i){return Ii(function(e){return e=rp(e,Op(Ei())),cn(function(t){var n=this;return i(e,function(e){return Jh(e,n,t)})})})}function gi(e,t){var n=(t=t===dd?" ":xn(t)).length;if(n<2)return n?pn(t,e):t;var i=pn(t,R(e/qp(t)));return jp(t)?Wn(Vp(i),0,e).join(""):i.slice(0,e)}function _i(a,e,s,u){var l=1&e,d=si(a);function h(){for(var e=-1,t=arguments.length,n=-1,i=u.length,o=B(i+t),r=this&&this!==Vh&&this instanceof h?d:a;++n<i;)o[n]=u[n];for(;t--;)o[n++]=arguments[++e];return Jh(r,l?s:this,o)}return h}function vi(i){return function(e,t,n){return n&&"number"!=typeof n&&Ki(e,t,n)&&(t=n=dd),e=Fs(e),t===dd?(t=e,e=0):t=Fs(t),hn(e,t,n=n===dd?e<t?1:-1:Fs(n),i)}}function mi(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Vs(e),t=Vs(t)),n(e,t)}}function bi(e,t,n,i,o,r,a,s,u,l){var d=8&t,h,p,c,f;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var g=[e,t,o,d?r:dd,d?a:dd,d?dd:r,d?dd:a,s,u,l],_=n.apply(dd,g);return no(e)&&vo(_,g),_.placeholder=i,yo(_,e,t)}function yi(e){var o=r[e];return function(e,t){if(e=Vs(e),(t=null==t?0:H(Ds(t),292))&&V(e)){var n=(Xs(e)+"e").split("e"),i;return+((n=(Xs(o(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return o(e)}}var Pi=te&&1/Rp(new te([,-0]))[1]==1/0?function(e){return new te(e)}:Nl;function Mi(n){return function(e){var t=Vi(e);return t==jd?Ep(e):t==Fd?Fp(e):Mp(e,n(e))}}function Oi(e,t,n,i,o,r,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new M(cd);var l=i?i.length:0;if(l||(t&=-97,i=o=dd),a=a===dd?a:X(Ds(a),0),s=s===dd?s:Ds(s),l-=o?o.length:0,64&t){var d=i,h=o;i=o=dd}var p=u?dd:ji(e),c=[e,t,n,i,o,d,h,r,a,s],f;if(p&&lo(c,p),e=c[0],t=c[1],n=c[2],i=c[3],o=c[4],!(s=c[9]=c[9]===dd?u?0:e.length:X(c[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?ui(e,t,s):32!=t&&33!=t||o.length?hi.apply(dd,c):_i(e,t,n,i);else var g=oi(e,t,n);return yo((p?vn:vo)(g,c),e,t)}function Si(e,t,n,i){return e===dd||Ja(e,h[n])&&!P.call(i,n)?t:e}function Bi(e,t,n,i,o,r){return vs(e)&&vs(t)&&(r.set(t,e),en(e,t,dd,Bi,r),r.delete(t)),e}function xi(e){return ks(e)?dd:e}function ki(e,t,n,i,o,r){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&s<u))return!1;var l=r.get(e);if(l&&r.get(t))return l==t;var d=-1,h=!0,p=2&n?new De:dd;for(r.set(e,t),r.set(t,e);++d<s;){var c=e[d],f=t[d];if(i)var g=a?i(f,c,d,t,e,r):i(c,f,d,e,t,r);if(g!==dd){if(g)continue;h=!1;break}if(p){if(!lp(t,function(e,t){if(!Bp(p,t)&&(c===e||o(c,e,n,i,r)))return p.push(t)})){h=!1;break}}else if(c!==f&&!o(c,f,n,i,r)){h=!1;break}}return r.delete(e),r.delete(t),h}function wi(e,t,n,i,o,r,a){switch(n){case Hd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Xd:return!(e.byteLength!=t.byteLength||!r(new x(e),new x(t)));case kd:case wd:case Ld:return Ja(+e,+t);case Id:return e.name==t.name&&e.message==t.message;case Rd:case Dd:return e==t+"";case jd:var s=Ep;case Fd:var u=1&i;if(s=s||Rp,e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;i|=2,a.set(e,t);var d=ki(s(e),s(t),i,o,r,a);return a.delete(e),d;case qd:if(pe)return pe.call(e)==pe.call(t)}return!1}function Ci(e,t,n,i,o,r){var a=1&n,s=Ni(e),u=s.length,l,d;if(u!=Ni(t).length&&!a)return!1;for(var h=u;h--;){var p=s[h];if(!(a?p in t:P.call(t,p)))return!1}var c=r.get(e);if(c&&r.get(t))return c==t;var f=!0;r.set(e,t),r.set(t,e);for(var g=a;++h<u;){var _=e[p=s[h]],v=t[p];if(i)var m=a?i(v,_,p,t,e,r):i(_,v,p,e,t,r);if(!(m===dd?_===v||o(_,v,n,i,r):m)){f=!1;break}g=g||"constructor"==p}if(f&&!g){var b=e.constructor,y=t.constructor;b!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(f=!1)}return r.delete(e),r.delete(t),f}function Ii(e){return bo(co(e,dd,Do),e+"")}function Ni(e){return kt(e,gu,Di)}function Ti(e){return kt(e,_u,qi)}var ji=oe?function(e){return oe.get(e)}:Nl;function Li(e){for(var t=e.name+"",n=re[t],i=P.call(re,t)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}function Ai(e){var t;return(P.call(fe,"placeholder")?fe:e).placeholder}function Ei(){var e=fe.iteratee||Sl;return e=e===Sl?Ht:e,arguments.length?e(arguments[0],arguments[1]):e}function Gi(e,t){var n=e.__data__;return to(t)?n["string"==typeof t?"string":"hash"]:n.map}function Wi(e){for(var t=gu(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,ao(o)]}return t}function Ri(e,t){var n=Tp(e,t);return Vt(n)?n:dd}function Fi(e){var t=P.call(e,L),n=e[L];try{e[L]=dd;var i=!0}catch(e){}var o=g.call(e);return i&&(t?e[L]=n:delete e[L]),o}var Di=D?function(t){return null==t?[]:(t=c(t),np(D(t),function(e){return I.call(t,e)}))}:Fl,qi=D?function(e){for(var t=[];e;)ap(t,Di(e)),e=w(e);return t}:Fl,Vi=wt;function Zi(e,t,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=H(t,e+a);break;case"takeRight":e=X(e,t-a)}}return{start:e,end:t}}function Yi(e){var t=e.match(Mh);return t?t[1].split(Oh):[]}function Xi(e,t,n){for(var i=-1,o=(t=En(t,e)).length,r=!1;++i<o;){var a=So(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&_s(o)&&Qi(a,o)&&(ts(e)||es(e))}function Hi(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&P.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ui(e){return"function"!=typeof e.constructor||ro(e)?{}:ge(w(e))}function zi(e,t,n){var i=e.constructor;switch(t){case Xd:return Dn(e);case kd:case wd:return new i(+e);case Hd:return qn(e,n);case Ud:case zd:case $d:case Jd:case Qd:case Kd:case eh:case th:case nh:return Yn(e,n);case jd:return new i;case Ld:case Dd:return new i(e);case Rd:return Vn(e);case Fd:return new i;case qd:return Zn(e)}}function $i(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace(Ph,"{\n/* [wrapped with "+t+"] */\n")}function Ji(e){return ts(e)||es(e)||!!(T&&e&&e[T])}function Qi(e,t){var n=typeof e;return!!(t=null==t?vd:t)&&("number"==n||"symbol"!=n&&Nh.test(e))&&-1<e&&e%1==0&&e<t}function Ki(e,t,n){if(!vs(n))return!1;var i=typeof t;return!!("number"==i?is(n)&&Qi(t,n.length):"string"==i&&t in n)&&Ja(n[t],e)}function eo(e,t){if(ts(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ts(e))||(fh.test(e)||!ch.test(e)||null!=t&&e in c(t))}function to(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function no(e){var t=Li(e),n=fe[t];if("function"!=typeof n||!(t in be.prototype))return!1;if(e===n)return!0;var i=ji(n);return!!i&&e===i[0]}function io(e){return!!p&&p in e}(Q&&Vi(new Q(new ArrayBuffer(1)))!=Hd||K&&Vi(new K)!=jd||ee&&Vi(ee.resolve())!=Gd||te&&Vi(new te)!=Fd||ne&&Vi(new ne)!=Zd)&&(Vi=function(e){var t=wt(e),n=t==Ed?e.constructor:dd,i=n?Bo(n):"";if(i)switch(i){case ae:return Hd;case se:return jd;case ue:return Gd;case le:return Fd;case de:return Zd}return t});var oo=s?fs:Dl;function ro(e){var t=e&&e.constructor,n;return e===("function"==typeof t&&t.prototype||h)}function ao(e){return e==e&&!vs(e)}function so(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==dd||t in c(e)))}}function uo(e){var t=ja(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}function lo(e,t){var n=e[1],i=t[1],o=n|i,r=o<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!r&&!a)return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?Un(u,s,t[4]):s,e[4]=u?Wp(e[3],gd):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?zn(u,s,t[6]):s,e[6]=u?Wp(e[5],gd):t[6]),(s=t[7])&&(e[7]=s),128&i&&(e[8]=null==e[8]?t[8]:H(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ho(e){var t=[];if(null!=e)for(var n in c(e))t.push(n);return t}function po(e){return g.call(e)}function co(r,a,s){return a=X(a===dd?r.length-1:a,0),function(){for(var e=arguments,t=-1,n=X(e.length-a,0),i=B(n);++t<n;)i[t]=e[a+t];t=-1;for(var o=B(a+1);++t<a;)o[t]=e[t];return o[a]=s(i),Jh(r,this,o)}}function fo(e,t){return t.length<2?e:xt(e,yn(t,0,-1))}function go(e,t){for(var n=e.length,i=H(t.length,n),o=$n(e);i--;){var r=t[i];e[i]=Qi(r,n)?o[r]:dd}return e}function _o(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var vo=Po(vn),mo=W||function(e,t){return Vh.setTimeout(e,t)},bo=Po(mn);function yo(e,t,n){var i=t+"";return bo(e,$i(i,xo(Yi(i),n)))}function Po(n){var i=0,o=0;return function(){var e=U(),t=16-(e-o);if(o=e,0<t){if(800<=++i)return arguments[0]}else i=0;return n.apply(dd,arguments)}}function Mo(e,t){var n=-1,i=e.length,o=i-1;for(t=t===dd?i:t;++n<t;){var r=dn(n,o),a=e[r];e[r]=e[n],e[n]=a}return e.length=t,e}var Oo=uo(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(gh,function(e,t,n,i){o.push(n?i.replace(Sh,"$1"):t||e)}),o});function So(e){if("string"==typeof e||Ts(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return u.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xo(n,i){return Kh(Od,function(e){var t="_."+e[0];i&e[1]&&!ip(n,t)&&n.push(t)}),n.sort()}function ko(e){if(e instanceof be)return e.clone();var t=new me(e.__wrapped__,e.__chain__);return t.__actions__=$n(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function wo(e,t,n){t=(n?Ki(e,t,n):t===dd)?1:X(Ds(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,r=0,a=B(R(i/t));o<i;)a[r++]=yn(e,o,o+=t);return a}function Co(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var r=e[t];r&&(o[i++]=r)}return o}function Io(){var e=arguments.length;if(!e)return[];for(var t=B(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ap(ts(n)?$n(n):[n],yt(t,1))}var No=cn(function(e,t){return os(e)?ct(e,yt(t,1,os,!0)):[]}),To=cn(function(e,t){var n=Qo(t);return os(n)&&(n=dd),os(e)?ct(e,yt(t,1,os,!0),Ei(n,2)):[]}),jo=cn(function(e,t){var n=Qo(t);return os(n)&&(n=dd),os(e)?ct(e,yt(t,1,os,!0),dd,n):[]});function Lo(e,t,n){var i=null==e?0:e.length;return i?yn(e,(t=n||t===dd?1:Ds(t))<0?0:t,i):[]}function Ao(e,t,n){var i=null==e?0:e.length;return i?yn(e,0,(t=i-(t=n||t===dd?1:Ds(t)))<0?0:t):[]}function Eo(e,t){return e&&e.length?In(e,Ei(t,3),!0,!0):[]}function Go(e,t){return e&&e.length?In(e,Ei(t,3),!0):[]}function Wo(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Ki(e,t,n)&&(n=0,i=o),mt(e,t,n,i)):[]}function Ro(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:Ds(n);return o<0&&(o=X(i+o,0)),pp(e,Ei(t,3),o)}function Fo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==dd&&(o=Ds(n),o=n<0?X(i+o,0):H(o,i-1)),pp(e,Ei(t,3),o,!0)}function Do(e){var t;return(null==e?0:e.length)?yt(e,1):[]}function qo(e){var t;return(null==e?0:e.length)?yt(e,1/0):[]}function Vo(e,t){var n;return(null==e?0:e.length)?yt(e,t=t===dd?1:Ds(t)):[]}function Zo(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1]}return i}function Yo(e){return e&&e.length?e[0]:dd}function Xo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:Ds(n);return o<0&&(o=X(i+o,0)),cp(e,t,o)}function Ho(e){var t;return(null==e?0:e.length)?yn(e,0,-1):[]}var Uo=cn(function(e){var t=rp(e,Ln);return t.length&&t[0]===e[0]?jt(t):[]}),zo=cn(function(e){var t=Qo(e),n=rp(e,Ln);return t===Qo(n)?t=dd:n.pop(),n.length&&n[0]===e[0]?jt(n,Ei(t,2)):[]}),$o=cn(function(e){var t=Qo(e),n=rp(e,Ln);return(t="function"==typeof t?t:dd)&&n.pop(),n.length&&n[0]===e[0]?jt(n,dd,t):[]});function Jo(e,t){return null==e?"":Z.call(e,t)}function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:dd}function Ko(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==dd&&(o=(o=Ds(n))<0?X(i+o,0):H(o,i-1)),t==t?Dp(e,t,o):pp(e,gp,o,!0)}function er(e,t){return e&&e.length?nn(e,Ds(t)):dd}var tr=cn(nr);function nr(e,t){return e&&e.length&&t&&t.length?un(e,t):e}function ir(e,t,n){return e&&e.length&&t&&t.length?un(e,t,Ei(n,2)):e}function or(e,t,n){return e&&e.length&&t&&t.length?un(e,t,dd,n):e}var rr=Ii(function(e,t){var n=null==e?0:e.length,i=st(e,t);return ln(e,rp(t,function(e){return Qi(e,n)?+e:e}).sort(Xn)),i});function ar(e,t){var n=[];if(!e||!e.length)return n;var i=-1,o=[],r=e.length;for(t=Ei(t,3);++i<r;){var a=e[i];t(a,i,e)&&(n.push(a),o.push(i))}return ln(e,o),n}function sr(e){return null==e?e:J.call(e)}function ur(e,t,n){var i=null==e?0:e.length;return i?(n=n&&"number"!=typeof n&&Ki(e,t,n)?(t=0,i):(t=null==t?0:Ds(t),n===dd?i:Ds(n)),yn(e,t,n)):[]}function lr(e,t){return Mn(e,t)}function dr(e,t,n){return On(e,t,Ei(n,2))}function hr(e,t){var n=null==e?0:e.length;if(n){var i=Mn(e,t);if(i<n&&Ja(e[i],t))return i}return-1}function pr(e,t){return Mn(e,t,!0)}function cr(e,t,n){return On(e,t,Ei(n,2),!0)}function fr(e,t){var n;if(null==e?0:e.length){var i=Mn(e,t,!0)-1;if(Ja(e[i],t))return i}return-1}function gr(e){return e&&e.length?Sn(e):[]}function _r(e,t){return e&&e.length?Sn(e,Ei(t,2)):[]}function vr(e){var t=null==e?0:e.length;return t?yn(e,1,t):[]}function mr(e,t,n){return e&&e.length?yn(e,0,(t=n||t===dd?1:Ds(t))<0?0:t):[]}function br(e,t,n){var i=null==e?0:e.length;return i?yn(e,(t=i-(t=n||t===dd?1:Ds(t)))<0?0:t,i):[]}function yr(e,t){return e&&e.length?In(e,Ei(t,3),!1,!0):[]}function Pr(e,t){return e&&e.length?In(e,Ei(t,3)):[]}var Mr=cn(function(e){return kn(yt(e,1,os,!0))}),Or=cn(function(e){var t=Qo(e);return os(t)&&(t=dd),kn(yt(e,1,os,!0),Ei(t,2))}),Sr=cn(function(e){var t=Qo(e);return t="function"==typeof t?t:dd,kn(yt(e,1,os,!0),dd,t)});function Br(e){return e&&e.length?kn(e):[]}function xr(e,t){return e&&e.length?kn(e,Ei(t,2)):[]}function kr(e,t){return t="function"==typeof t?t:dd,e&&e.length?kn(e,dd,t):[]}function wr(t){if(!t||!t.length)return[];var n=0;return t=np(t,function(e){if(os(e))return n=X(e.length,n),!0}),Pp(n,function(e){return rp(t,vp(e))})}function Cr(e,t){if(!e||!e.length)return[];var n=wr(e);return null==t?n:rp(n,function(e){return Jh(t,dd,e)})}var Ir=cn(function(e,t){return os(e)?ct(e,t):[]}),Nr=cn(function(e){return Tn(np(e,os))}),Tr=cn(function(e){var t=Qo(e);return os(t)&&(t=dd),Tn(np(e,os),Ei(t,2))}),jr=cn(function(e){var t=Qo(e);return t="function"==typeof t?t:dd,Tn(np(e,os),dd,t)}),Lr=cn(wr);function Ar(e,t){return jn(e||[],t||[],tt)}function Er(e,t){return jn(e||[],t||[],_n)}var Gr=cn(function(e){var t=e.length,n=1<t?e[t-1]:dd;return n="function"==typeof n?(e.pop(),n):dd,Cr(e,n)});function Wr(e){var t=fe(e);return t.__chain__=!0,t}function Rr(e,t){return t(e),e}function Fr(e,t){return t(e)}var Dr=Ii(function(t){var n=t.length,e=n?t[0]:0,i=this.__wrapped__,o=function(e){return st(e,t)};return!(1<n||this.__actions__.length)&&i instanceof be&&Qi(e)?((i=i.slice(e,+e+(n?1:0))).__actions__.push({func:Fr,args:[o],thisArg:dd}),new me(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(dd),e})):this.thru(o)});function qr(){return Wr(this)}function Vr(){return new me(this.value(),this.__chain__)}function Zr(){this.__values__===dd&&(this.__values__=Rs(this.value()));var e=this.__index__>=this.__values__.length,t;return{done:e,value:e?dd:this.__values__[this.__index__++]}}function Yr(){return this}function Xr(e){for(var t,n=this;n instanceof ve;){var i=ko(n);i.__index__=0,i.__values__=dd,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t}function Hr(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:Fr,args:[sr],thisArg:dd}),new me(t,this.__chain__)}return this.thru(sr)}function Ur(){return Nn(this.__wrapped__,this.__actions__)}var zr=ei(function(e,t,n){P.call(e,n)?++e[n]:at(e,n,1)});function $r(e,t,n){var i=ts(e)?tp:_t;return n&&Ki(e,t,n)&&(t=dd),i(e,Ei(t,3))}function Jr(e,t){var n;return(ts(e)?np:bt)(e,Ei(t,3))}var Qr=li(Ro),Kr=li(Fo);function ea(e,t){return yt(la(e,t),1)}function ta(e,t){return yt(la(e,t),1/0)}function na(e,t,n){return n=n===dd?1:Ds(n),yt(la(e,t),n)}function ia(e,t){var n;return(ts(e)?Kh:ft)(e,Ei(t,3))}function oa(e,t){var n;return(ts(e)?ep:gt)(e,Ei(t,3))}var ra=ei(function(e,t,n){P.call(e,n)?e[n].push(t):at(e,n,[t])});function aa(e,t,n,i){e=is(e)?e:Lu(e),n=n&&!i?Ds(n):0;var o=e.length;return n<0&&(n=X(o+n,0)),Ns(e)?n<=o&&-1<e.indexOf(t,n):!!o&&-1<cp(e,t,n)}var sa=cn(function(e,t,n){var i=-1,o="function"==typeof t,r=is(e)?B(e.length):[];return ft(e,function(e){r[++i]=o?Jh(t,e,n):At(e,t,n)}),r}),ua=ei(function(e,t,n){at(e,n,t)});function la(e,t){var n;return(ts(e)?rp:Jt)(e,Ei(t,3))}function da(e,t,n,i){return null==e?[]:(ts(t)||(t=null==t?[]:[t]),ts(n=i?dd:n)||(n=null==n?[]:[n]),on(e,t,n))}var ha=ei(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function pa(e,t,n){var i=ts(e)?sp:mp,o=arguments.length<3;return i(e,Ei(t,4),n,o,ft)}function ca(e,t,n){var i=ts(e)?up:mp,o=arguments.length<3;return i(e,Ei(t,4),n,o,gt)}function fa(e,t){var n;return(ts(e)?np:bt)(e,La(Ei(t,3)))}function ga(e){var t;return(ts(e)?Je:fn)(e)}function _a(e,t,n){var i;return t=(n?Ki(e,t,n):t===dd)?1:Ds(t),(ts(e)?Qe:gn)(e,t)}function va(e){var t;return(ts(e)?Ke:bn)(e)}function ma(e){if(null==e)return 0;if(is(e))return Ns(e)?qp(e):e.length;var t=Vi(e);return t==jd||t==Fd?e.size:Ut(e).length}function ba(e,t,n){var i=ts(e)?lp:Pn;return n&&Ki(e,t,n)&&(t=dd),i(e,Ei(t,3))}var ya=cn(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Ki(e,t[0],t[1])?t=[]:2<n&&Ki(t[0],t[1],t[2])&&(t=[t[0]]),on(e,yt(t,1),[])}),Pa=G||function(){return Vh.Date.now()};function Ma(e,t){if("function"!=typeof t)throw new M(cd);return e=Ds(e),function(){if(--e<1)return t.apply(this,arguments)}}function Oa(e,t,n){return t=n?dd:t,t=e&&null==t?e.length:t,Oi(e,128,dd,dd,dd,dd,t)}function Sa(e,t){var n;if("function"!=typeof t)throw new M(cd);return e=Ds(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=dd),n}}var Ba=cn(function(e,t,n){var i=1;if(n.length){var o=Wp(n,Ai(Ba));i|=32}return Oi(e,i,t,n,o)}),xa=cn(function(e,t,n){var i=3;if(n.length){var o=Wp(n,Ai(xa));i|=32}return Oi(t,i,e,n,o)});function ka(e,t,n){var i=Oi(e,8,dd,dd,dd,dd,dd,t=n?dd:t);return i.placeholder=ka.placeholder,i}function wa(e,t,n){var i=Oi(e,16,dd,dd,dd,dd,dd,t=n?dd:t);return i.placeholder=wa.placeholder,i}function Ca(i,o,e){var r,a,s,u,n,l,d=0,t=!1,h=!1,p=!0;if("function"!=typeof i)throw new M(cd);function c(e){var t=r,n=a;return r=a=dd,d=e,u=i.apply(n,t)}function f(e){return d=e,n=mo(v,o),t?c(e):u}function g(e){var t,n,i=o-(e-l);return h?H(i,s-(e-d)):i}function _(e){var t=e-l,n;return l===dd||o<=t||t<0||h&&s<=e-d}function v(){var e=Pa();if(_(e))return m(e);n=mo(v,g(e))}function m(e){return n=dd,p&&r?c(e):(r=a=dd,u)}function b(){n!==dd&&Rn(n),d=0,r=l=a=n=dd}function y(){return n===dd?u:m(Pa())}function P(){var e=Pa(),t=_(e);if(r=arguments,a=this,l=e,t){if(n===dd)return f(l);if(h)return Rn(n),n=mo(v,o),c(l)}return n===dd&&(n=mo(v,o)),u}return o=Vs(o)||0,vs(e)&&(t=!!e.leading,s=(h="maxWait"in e)?X(Vs(e.maxWait)||0,o):s,p="trailing"in e?!!e.trailing:p),P.cancel=b,P.flush=y,P}var Ia=cn(function(e,t){return pt(e,1,t)}),Na=cn(function(e,t,n){return pt(e,Vs(t)||0,n)});function Ta(e){return Oi(e,512)}function ja(o,r){if("function"!=typeof o||null!=r&&"function"!=typeof r)throw new M(cd);var a=function(){var e=arguments,t=r?r.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var i=o.apply(this,e);return a.cache=n.set(t,i)||n,i};return a.cache=new(ja.Cache||Ae),a}function La(t){if("function"!=typeof t)throw new M(cd);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Aa(e){return Sa(2,e)}ja.Cache=Ae;var Ea=Gn(function(i,o){var r=(o=1==o.length&&ts(o[0])?rp(o[0],Op(Ei())):rp(yt(o,1),Op(Ei()))).length;return cn(function(e){for(var t=-1,n=H(e.length,r);++t<n;)e[t]=o[t].call(this,e[t]);return Jh(i,this,e)})}),Ga=cn(function(e,t){var n=Wp(t,Ai(Ga));return Oi(e,32,dd,t,n)}),Wa=cn(function(e,t){var n=Wp(t,Ai(Wa));return Oi(e,64,dd,t,n)}),Ra=Ii(function(e,t){return Oi(e,256,dd,dd,dd,t)});function Fa(e,t){if("function"!=typeof e)throw new M(cd);return cn(e,t=t===dd?t:Ds(t))}function Da(i,o){if("function"!=typeof i)throw new M(cd);return o=null==o?0:X(Ds(o),0),cn(function(e){var t=e[o],n=Wn(e,0,o);return t&&ap(n,t),Jh(i,this,n)})}function qa(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new M(cd);return vs(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Ca(e,t,{leading:i,maxWait:t,trailing:o})}function Va(e){return Oa(e,1)}function Za(e,t){return Ga(An(t),e)}function Ya(){if(!arguments.length)return[];var e=arguments[0];return ts(e)?e:[e]}function Xa(e){return lt(e,4)}function Ha(e,t){return lt(e,4,t="function"==typeof t?t:dd)}function Ua(e){return lt(e,5)}function za(e,t){return lt(e,5,t="function"==typeof t?t:dd)}function $a(e,t){return null==t||ht(e,t,gu(t))}function Ja(e,t){return e===t||e!=e&&t!=t}var Qa=mi(Ct),Ka=mi(function(e,t){return t<=e}),es=Et(function(){return arguments}())?Et:function(e){return ms(e)&&P.call(e,"callee")&&!I.call(e,"callee")},ts=B.isArray,ns=Yh?Op(Yh):Gt;function is(e){return null!=e&&_s(e.length)&&!fs(e)}function os(e){return ms(e)&&is(e)}function rs(e){return!0===e||!1===e||ms(e)&&wt(e)==kd}var as=q||Dl,ss=Xh?Op(Xh):Wt;function us(e){return ms(e)&&1===e.nodeType&&!ks(e)}function ls(e){if(null==e)return!0;if(is(e)&&(ts(e)||"string"==typeof e||"function"==typeof e.splice||as(e)||js(e)||es(e)))return!e.length;var t=Vi(e);if(t==jd||t==Fd)return!e.size;if(ro(e))return!Ut(e).length;for(var n in e)if(P.call(e,n))return!1;return!0}function ds(e,t){return Rt(e,t)}function hs(e,t,n){var i=(n="function"==typeof n?n:dd)?n(e,t):dd;return i===dd?Rt(e,t,dd,n):!!i}function ps(e){if(!ms(e))return!1;var t=wt(e);return t==Id||t==Cd||"string"==typeof e.message&&"string"==typeof e.name&&!ks(e)}function cs(e){return"number"==typeof e&&V(e)}function fs(e){if(!vs(e))return!1;var t=wt(e);return t==Nd||t==Td||t==xd||t==Wd}function gs(e){return"number"==typeof e&&e==Ds(e)}function _s(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=vd}function vs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ms(e){return null!=e&&"object"==typeof e}var bs=Hh?Op(Hh):Dt;function ys(e,t){return e===t||qt(e,t,Wi(t))}function Ps(e,t,n){return n="function"==typeof n?n:dd,qt(e,t,Wi(t),n)}function Ms(e){return xs(e)&&e!=+e}function Os(e){if(oo(e))throw new i(pd);return Vt(e)}function Ss(e){return null===e}function Bs(e){return null==e}function xs(e){return"number"==typeof e||ms(e)&&wt(e)==Ld}function ks(e){if(!ms(e)||wt(e)!=Ed)return!1;var t=w(e);if(null===t)return!0;var n=P.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==m}var ws=Uh?Op(Uh):Zt;function Cs(e){return gs(e)&&-vd<=e&&e<=vd}var Is=zh?Op(zh):Yt;function Ns(e){return"string"==typeof e||!ts(e)&&ms(e)&&wt(e)==Dd}function Ts(e){return"symbol"==typeof e||ms(e)&&wt(e)==qd}var js=$h?Op($h):Xt;function Ls(e){return e===dd}function As(e){return ms(e)&&Vi(e)==Zd}function Es(e){return ms(e)&&wt(e)==Yd}var Gs=mi($t),Ws=mi(function(e,t){return e<=t});function Rs(e){if(!e)return[];if(is(e))return Ns(e)?Vp(e):$n(e);if(j&&e[j])return Ap(e[j]());var t=Vi(e),n;return(t==jd?Ep:t==Fd?Rp:Lu)(e)}function Fs(e){return e?(e=Vs(e))!==1/0&&e!==-1/0?e==e?e:0:(e<0?-1:1)*md:0===e?e:0;var t}function Ds(e){var t=Fs(e),n=t%1;return t==t?n?t-n:t:0}function qs(e){return e?ut(Ds(e),0,yd):0}function Vs(e){if("number"==typeof e)return e;if(Ts(e))return bd;if(vs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=vs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mh,"");var n=wh.test(e);return n||Ih.test(e)?qh(e.slice(2),n?2:8):kh.test(e)?bd:+e}function Zs(e){return Jn(e,_u(e))}function Ys(e){return e?ut(Ds(e),-vd,vd):0===e?e:0}function Xs(e){return null==e?"":xn(e)}var Hs=ti(function(e,t){if(ro(t)||is(t))Jn(t,gu(t),e);else for(var n in t)P.call(t,n)&&tt(e,n,t[n])}),Us=ti(function(e,t){Jn(t,_u(t),e)}),zs=ti(function(e,t,n,i){Jn(t,_u(t),e,i)}),$s=ti(function(e,t,n,i){Jn(t,gu(t),e,i)}),Js=Ii(st);function Qs(e,t){var n=ge(e);return null==t?n:ot(n,t)}var Ks=cn(function(e,t){e=c(e);var n=-1,i=t.length,o=2<i?t[2]:dd;for(o&&Ki(t[0],t[1],o)&&(i=1);++n<i;)for(var r=t[n],a=_u(r),s=-1,u=a.length;++s<u;){var l=a[s],d=e[l];(d===dd||Ja(d,h[l])&&!P.call(e,l))&&(e[l]=r[l])}return e}),eu=cn(function(e){return e.push(dd,Bi),Jh(yu,dd,e)});function tu(e,t){return hp(e,Ei(t,3),Ot)}function nu(e,t){return hp(e,Ei(t,3),St)}function iu(e,t){return null==e?e:Pt(e,Ei(t,3),_u)}function ou(e,t){return null==e?e:Mt(e,Ei(t,3),_u)}function ru(e,t){return e&&Ot(e,Ei(t,3))}function au(e,t){return e&&St(e,Ei(t,3))}function su(e){return null==e?[]:Bt(e,gu(e))}function uu(e){return null==e?[]:Bt(e,_u(e))}function lu(e,t,n){var i=null==e?dd:xt(e,t);return i===dd?n:i}function du(e,t){return null!=e&&Xi(e,t,It)}function hu(e,t){return null!=e&&Xi(e,t,Nt)}var pu=pi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=g.call(t)),e[t]=n},bl(Ol)),cu=pi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=g.call(t)),P.call(e,t)?e[t].push(n):e[t]=[n]},Ei),fu=cn(At);function gu(e){return is(e)?$e(e):Ut(e)}function _u(e){return is(e)?$e(e,!0):zt(e)}function vu(e,i){var o={};return i=Ei(i,3),Ot(e,function(e,t,n){at(o,i(e,t,n),e)}),o}function mu(e,i){var o={};return i=Ei(i,3),Ot(e,function(e,t,n){at(o,t,i(e,t,n))}),o}var bu=ti(function(e,t,n){en(e,t,n)}),yu=ti(function(e,t,n,i){en(e,t,n,i)}),Pu=Ii(function(t,e){var n={};if(null==t)return n;var i=!1;e=rp(e,function(e){return e=En(e,t),i=i||1<e.length,e}),Jn(t,Ti(t),n),i&&(n=lt(n,7,xi));for(var o=e.length;o--;)wn(n,e[o]);return n});function Mu(e,t){return Su(e,La(Ei(t)))}var Ou=Ii(function(e,t){return null==e?{}:rn(e,t)});function Su(e,n){if(null==e)return{};var t=rp(Ti(e),function(e){return[e]});return n=Ei(n),an(e,t,function(e,t){return n(e,t[0])})}function Bu(e,t,n){var i=-1,o=(t=En(t,e)).length;for(o||(o=1,e=dd);++i<o;){var r=null==e?dd:e[So(t[i])];r===dd&&(i=o,r=n),e=fs(r)?r.call(e):r}return e}function xu(e,t,n){return null==e?e:_n(e,t,n)}function ku(e,t,n,i){return i="function"==typeof i?i:dd,null==e?e:_n(e,t,n,i)}var wu=Mi(gu),Cu=Mi(_u);function Iu(e,i,o){var t=ts(e),n=t||as(e)||js(e);if(i=Ei(i,4),null==o){var r=e&&e.constructor;o=n?t?new r:[]:vs(e)&&fs(r)?ge(w(e)):{}}return(n?Kh:Ot)(e,function(e,t,n){return i(o,e,t,n)}),o}function Nu(e,t){return null==e||wn(e,t)}function Tu(e,t,n){return null==e?e:Cn(e,t,An(n))}function ju(e,t,n,i){return i="function"==typeof i?i:dd,null==e?e:Cn(e,t,An(n),i)}function Lu(e){return null==e?[]:Sp(e,gu(e))}function Au(e){return null==e?[]:Sp(e,_u(e))}function Eu(e,t,n){return n===dd&&(n=t,t=dd),n!==dd&&(n=(n=Vs(n))==n?n:0),t!==dd&&(t=(t=Vs(t))==t?t:0),ut(Vs(e),t,n)}function Gu(e,t,n){return t=Fs(t),n===dd?(n=t,t=0):n=Fs(n),Tt(e=Vs(e),t,n)}function Wu(e,t,n){if(n&&"boolean"!=typeof n&&Ki(e,t,n)&&(t=n=dd),n===dd&&("boolean"==typeof t?(n=t,t=dd):"boolean"==typeof e&&(n=e,e=dd)),e===dd&&t===dd?(e=0,t=1):(e=Fs(e),t===dd?(t=e,e=0):t=Fs(t)),t<e){var i=e;e=t,t=i}if(n||e%1||t%1){var o=$();return H(e+o*(t-e+Dh("1e-"+((o+"").length-1))),t)}return dn(e,t)}var Ru=ai(function(e,t,n){return t=t.toLowerCase(),e+(n?Fu(t):t)});function Fu(e){return cl(Xs(e).toLowerCase())}function Du(e){return(e=Xs(e))&&e.replace(Th,Cp).replace(Eh,"")}function qu(e,t,n){e=Xs(e),t=xn(t);var i=e.length,o=n=n===dd?i:ut(Ds(n),0,i);return 0<=(n-=t.length)&&e.slice(n,o)==t}function Vu(e){return(e=Xs(e))&&lh.test(e)?e.replace(sh,Ip):e}function Zu(e){return(e=Xs(e))&&vh.test(e)?e.replace(_h,"\\$&"):e}var Yu=ai(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Xu=ai(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hu=ri("toLowerCase");function Uu(e,t,n){e=Xs(e);var i=(t=Ds(t))?qp(e):0;if(!t||t<=i)return e;var o=(t-i)/2;return gi(F(o),n)+e+gi(R(o),n)}function zu(e,t,n){e=Xs(e);var i=(t=Ds(t))?qp(e):0;return t&&i<t?e+gi(t-i,n):e}function $u(e,t,n){e=Xs(e);var i=(t=Ds(t))?qp(e):0;return t&&i<t?gi(t-i,n)+e:e}function Ju(e,t,n){return t=n||null==t?0:t&&+t,z(Xs(e).replace(bh,""),t||0)}function Qu(e,t,n){return t=(n?Ki(e,t,n):t===dd)?1:Ds(t),pn(Xs(e),t)}function Ku(){var e=arguments,t=Xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var el=ai(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function tl(e,t,n){return n&&"number"!=typeof n&&Ki(e,t,n)&&(t=n=dd),(n=n===dd?yd:n>>>0)?(e=Xs(e))&&("string"==typeof t||null!=t&&!ws(t))&&!(t=xn(t))&&jp(e)?Wn(Vp(e),0,n):e.split(t,n):[]}var nl=ai(function(e,t,n){return e+(n?" ":"")+cl(t)});function il(e,t,n){return e=Xs(e),n=null==n?0:ut(Ds(n),0,e.length),t=xn(t),e.slice(n,n+t.length)==t}function ol(a,e,t){var n=fe.templateSettings;t&&Ki(a,e,t)&&(e=dd),a=Xs(a),e=zs({},e,n,Si);var i=zs({},e.imports,n.imports,Si),o=gu(i),r=Sp(i,o),s,u,l=0,d=e.interpolate||jh,h="__p += '",p=v((e.escape||jh).source+"|"+d.source+"|"+(d===ph?Bh:jh).source+"|"+(e.evaluate||jh).source+"|$","g"),c="//# sourceURL="+(P.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Wh+"]")+"\n";a.replace(p,function(e,t,n,i,o,r){return n=n||i,h+=a.slice(l,r).replace(Lh,Np),t&&(s=!0,h+="' +\n__e("+t+") +\n'"),o&&(u=!0,h+="';\n"+o+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=r+e.length,e}),h+="';\n";var f=P.call(e,"variable")&&e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(ih,""):h).replace(oh,"$1").replace(rh,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=gl(function(){return _(o,c+"return "+h).apply(dd,r)});if(g.source=h,ps(g))throw g;return g}function rl(e){return Xs(e).toLowerCase()}function al(e){return Xs(e).toUpperCase()}function sl(e,t,n){if((e=Xs(e))&&(n||t===dd))return e.replace(mh,"");if(!e||!(t=xn(t)))return e;var i=Vp(e),o=Vp(t),r,a;return Wn(i,xp(i,o),kp(i,o)+1).join("")}function ul(e,t,n){if((e=Xs(e))&&(n||t===dd))return e.replace(yh,"");if(!e||!(t=xn(t)))return e;var i=Vp(e),o;return Wn(i,0,kp(i,Vp(t))+1).join("")}function ll(e,t,n){if((e=Xs(e))&&(n||t===dd))return e.replace(bh,"");if(!e||!(t=xn(t)))return e;var i=Vp(e),o;return Wn(i,xp(i,Vp(t))).join("")}function dl(e,t){var n=30,i=_d;if(vs(t)){var o="separator"in t?t.separator:o;n="length"in t?Ds(t.length):n,i="omission"in t?xn(t.omission):i}var r=(e=Xs(e)).length;if(jp(e)){var a=Vp(e);r=a.length}if(r<=n)return e;var s=n-qp(i);if(s<1)return i;var u=a?Wn(a,0,s).join(""):e.slice(0,s);if(o===dd)return u+i;if(a&&(s+=u.length-s),ws(o)){if(e.slice(s).search(o)){var l,d=u;for(o.global||(o=v(o.source,Xs(xh.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var h=l.index;u=u.slice(0,h===dd?s:h)}}else if(e.indexOf(xn(o),s)!=s){var p=u.lastIndexOf(o);-1<p&&(u=u.slice(0,p))}return u+i}function hl(e){return(e=Xs(e))&&uh.test(e)?e.replace(ah,Zp):e}var pl=ai(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),cl=ri("toUpperCase");function fl(e,t,n){return e=Xs(e),(t=n?dd:t)===dd?Lp(e)?Yp(e):dp(e):e.match(t)||[]}var gl=cn(function(e,t){try{return Jh(e,dd,t)}catch(e){return ps(e)?e:new i(e)}}),_l=Ii(function(t,e){return Kh(e,function(e){e=So(e),at(t,e,Ba(t[e],t))}),t});function vl(i){var o=null==i?0:i.length,t=Ei();return i=o?rp(i,function(e){if("function"!=typeof e[1])throw new M(cd);return[t(e[0]),e[1]]}):[],cn(function(e){for(var t=-1;++t<o;){var n=i[t];if(Jh(n[0],this,e))return Jh(n[1],this,e)}})}function ml(e){return dt(lt(e,1))}function bl(e){return function(){return e}}function yl(e,t){return null==e||e!=e?t:e}var Pl=di(),Ml=di(!0);function Ol(e){return e}function Sl(e){return Ht("function"==typeof e?e:lt(e,1))}function Bl(e){return Qt(lt(e,1))}function xl(e,t){return Kt(e,lt(t,1))}var kl=cn(function(t,n){return function(e){return At(e,t,n)}}),wl=cn(function(t,n){return function(e){return At(t,e,n)}});function Cl(o,t,e){var n=gu(t),i=Bt(t,n);null!=e||vs(t)&&(i.length||!n.length)||(e=t,t=o,o=this,i=Bt(t,gu(t)));var r=!(vs(e)&&"chain"in e&&!e.chain),a=fs(o);return Kh(i,function(e){var i=t[e];o[e]=i,a&&(o.prototype[e]=function(){var e=this.__chain__;if(r||e){var t=o(this.__wrapped__),n;return(t.__actions__=$n(this.__actions__)).push({func:i,args:arguments,thisArg:o}),t.__chain__=e,t}return i.apply(o,ap([this.value()],arguments))})}),o}function Il(){return Vh._===this&&(Vh._=b),this}function Nl(){}function Tl(t){return t=Ds(t),cn(function(e){return nn(e,t)})}var jl=fi(rp),Ll=fi(tp),Al=fi(lp);function El(e){return eo(e)?vp(So(e)):sn(e)}function Gl(t){return function(e){return null==t?dd:xt(t,e)}}var Wl=vi(),Rl=vi(!0);function Fl(){return[]}function Dl(){return!1}function ql(){return{}}function Vl(){return""}function Zl(){return!0}function Yl(e,t){if((e=Ds(e))<1||vd<e)return[];var n=yd,i=H(e,yd);t=Ei(t),e-=yd;for(var o=Pp(i,t);++n<e;)t(n);return o}function Xl(e){return ts(e)?rp(e,So):Ts(e)?[e]:$n(Oo(Xs(e)))}function Hl(e){var t=++l;return Xs(e)+t}var Ul=ci(function(e,t){return e+t},0),zl=yi("ceil"),$l=ci(function(e,t){return e/t},1),Jl=yi("floor");function Ql(e){return e&&e.length?vt(e,Ol,Ct):dd}function Kl(e,t){return e&&e.length?vt(e,Ei(t,2),Ct):dd}function ed(e){return _p(e,Ol)}function td(e,t){return _p(e,Ei(t,2))}function nd(e){return e&&e.length?vt(e,Ol,$t):dd}function id(e,t){return e&&e.length?vt(e,Ei(t,2),$t):dd}var od=ci(function(e,t){return e*t},1),rd=yi("round"),ad=ci(function(e,t){return e-t},0),sd;function ud(e){return e&&e.length?yp(e,Ol):0}function ld(e,t){return e&&e.length?yp(e,Ei(t,2)):0}return fe.after=Ma,fe.ary=Oa,fe.assign=Hs,fe.assignIn=Us,fe.assignInWith=zs,fe.assignWith=$s,fe.at=Js,fe.before=Sa,fe.bind=Ba,fe.bindAll=_l,fe.bindKey=xa,fe.castArray=Ya,fe.chain=Wr,fe.chunk=wo,fe.compact=Co,fe.concat=Io,fe.cond=vl,fe.conforms=ml,fe.constant=bl,fe.countBy=zr,fe.create=Qs,fe.curry=ka,fe.curryRight=wa,fe.debounce=Ca,fe.defaults=Ks,fe.defaultsDeep=eu,fe.defer=Ia,fe.delay=Na,fe.difference=No,fe.differenceBy=To,fe.differenceWith=jo,fe.drop=Lo,fe.dropRight=Ao,fe.dropRightWhile=Eo,fe.dropWhile=Go,fe.fill=Wo,fe.filter=Jr,fe.flatMap=ea,fe.flatMapDeep=ta,fe.flatMapDepth=na,fe.flatten=Do,fe.flattenDeep=qo,fe.flattenDepth=Vo,fe.flip=Ta,fe.flow=Pl,fe.flowRight=Ml,fe.fromPairs=Zo,fe.functions=su,fe.functionsIn=uu,fe.groupBy=ra,fe.initial=Ho,fe.intersection=Uo,fe.intersectionBy=zo,fe.intersectionWith=$o,fe.invert=pu,fe.invertBy=cu,fe.invokeMap=sa,fe.iteratee=Sl,fe.keyBy=ua,fe.keys=gu,fe.keysIn=_u,fe.map=la,fe.mapKeys=vu,fe.mapValues=mu,fe.matches=Bl,fe.matchesProperty=xl,fe.memoize=ja,fe.merge=bu,fe.mergeWith=yu,fe.method=kl,fe.methodOf=wl,fe.mixin=Cl,fe.negate=La,fe.nthArg=Tl,fe.omit=Pu,fe.omitBy=Mu,fe.once=Aa,fe.orderBy=da,fe.over=jl,fe.overArgs=Ea,fe.overEvery=Ll,fe.overSome=Al,fe.partial=Ga,fe.partialRight=Wa,fe.partition=ha,fe.pick=Ou,fe.pickBy=Su,fe.property=El,fe.propertyOf=Gl,fe.pull=tr,fe.pullAll=nr,fe.pullAllBy=ir,fe.pullAllWith=or,fe.pullAt=rr,fe.range=Wl,fe.rangeRight=Rl,fe.rearg=Ra,fe.reject=fa,fe.remove=ar,fe.rest=Fa,fe.reverse=sr,fe.sampleSize=_a,fe.set=xu,fe.setWith=ku,fe.shuffle=va,fe.slice=ur,fe.sortBy=ya,fe.sortedUniq=gr,fe.sortedUniqBy=_r,fe.split=tl,fe.spread=Da,fe.tail=vr,fe.take=mr,fe.takeRight=br,fe.takeRightWhile=yr,fe.takeWhile=Pr,fe.tap=Rr,fe.throttle=qa,fe.thru=Fr,fe.toArray=Rs,fe.toPairs=wu,fe.toPairsIn=Cu,fe.toPath=Xl,fe.toPlainObject=Zs,fe.transform=Iu,fe.unary=Va,fe.union=Mr,fe.unionBy=Or,fe.unionWith=Sr,fe.uniq=Br,fe.uniqBy=xr,fe.uniqWith=kr,fe.unset=Nu,fe.unzip=wr,fe.unzipWith=Cr,fe.update=Tu,fe.updateWith=ju,fe.values=Lu,fe.valuesIn=Au,fe.without=Ir,fe.words=fl,fe.wrap=Za,fe.xor=Nr,fe.xorBy=Tr,fe.xorWith=jr,fe.zip=Lr,fe.zipObject=Ar,fe.zipObjectDeep=Er,fe.zipWith=Gr,fe.entries=wu,fe.entriesIn=Cu,fe.extend=Us,fe.extendWith=zs,Cl(fe,fe),fe.add=Ul,fe.attempt=gl,fe.camelCase=Ru,fe.capitalize=Fu,fe.ceil=zl,fe.clamp=Eu,fe.clone=Xa,fe.cloneDeep=Ua,fe.cloneDeepWith=za,fe.cloneWith=Ha,fe.conformsTo=$a,fe.deburr=Du,fe.defaultTo=yl,fe.divide=$l,fe.endsWith=qu,fe.eq=Ja,fe.escape=Vu,fe.escapeRegExp=Zu,fe.every=$r,fe.find=Qr,fe.findIndex=Ro,fe.findKey=tu,fe.findLast=Kr,fe.findLastIndex=Fo,fe.findLastKey=nu,fe.floor=Jl,fe.forEach=ia,fe.forEachRight=oa,fe.forIn=iu,fe.forInRight=ou,fe.forOwn=ru,fe.forOwnRight=au,fe.get=lu,fe.gt=Qa,fe.gte=Ka,fe.has=du,fe.hasIn=hu,fe.head=Yo,fe.identity=Ol,fe.includes=aa,fe.indexOf=Xo,fe.inRange=Gu,fe.invoke=fu,fe.isArguments=es,fe.isArray=ts,fe.isArrayBuffer=ns,fe.isArrayLike=is,fe.isArrayLikeObject=os,fe.isBoolean=rs,fe.isBuffer=as,fe.isDate=ss,fe.isElement=us,fe.isEmpty=ls,fe.isEqual=ds,fe.isEqualWith=hs,fe.isError=ps,fe.isFinite=cs,fe.isFunction=fs,fe.isInteger=gs,fe.isLength=_s,fe.isMap=bs,fe.isMatch=ys,fe.isMatchWith=Ps,fe.isNaN=Ms,fe.isNative=Os,fe.isNil=Bs,fe.isNull=Ss,fe.isNumber=xs,fe.isObject=vs,fe.isObjectLike=ms,fe.isPlainObject=ks,fe.isRegExp=ws,fe.isSafeInteger=Cs,fe.isSet=Is,fe.isString=Ns,fe.isSymbol=Ts,fe.isTypedArray=js,fe.isUndefined=Ls,fe.isWeakMap=As,fe.isWeakSet=Es,fe.join=Jo,fe.kebabCase=Yu,fe.last=Qo,fe.lastIndexOf=Ko,fe.lowerCase=Xu,fe.lowerFirst=Hu,fe.lt=Gs,fe.lte=Ws,fe.max=Ql,fe.maxBy=Kl,fe.mean=ed,fe.meanBy=td,fe.min=nd,fe.minBy=id,fe.stubArray=Fl,fe.stubFalse=Dl,fe.stubObject=ql,fe.stubString=Vl,fe.stubTrue=Zl,fe.multiply=od,fe.nth=er,fe.noConflict=Il,fe.noop=Nl,fe.now=Pa,fe.pad=Uu,fe.padEnd=zu,fe.padStart=$u,fe.parseInt=Ju,fe.random=Wu,fe.reduce=pa,fe.reduceRight=ca,fe.repeat=Qu,fe.replace=Ku,fe.result=Bu,fe.round=rd,fe.runInContext=e,fe.sample=ga,fe.size=ma,fe.snakeCase=el,fe.some=ba,fe.sortedIndex=lr,fe.sortedIndexBy=dr,fe.sortedIndexOf=hr,fe.sortedLastIndex=pr,fe.sortedLastIndexBy=cr,fe.sortedLastIndexOf=fr,fe.startCase=nl,fe.startsWith=il,fe.subtract=ad,fe.sum=ud,fe.sumBy=ld,fe.template=ol,fe.times=Yl,fe.toFinite=Fs,fe.toInteger=Ds,fe.toLength=qs,fe.toLower=rl,fe.toNumber=Vs,fe.toSafeInteger=Ys,fe.toString=Xs,fe.toUpper=al,fe.trim=sl,fe.trimEnd=ul,fe.trimStart=ll,fe.truncate=dl,fe.unescape=hl,fe.uniqueId=Hl,fe.upperCase=pl,fe.upperFirst=cl,fe.each=ia,fe.eachRight=oa,fe.first=Yo,Cl(fe,(sd={},Ot(fe,function(e,t){P.call(fe.prototype,t)||(sd[t]=e)}),sd),{chain:!1}),fe.VERSION=hd,Kh(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){fe[e].placeholder=fe}),Kh(["drop","take"],function(n,i){be.prototype[n]=function(e){e=e===dd?1:X(Ds(e),0);var t=this.__filtered__&&!i?new be(this):this.clone();return t.__filtered__?t.__takeCount__=H(e,t.__takeCount__):t.__views__.push({size:H(e,yd),type:n+(t.__dir__<0?"Right":"")}),t},be.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Kh(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ei(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),Kh(["head","last"],function(e,t){var n="take"+(t?"Right":"");be.prototype[e]=function(){return this[n](1).value()[0]}}),Kh(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[n](1)}}),be.prototype.compact=function(){return this.filter(Ol)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=cn(function(t,n){return"function"==typeof t?new be(this):this.map(function(e){return At(e,t,n)})}),be.prototype.reject=function(e){return this.filter(La(Ei(e)))},be.prototype.slice=function(e,t){e=Ds(e);var n=this;return n.__filtered__&&(0<e||t<0)?new be(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==dd&&(n=(t=Ds(t))<0?n.dropRight(-t):n.take(t-e)),n)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(yd)},Ot(be.prototype,function(h,e){var p=/^(?:filter|find|map|reject)|While$/.test(e),c=/^(?:head|last)$/.test(e),f=fe[c?"take"+("last"==e?"Right":""):e],g=c||/^find/.test(e);f&&(fe.prototype[e]=function(){var e=this.__wrapped__,n=c?[1]:arguments,t=e instanceof be,i=n[0],o=t||ts(e),r=function(e){var t=f.apply(fe,ap([e],n));return c&&a?t[0]:t};o&&p&&"function"==typeof i&&1!=i.length&&(t=o=!1);var a=this.__chain__,s=!!this.__actions__.length,u=g&&!a,l=t&&!s;if(g||!o)return u&&l?h.apply(this,n):(d=this.thru(r),u?c?d.value()[0]:d.value():d);e=l?e:new be(this);var d=h.apply(e,n);return d.__actions__.push({func:Fr,args:[r],thisArg:dd}),new me(d,a)})}),Kh(["pop","push","shift","sort","splice","unshift"],function(e){var n=a[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);fe.prototype[e]=function(){var t=arguments;if(!o||this.__chain__)return this[i](function(e){return n.apply(ts(e)?e:[],t)});var e=this.value();return n.apply(ts(e)?e:[],t)}}),Ot(be.prototype,function(e,t){var n=fe[t];if(n){var i=n.name+"";P.call(re,i)||(re[i]=[]),re[i].push({name:t,func:n})}}),re[hi(dd,2).name]=[{name:"wrapper",func:dd}],be.prototype.clone=ye,be.prototype.reverse=Pe,be.prototype.value=Me,fe.prototype.at=Dr,fe.prototype.chain=qr,fe.prototype.commit=Vr,fe.prototype.next=Zr,fe.prototype.plant=Xr,fe.prototype.reverse=Hr,fe.prototype.toJSON=fe.prototype.valueOf=fe.prototype.value=Ur,fe.prototype.first=fe.prototype.head,j&&(fe.prototype[j]=Yr),fe}();Vh._=Xp,(Ae=function(){return Xp}.call(Ee,Ge,Ee,Le))===dd||(Le.exports=Ae)}).call(this)}).call(this,Ge(32),Ge(33)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleDragQA=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,g=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["DragQA"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init(),g.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);var t=void 0,n=void 0,i=void 0;for(i=this._dragQAGroup.length,n=0;n<i;n++)t=this._dragQAGroup[n];for(i=this._dragContainerGroup.length,n=0;n<i;n++){t=this._dragContainerGroup[n];var o=this._parent.getInstanceMirror(t);t.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,g.default.supportPassive())}}},{key:"reset",value:function e(){this.isInited||this.init(),g.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);var t=void 0,n=void 0,i=void 0;for(i=this._dragQAGroup.length,n=0;n<i;n++){(t=this._dragQAGroup[n]).cursor="pointer";var o=this._parent.getInstanceMirror(t),r=this.pickLink(t.parent,o);g.default.notNull(r)&&(r.visible=!1)}for(i=this._dragContainerGroup.length,n=0;n<i;n++){t=this._dragContainerGroup[n];var a=this._parent.getInstanceMirror(t);g.default.notNull(a.target.orgX)&&(a.target.x=a.target.orgX),g.default.notNull(a.target.orgY)&&(a.target.y=a.target.orgY);var s=this.pickAnsBtnLink(t,a,"showhide");if(g.default.notNull(s)){var u=this._parent.getInstanceMirror(s),l=a.target[u.args[0]];g.default.notNull(l)&&(l.visible=!1)}t.removeEventListener("pressmove",triggerDragContainerPressmove,g.default.supportPassive())}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"DragQA":i=this.getCustomTag(t),this._dragQAGroup.push(t),this._dragQAGroupMirror[i]=this.pickRelation(t.parent,n.args[0]),this._dragContainerGroup.push(this.pickLink(t.parent,n))}}}},{key:"getCustomTag",value:function e(t){return g.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"pickLink",value:function e(t,n){var i=t[n.args[0]+"_"+n.args[1]];return i||null}},{key:"pickAnsBtnLink",value:function e(t,n,i){var o=void 0,r=n.subset.length;for(o=0;o<r;o++){var a=t[n.subset[o]],s;if(this._parent.getInstanceMirror(a).command===i)return a}return null}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0;for(this.triggerDragQAMousedownBind=this.triggerDragQAMousedownBind||this.triggerDragQAMousedown.bind(this),this.triggerSubAnsMousedownBind=this.triggerSubAnsMousedownBind||this.triggerSubAnsMousedown.bind(this),this.triggerDragContainerMousedownBind=this.triggerDragContainerMousedownBind||this.triggerDragContainerMousedown.bind(this),this.triggerDragContainerPressupBind=this.triggerDragContainerPressupBind||this.triggerDragContainerPressup.bind(this),this.triggerDragContainerPressmoveBind=this.triggerDragContainerPressmoveBind||this.triggerDragContainerPressmove.bind(this),r=this._dragQAGroup.length,o=0;o<r;o++)if(!(i=this._dragQAGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer";var a=this._parent.getInstanceMirror(i),s=this.pickLink(i.parent,a);g.default.notNull(s)&&(s.visible=!1),i.addEventListener(this._mouseTriggerBehavior,this.triggerDragQAMousedownBind)}for(r=this._dragContainerGroup.length,o=0;o<r;o++)if(!(i=this._dragContainerGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0;var u=this._parent.getInstanceMirror(i);u.target.orgX=u.target.x,u.target.orgY=u.target.y;var l=this.pickAnsBtnLink(i,u,"showhide");if(g.default.notNull(l)){l.cursor="pointer",l.addEventListener(this._mouseTriggerBehavior,this.triggerSubAnsMousedownBind);var d=this._parent.getInstanceMirror(l),h=u.target[d.args[0]];g.default.notNull(h)&&(h.visible=!1)}i.addEventListener("mousedown",this.triggerDragContainerMousedownBind),i.addEventListener("pressup",this.triggerDragContainerPressupBind)}}},{key:"triggerDragQAMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=this.getCustomTag(n),r=void 0,a=void 0,s=this._dragQAGroupMirror[o].length,u=!1;for(a=0;a<s;a++)if(this._dragQAGroupMirror[o][a].visible){r=this._dragQAGroupMirror[o][a],u=!0;break}for(a=0;a<s;a++){this._dragQAGroupMirror[o][a].visible=!1;var l=this._dragQAGroupMirror[o][a],d=this._parent.getInstanceMirror(l),h=this.pickAnsBtnLink(l,d,"showhide");if(g.default.notNull(h)){var p=this._parent.getInstanceMirror(h),c=d.target[p.args[0]];g.default.notNull(c)&&(c.visible=!1)}}var f=this.pickLink(n.parent,i);r===f?g.default.notNull(f)&&(f.visible=!u):g.default.notNull(f)&&(f.visible=!0),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSubAnsMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=i.parent[i.args[0]];g.default.notNull(o)&&(o.visible=!o.visible),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerMousedown",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.globalToLocal(t.stageX,t.stageY);n.fixX=n.x-i.x,n.fixY=n.y-i.y,n.startX=n.x+n.fixX,n.startY=n.y+n.fixY,n.addEventListener("pressmove",this.triggerDragContainerPressmoveBind,g.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerPressmove",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget;n.parent.setChildIndex(n,n.parent.getNumChildren()-1);var i=n.parent.globalToLocal(t.stageX,t.stageY);n.x=i.x+n.fixX,n.y=i.y+n.fixY,t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerPressup",value:function e(t){var n;this._parent.setPressEventIsOn(!1),t.currentTarget.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,g.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._dragQAGroup=[],this._dragContainerGroup=[],this._dragQAGroupMirror={},this._seq=999}t.ModuleDragQA=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleEnCnTranslate=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,d=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["EnCnTrans"],l=(i(h,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=this._encnTransGroup.length;for(n=0;n<i;n++)t=this._encnTransGroup[n],d.default.notNull(t.selfReset)&&t.selfReset(t)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"EnCnTrans":i=this.getCustomTag(t),this._encnTransGroup.push(t),this._enBtnGroup[i]=this.pickEnCnRelation(t,"showLangEnOn"),this._cnBtnGroup[i]=this.pickEnCnRelation(t,"showLangCnOn")}}}},{key:"getCustomTag",value:function e(t){return d.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickEnCnRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];if(s.command===n){"showLangEnOn"===n?t.enTag=s.args[0]:"showLangCnOn"===n&&(t.cnTag=s.args[0]);var l=this.pickRelation(t,s.args[0])||[];i=i.concat(l)}}return i}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0;this.selfResetBind=this.selfResetBind||this.selfReset.bind(this),this.triggerEnCnMousedownBind=this.triggerEnCnMousedownBind||this.triggerEnCnMousedown.bind(this),this.triggerEnCnSubMousedownBind=this.triggerEnCnSubMousedownBind||this.triggerEnCnSubMousedown.bind(this);var r=this._encnTransGroup.length;for(o=0;o<r;o++)if(!(i=this._encnTransGroup[o])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.selfReset=this.selfResetBind,i.btnCnOn=i["showLangCnOn_"+i.cnTag],i.btnCnOff=i["showLangCnOff_"+i.cnTag],i.btnEnOn=i["showLangEnOn_"+i.enTag],i.btnEnOff=i["showLangEnOff_"+i.enTag],i.btnAllOn=i.showLangAllOn,i.btnAllOff=i.showLangAllOff,i.isBtnPass=i.btnCnOn&&i.btnCnOff&&i.btnEnOn&&i.btnEnOff&&i.btnAllOn&&i.btnAllOff,d.default.notNull(i.btnEnOn)&&(i.btnEnOn.cursor="pointer",i.btnEnOn.visible=!0,i.btnEnOn.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnMousedownBind)),d.default.notNull(i.btnEnOff)&&(i.btnEnOff.cursor="pointer",i.btnEnOff.visible=!1,i.btnEnOff.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnMousedownBind)),d.default.notNull(i.btnCnOn)&&(i.btnCnOn.cursor="pointer",i.btnCnOn.visible=!1,i.btnCnOn.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnMousedownBind)),d.default.notNull(i.btnCnOff)&&(i.btnCnOff.cursor="pointer",i.btnCnOff.visible=!0,i.btnCnOff.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnMousedownBind)),d.default.notNull(i.btnAllOn)&&(i.btnAllOn.cursor="pointer",i.btnAllOn.visible=!1,i.btnAllOn.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnMousedownBind)),d.default.notNull(i.btnAllOff)&&(i.btnAllOff.cursor="pointer",i.btnAllOff.visible=!0,i.btnAllOff.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnMousedownBind));var a=void 0,s=void 0,u=this.getCustomTag(i);s=this._enBtnGroup[u].length;var l=void 0;for(a=0;a<s;a++)(l=this._enBtnGroup[u][a]).cursor="pointer",l.encnTag="en",l.bigTag=u,l.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnSubMousedownBind);for(s=this._cnBtnGroup[u].length,a=0;a<s;a++)(l=this._cnBtnGroup[u][a]).cursor="pointer",l.encnTag="cn",l.bigTag=u,l.addEventListener(this._mouseTriggerBehavior,this.triggerEnCnSubMousedownBind);this.updateTransStatus(i)}}},{key:"selfReset",value:function e(t){d.default.notNull(t.btnEnOn)&&(t.btnEnOn.visible=!0),d.default.notNull(t.btnEnOff)&&(t.btnEnOff.visible=!1),d.default.notNull(t.btnCnOn)&&(t.btnCnOn.visible=!1),d.default.notNull(t.btnCnOff)&&(t.btnCnOff.visible=!0),d.default.notNull(t.btnAllOn)&&(t.btnAllOn.visible=!1),d.default.notNull(t.btnAllOff)&&(t.btnAllOff.visible=!0),this.updateTransStatus(t)}},{key:"updateTransStatus",value:function e(t){var n=void 0,i=void 0,o=this.getCustomTag(t);for(i=this._enBtnGroup[o].length,n=0;n<i;n++)t.btnEnOn.visible?this._enBtnGroup[o][n].gotoAndStop(0):this._enBtnGroup[o][n].gotoAndStop(1);for(i=this._cnBtnGroup[o].length,n=0;n<i;n++)t.btnCnOn.visible?this._cnBtnGroup[o][n].gotoAndStop(0):this._cnBtnGroup[o][n].gotoAndStop(1)}},{key:"triggerEnCnMousedown",value:function e(t){var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=this.getCustomTag(n),r=n.parent;if(d.default.trace(r.isBtnPass),!r.isBtnPass)return t.stopPropagation(),void t.stopImmediatePropagation();switch(n){case r.btnEnOn:r.btnEnOn.visible=!1,r.btnEnOff.visible=!0,r.btnAllOff.visible=!0,r.btnAllOn.visible=!1,r.btnEnOff.gotoAndStop(0);break;case r.btnEnOff:r.btnEnOn.visible=!0,r.btnEnOff.visible=!1,r.btnCnOn.visible?(r.btnAllOn.visible=!0,r.btnAllOff.visible=!1):(r.btnAllOn.visible=!1,r.btnAllOff.visible=!0),r.btnEnOn.gotoAndStop(0);break;case r.btnCnOn:r.btnCnOn.visible=!1,r.btnCnOff.visible=!0,r.btnAllOff.visible=!0,r.btnAllOn.visible=!1,r.btnCnOff.gotoAndStop(0);break;case r.btnCnOff:r.btnCnOn.visible=!0,r.btnCnOff.visible=!1,r.btnEnOn.visible?(r.btnAllOn.visible=!0,r.btnAllOff.visible=!1):(r.btnAllOn.visible=!1,r.btnAllOff.visible=!0),r.btnCnOn.gotoAndStop(0);break;case r.btnAllOn:r.btnAllOn.visible=!1,r.btnAllOff.visible=!0,r.btnEnOn.visible=!1,r.btnEnOff.visible=!0,r.btnCnOn.visible=!1,r.btnCnOff.visible=!0,r.btnAllOff.gotoAndStop(0);break;case r.btnAllOff:r.btnAllOn.visible=!0,r.btnAllOff.visible=!1,r.btnEnOn.visible=!0,r.btnEnOff.visible=!1,r.btnCnOn.visible=!0,r.btnCnOff.visible=!1,r.btnAllOn.gotoAndStop(0)}this.updateTransStatus(r),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerEnCnSubMousedown",value:function e(t){var n=t.currentTarget,i=n.bigTag,o=n.parent;if(!o.isBtnPass)return t.stopPropagation(),void t.stopImmediatePropagation();0===n.currentFrame?n.gotoAndStop(1):n.gotoAndStop(0);var r=void 0,a=void 0,s=!1;if("cn"===n.encnTag){if(o.btnCnOn.visible){for(s=!1,a=this._cnBtnGroup[i].length,r=0;r<a;r++)if(0===this._cnBtnGroup[i][r].currentFrame){s=!0;break}}else if(o.btnCnOff.visible)for(s=!0,a=this._cnBtnGroup[i].length,r=0;r<a;r++)if(0!==this._cnBtnGroup[i][r].currentFrame){s=!1;break}s?(o.btnCnOn.visible=!0,o.btnCnOff.visible=!1,o.btnEnOn.visible&&(o.btnAllOn.visible=!0,o.btnAllOff.visible=!1)):(o.btnCnOn.visible=!1,o.btnCnOff.visible=!0,o.btnAllOn.visible&&(o.btnAllOn.visible=!1,o.btnAllOff.visible=!0))}else if("en"===n.encnTag){if(o.btnEnOn.visible){for(s=!1,a=this._enBtnGroup[i].length,r=0;r<a;r++)if(0===this._enBtnGroup[i][r].currentFrame){s=!0;break}}else if(o.btnEnOff.visible)for(s=!0,a=this._enBtnGroup[i].length,r=0;r<a;r++)if(0!==this._enBtnGroup[i][r].currentFrame){s=!1;break}s?(o.btnEnOn.visible=!0,o.btnEnOff.visible=!1,o.btnCnOn.visible&&(o.btnAllOn.visible=!0,o.btnAllOff.visible=!1)):(o.btnEnOn.visible=!1,o.btnEnOff.visible=!0,o.btnAllOn.visible&&(o.btnAllOn.visible=!1,o.btnAllOff.visible=!0))}t.stopPropagation(),t.stopImmediatePropagation()}}]),h);function h(e){s(this,h),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._encnTransGroup=[],this._enBtnGroup={},this._cnBtnGroup={},this._seq=999}t.ModuleEnCnTranslate=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleAnimateAnsRightWrong=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,h=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["AnimateAnsRight","AnimateAnsWrong"],l={AnimateAnsRight:"none",AnimateAnsWrong:"none"},d=!1,p=(i(c,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=void 0;t=this._ansRightGroup.length;for(var o=0;o<t;o++)0!==(n=this._ansRightGroup[o]).currentFrame&&n.gotoAndStop(n.totalFrames-1);t=this._ansWrongGroup.length;for(var r=0;r<t;r++)0!==(n=this._ansWrongGroup[r]).currentFrame&&n.gotoAndStop(0);h.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),h.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0,i=void 0;t=this._ansRightGroup.length;for(var o=0;o<t;o++)(n=this._ansRightGroup[o]).gotoAndStop(0);t=this._ansWrongGroup.length;for(var r=0;r<t;r++)(n=this._ansWrongGroup[r]).gotoAndStop(0);h.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),h.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"AnimateAnsRight":this._ansRightGroup.push(t);break;case"AnimateAnsWrong":this._ansWrongGroup.push(t)}}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this);var i=void 0;i=this._ansRightGroup.length;for(var o=void 0,r=0;r<i;r++)(o=this._ansRightGroup[r])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind),h.default.notNull(o.EffectBase)&&h.default.applyMultiply(o.EffectBase));i=this._ansWrongGroup.length;for(var a=0;a<i;a++)(o=this._ansWrongGroup[a])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind),h.default.notNull(o.EffectBase)&&h.default.applyMultiply(o.EffectBase))}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"triggerMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=void 0;if("AnimateAnsRight"===i.command){if(o=i.args[0],0!==n.currentFrame)return n.gotoAndStop(0),t.stopPropagation(),void t.stopImmediatePropagation()}else"AnimateAnsWrong"===i.command&&(o=i.args[0]);var r=n.nominalBounds,a={x:n.x+r.x*n.scale,y:n.y+r.y*n.scale},s=n.parent.localToGlobal(a.x,a.y),u=this._parent.exportRoot.globalToLocal(s.x,s.y),l=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:o,path:l,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:u.x,locY:u.y,excludeTags:null,command:i.command,target:n};var d=this.checkCommandMode(i.command);h.default.isIOS(!1)&&"none"===d?h.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):h.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(h.default.isNull(this._parent.soundObj)||h.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)h.default.notNull(n)&&n.stop();else switch(i){case"fileload":h.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this.stop(),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc);var o=this.checkCommandMode(this._parent.soundObj.command);"none"!==o&&this._parent.openSoundPlayBar(o,this._parent.soundObj)}}},{key:"triggerSoundWatch",value:function e(t){if(h.default.notNull(this._parent.soundChannel)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.lib.properties.fps,r=Math.round(n/1e3*o),a=this._parent.soundObj.target;r>a.totalFrames-1&&(r=a.totalFrames-1),h.default.notNull(a)&&a.gotoAndStop(r)}}},{key:"triggerSoundComplete",value:function e(t){var n=this._parent.soundObj.target,i=this._parent.getInstanceMirror(n);"right"===this._parent.soundObj.id?n.gotoAndStop(n.totalFrames-1):"wrong"===this._parent.soundObj.id&&n.gotoAndStop(0),this.stop();var o=this.checkCommandMode(this._parent.soundObj.command);"mini-close"===o||"normal-close"===o||"ex-normal-close"===o||"none"===o?(this._parent.closeSoundPlayBar(),this._parent.clearSoundChannel()):(this._parent.stopSoundPlayBar(),this._parent.soundObj.autoPlay=!1,h.default.isIOS(!1)&&"none"===o?h.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):h.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback))}}]),c);function c(e){s(this,c),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._ansRightGroup=[],this._ansWrongGroup=[],this._prevTime=-1,this._seq=999}t.ModuleAnimateAnsRightWrong=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleSpotlight=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,_=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["Spotlight"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init(),_.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1)}},{key:"reset",value:function e(){this.isInited||this.init(),_.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1),_.default.notNull(this._lockSpotlight)&&(this._lockSpotlight._rectSpot.x=this._lockSpotlight._rectSpot.orgX,this._lockSpotlight._rectSpot.y=this._lockSpotlight._rectSpot.orgY,this._lockSpotlight._maskRef.updateCache(),this._lockSpotlight.updateCache(),this._lockSpotlight._useStageMouseMove?this._parent.stage.removeEventListener("stagemousemove",this.triggerSpotlightPressmoveBind):(this._lockSpotlight.removeEventListener("mousedown",this.triggerSpotlightPressmoveBind),this._lockSpotlight.removeEventListener("pressmove",this.triggerSpotlightPressmoveBind,_.default.supportPassive()),this._lockSpotlight.removeEventListener("pressup",this.triggerSpotlightPressupBind)),this._lockSpotlight._useAnimateMC&&this._lockSpotlight.removeEventListener("tick",this.triggerSpotlightUpdateBind),this._lockSpotlight.visible=this._lockSpotlight._maskLayer.visible=!1),this._lockSpotlight=null}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"Spotlight":i=this.getCustomTag(t),this._spotlightGroup.push(t),this._spotlightMirror[i]=this.pickRelation(t,n.args[0])}}}},{key:"getCustomTag",value:function e(t){return _.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=void 0,o=this._parent.getInstanceMirror(t.parent),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&(i=u)}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0;this.triggerSpotlightMousedownBind=this.triggerSpotlightMousedownBind||this.triggerSpotlightMousedown.bind(this),this.triggerSpotlightPressmoveBind=this.triggerSpotlightPressmoveBind||this.triggerSpotlightPressmove.bind(this),this.triggerSpotlightPressupBind=this.triggerSpotlightPressupBind||this.triggerSpotlightPressup.bind(this),this.triggerSpotlightUpdateBind=this.triggerSpotlightUpdateBind||this.triggerSpotlightUpdate.bind(this);for(var o=this._spotlightGroup.length,r=0;r<o;r++)if(!(i=this._spotlightGroup[r])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.cursor="pointer",_.default.notNull(i.EffectBase)&&_.default.applyMultiply(i.EffectBase),i.addEventListener(this._mouseTriggerBehavior,this.triggerSpotlightMousedownBind);var a=this.getCustomTag(i),s=this._spotlightMirror[a];s.visible=!1;var u=s.parent,l=this._parent.lib.properties.width,d=this._parent.lib.properties.height;s.Spot.orgX=s.Spot.x,s.Spot.orgY=s.Spot.y;var h=new this._parent.createjs.Shape;h.graphics.beginFill(s._maskColor).drawRect(0,0,l,d),h.visible=!1,s._maskLayer=h,u.addChildAt(h,u.getChildIndex(s)),h.cache(0,0,l,d);var p=new this._parent.createjs.Shape;p.graphics.beginFill(s._bgColor).drawRect(0,0,l,d),s._baseLayer=p,s.addChildAt(p,0);var c=new this._parent.createjs.Container,f=new this._parent.createjs.Shape;f.graphics.beginFill("DeepSkyBlue").drawRect(0,0,l,d);var g=s.Spot;g.compositeOperation="destination-in",c.addChild(f),c.addChild(g),c.cache(0,0,l,d),s._maskRef=c,s._rectBase=f,s._rectSpot=g,s.filters=[new this._parent.createjs.AlphaMaskFilter(c.cacheCanvas)],s.cache(0,0,l,d)}}},{key:"triggerSpotlightMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=this.getCustomTag(n);this._lockSpotlight=this._spotlightMirror[o],this._lockSpotlight._rectSpot.x=this._lockSpotlight._rectSpot.orgX,this._lockSpotlight._rectSpot.y=this._lockSpotlight._rectSpot.orgY,this._lockSpotlight._maskRef.updateCache(),this._lockSpotlight.updateCache(),this._lockSpotlight.visible?(this._parent.setPressEventIsOn(!1),this._lockSpotlight._useStageMouseMove?this._parent.stage.removeEventListener("stagemousemove",this.triggerSpotlightPressmoveBind):(this._lockSpotlight.removeEventListener("mousedown",this.triggerSpotlightPressmoveBind),this._lockSpotlight.removeEventListener("pressmove",this.triggerSpotlightPressmoveBind,_.default.supportPassive()),this._lockSpotlight.removeEventListener("pressup",this.triggerSpotlightPressupBind)),this._lockSpotlight._useAnimateMC&&this._lockSpotlight.removeEventListener("tick",this.triggerSpotlightUpdateBind)):(this._parent.setPressEventIsOn(!0),this._lockSpotlight._useStageMouseMove?this._parent.stage.addEventListener("stagemousemove",this.triggerSpotlightPressmoveBind):(this._lockSpotlight.addEventListener("mousedown",this.triggerSpotlightPressmoveBind),this._lockSpotlight.addEventListener("pressmove",this.triggerSpotlightPressmoveBind,_.default.supportPassive()),this._lockSpotlight.addEventListener("pressup",this.triggerSpotlightPressupBind)),this._lockSpotlight._useAnimateMC&&this._lockSpotlight.addEventListener("tick",this.triggerSpotlightUpdateBind)),this._lockSpotlight.visible=this._lockSpotlight._maskLayer.visible=!this._lockSpotlight.visible,this._lockSpotlight.visible||(this._lockSpotlight=null),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSpotlightPressmove",value:function e(t){this._parent.setPressEventIsOn(!0);var n=this._lockSpotlight.globalToLocal(t.stageX,t.stageY);this._lockSpotlight._rectSpot.x=n.x,this._lockSpotlight._rectSpot.y=n.y,this._lockSpotlight._maskRef.updateCache(),this._lockSpotlight._useAnimateMC||this._lockSpotlight.updateCache(),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSpotlightPressup",value:function e(t){this._parent.setPressEventIsOn(!1),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerSpotlightUpdate",value:function e(t){this._lockSpotlight.updateCache(),t.stopPropagation(),t.stopImmediatePropagation()}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._spotlightGroup=[],this._spotlightMirror={},this._lockSpotlight,this._seq=999}t.ModuleSpotlight=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleLetterStroke=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,v=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["LetterStrokeBar"],l={LetterStrokeBar:"none"},d=!1,h=!0,p=.5,c=.7,f=1,g=1.4,_=(i(m,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModulesByModule(),this.setupByModule(t))}},{key:"stop",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;if(this.isInited||this.init(),n)return v.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),void(v.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc));v.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),v.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc),v.default.notNull(this._parent.videoChannel)&&(this._parent.videoChannel.paused||(this._parent.videoChannel.position=0,this._parent.videoChannel.paused=!0,this._parent.pageParam[4].status="idle"));for(var i=void 0,o=void 0,r=this._letterStrokeBarGroup.length,a=0;a<r;a++)i=this._letterStrokeBarGroup[a],this.refreshButton(i)}},{key:"reset",value:function e(){this.isInited||this.init(),this.stop(),v.default.notNull(this._parent.videoChannel)&&(v.default.notNull(this._parent.videoChannel.videoBitmap)&&(v.default.notNull(this._parent.videoChannel.videoBitmap.parent)&&this._parent.videoChannel.videoBitmap.parent.removeChild(this._parent.videoChannel.videoBitmap),this._parent.videoChannel.videoBitmap=null,this._parent.videoChannel.videoBuffer=null),this._parent.videoChannel.removeEventListener("complete",this._parent.videoObj.completeFunc)),v.default.notNull(this._parent.videoObj)&&(v.default.notNull(this._parent.videoObj.videoBase)&&(this._parent.videoObj.videoBase.visible=!1,this._parent.videoObj.videoBase._abortZeroFrame&&(this._parent.videoObj.videoBase.visible=!1),this._parent.videoObj.videoBase.bitmapCache&&(this._parent.videoObj.videoBase.uncache(),this._parent.stage.update())),this._parent.createjs.Ticker.removeEventListener("tick",this._parent.videoObj.watchFunc));for(var t=void 0,n=void 0,i=!this._parent.stage.contains(this._parent.exportRoot),o=this._letterStrokeBarGroup.length,r=0;r<o;r++)t=this._letterStrokeBarGroup[r],v.default.notNull(t.defaultPickTarget)&&this.setupVideoParms(t,t.defaultPickTarget,"letterStrokeOrderSrc","playNormal","idle");var a=this;this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),i||(this._timeout=setTimeout(function(){a._parent.stage.contains(a._parent.exportRoot)||a.stop()},100))}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"initModulesByModule",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTargetByModule(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTargetByModule(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(t._pageUI=!0,this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"LetterStrokeBar":this._letterStrokeBarGroup.push(t),t.firstClick=!0,i=this.getCustomTag(t),this._letterStrokeBarExtendGroupMirror[i]=this.pickRelation(t.parent,"extendProps"),this._letterStrokeBarExtendGroupMirror[i]=this._letterStrokeBarExtendGroupMirror[i].sort(function(e,t){return e.letterIndexSeq>t.letterIndexSeq?1:-1}),this._letterStrokeBarMarqueeGroupMirror[i]=this.pickRelation(t.parent,"letterMarquee"),this._letterStrokeBarMarqueeGroupMirror[i]=this._letterStrokeBarMarqueeGroupMirror[i].sort(function(e,t){return e.letterIndexSeq>t.letterIndexSeq?1:-1})}}}},{key:"pickTargetByModule",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command))switch(n.command){case"LetterStrokeBar":i=this.getCustomTag(t),this._letterStrokeBarExtendGroupMirror[i]=this.pickRelation(t.parent,"extendProps"),this._letterStrokeBarExtendGroupMirror[i]=this._letterStrokeBarExtendGroupMirror[i].sort(function(e,t){return e.letterIndexSeq>t.letterIndexSeq?1:-1}),this._letterStrokeBarMarqueeGroupMirror[i]=this.pickRelation(t.parent,"letterMarquee"),this._letterStrokeBarMarqueeGroupMirror[i]=this._letterStrokeBarMarqueeGroupMirror[i].sort(function(e,t){return e.letterIndexSeq>t.letterIndexSeq?1:-1})}}},{key:"getCustomTag",value:function e(t){return v.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&(u.letterIndexSeq=Number(s.args[0])-1,i.push(u))}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerVideoWatchBind=this.triggerVideoWatchBind||this.triggerVideoWatch.bind(this),this.triggerVideoCompleteBind=this.triggerVideoCompleteBind||this.triggerVideoComplete.bind(this),this.checkVideoPlayStatusBind=this.checkVideoPlayStatusBind||this.checkVideoPlayStatus.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this),this.triggerNavigatorClickActionBind=this.triggerNavigatorClickActionBind||this.callBackNavigatorClickAction.bind(this),this.triggerNavigatorClearActionBind=this.triggerNavigatorClearActionBind||this.callBackNavigatorClearAction.bind(this),this.triggerNavigatorCompleteActionBind=this.triggerNavigatorCompleteActionBind||this.callBackNavigatorCompleteAction.bind(this),this.triggerVideoFunctionMousedownBind=this.triggerVideoFunctionMousedownBind||this.triggerVideoFunctionMousedown.bind(this);for(var i=void 0,o=void 0,r=this._letterStrokeBarGroup.length,a=0;a<r;a++)if(!(i=this._letterStrokeBarGroup[a])._isModuleInited){i._replacePath=n,i._isModuleInited=!0,i.videoPaneRef=i.parent.videoPane,i.extendPropsRef=i.parent.extendProps;for(var s=this._parent.getInstanceMirror(i.parent),u=s.subset.length,l=0;l<u;l++)if(-1!==s.subset[l].indexOf("WordsNav")){i.lettersNavControl=i.wordsNavControl=i.parent[s.subset[l]],(i.parent[s.subset[l]].lettersModuleControl=i).lettersNavControl.callSpecClickFunc=this.triggerNavigatorClickActionBind,i.lettersNavControl.callSpecClearFunc=this.triggerNavigatorClearActionBind,i.lettersNavControl.callSpecCompleteFunc=this.triggerNavigatorCompleteActionBind;break}o=this.getCustomTag(i);for(var d=this._letterStrokeBarMarqueeGroupMirror[o].length,h=0;h<d;h++){var p=this._letterStrokeBarMarqueeGroupMirror[o][h];p._isModuleInited||(p._replacePath=n,p._isModuleInited=!0)}(((((((i.playSlow.letterStrokeBar=i).playNormal.letterStrokeBar=i).playFast.letterStrokeBar=i).extendPropsRef.playUppercase.letterStrokeBar=i).extendPropsRef.playLowercase.letterStrokeBar=i).extendPropsRef.playLetterName.letterStrokeBar=i).extendPropsRef.playLetterPronounce.letterStrokeBar=i).playSlow.gotoAndStop(0),i.playSlow.cursor="pointer",i.playSlow.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.playSlow.EffectBase)&&v.default.applyMultiply(i.playSlow.EffectBase),i.playNormal.gotoAndStop(0),i.playNormal.cursor="pointer",i.playNormal.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.playNormal.EffectBase)&&v.default.applyMultiply(i.playNormal.EffectBase),i.playFast.gotoAndStop(0),i.playFast.cursor="pointer",i.playFast.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.playFast.EffectBase)&&v.default.applyMultiply(i.playFast.EffectBase),i.extendPropsRef.playUppercase.gotoAndStop(0),i.extendPropsRef.playUppercase.cursor="pointer",i.extendPropsRef.playUppercase.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.extendPropsRef.playUppercase.EffectBase)&&v.default.applyMultiply(i.extendPropsRef.playUppercase.EffectBase),i.extendPropsRef.playLowercase.gotoAndStop(0),i.extendPropsRef.playLowercase.cursor="pointer",i.extendPropsRef.playLowercase.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.extendPropsRef.playLowercase.EffectBase)&&v.default.applyMultiply(i.extendPropsRef.playLowercase.EffectBase),i.extendPropsRef.playLetterName.gotoAndStop(0),i.extendPropsRef.playLetterName.cursor="pointer",i.extendPropsRef.playLetterName.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.extendPropsRef.playLetterName.EffectBase)&&v.default.applyMultiply(i.extendPropsRef.playLetterName.EffectBase),i.extendPropsRef.playLetterPronounce.gotoAndStop(0),i.extendPropsRef.playLetterPronounce.cursor="pointer",i.extendPropsRef.playLetterPronounce.addEventListener(this._mouseTriggerBehavior,this.triggerVideoFunctionMousedownBind),v.default.notNull(i.extendPropsRef.playLetterPronounce.EffectBase)&&v.default.applyMultiply(i.extendPropsRef.playLetterPronounce.EffectBase)}}},{key:"setupByModule",value:function e(t){for(var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=this._letterStrokeBarGroup.length,a=0;a<r;a++){i=this._letterStrokeBarGroup[a],o=this.getCustomTag(i);for(var s=this._letterStrokeBarMarqueeGroupMirror[o].length,u=0;u<s;u++){var l=this._letterStrokeBarMarqueeGroupMirror[o][u];l._isModuleInited||(l._replacePath=n,l._isModuleInited=!0)}}}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"triggerVideoFunctionMousedown",value:function e(t){var n=t.currentTarget,i=n.letterStrokeBar,o=void 0,r=void 0,a=i.playSlow,s=i.playNormal,u=i.playFast,l=i.extendPropsRef.playUppercase,d=i.extendPropsRef.playLowercase,h=i.extendPropsRef.playLetterName,p=i.extendPropsRef.playLetterPronounce,c=void 0;switch(this._parent.pageParam[4].lastTouch){case"playSlow":c=a;break;case"playNormal":c=s;break;case"playFast":c=u;break;case"playUppercase":c=l;break;case"playLowercase":c=d;break;case"playLetterName":c=h;break;case"playLetterPronounce":c=p}switch(n.name){case"playSlow":case"playNormal":case"playFast":o="letterStrokeOrderSrc";break;case"playUppercase":o="letterUppercaseSrc";break;case"playLowercase":o="letterLowercaseSrc";break;case"playLetterName":o="letterNameSrc";break;case"playLetterPronounce":o="letterPronounceSrc"}var f=n.name;0===n.currentFrame||3===n.currentFrame?r="play":1===n.currentFrame?r="pause":2===n.currentFrame&&(r="play"),this.setupVideoParms(i,i.currentLetterMarquee,o,f,r),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"callBackNavigatorClickAction",value:function e(t){var n,i=t.self.lettersModuleControl;v.default.isNull(i._callAction)&&(i._callAction="click")}},{key:"callBackNavigatorClearAction",value:function e(t){var n,i=t.self.lettersModuleControl;v.default.isNull(i._callAction)&&(i._callAction="clear")}},{key:"callBackNavigatorCompleteAction",value:function e(t){var n,i=t.self.lettersModuleControl,o=t.pickTarget,r=this._parent.getInstanceMirror(o),a=i.parent[r.args[0]+"_"+r.args[1]];this.setupVideoParms(i,a,"letterStrokeOrderSrc","playNormal","idle"),v.default.isNull(i.defaultPickTarget)&&(i.defaultPickTarget=a),i.firstClick&&v.default.notNull(this._parent.pageParam[5])&&!0===this._parent.pageParam[5]||this.playLetterSound(i,a),i._callAction=null,this._parent.pageParam[5]=!0,i.firstClick=!1}},{key:"setupVideoParms",value:function e(t,n,i,o,r){t.currentLetterMarquee=n,this._parent.pageParam[3]=n.name;var a="";v.default.notNull(this._parent.pageParam)&&v.default.notNull(this._parent.pageParam[4])&&v.default.notNull(this._parent.pageParam[4].lastTouch)&&(a=this._parent.pageParam[4].lastTouch),this._parent.pageParam[4]={srcType:i,lastTouch:o,status:r};var s=!(a===this._parent.pageParam[4].lastTouch);"idle"===r?this.refreshShowLetter(t,n,!0,s):this.refreshShowLetter(t,n,!1,s),this.refreshButton(t)}},{key:"refreshButton",value:function e(t){t.playSlow.gotoAndStop(0),t.playNormal.gotoAndStop(0),t.playFast.gotoAndStop(0),t.extendPropsRef.playUppercase.gotoAndStop(0),t.extendPropsRef.playLowercase.gotoAndStop(0),t.extendPropsRef.playLetterName.gotoAndStop(0),t.extendPropsRef.playLetterPronounce.gotoAndStop(0);var n=t.playSlow,i=t.playNormal,o=t.playFast,r=t.extendPropsRef.playUppercase,a=t.extendPropsRef.playLowercase,s=t.extendPropsRef.playLetterName,u=t.extendPropsRef.playLetterPronounce,l=void 0;switch(this._parent.pageParam[4].lastTouch){case"playSlow":l=n;break;case"playNormal":l=i;break;case"playFast":l=o;break;case"playUppercase":l=r;break;case"playLowercase":l=a;break;case"playLetterName":l=s;break;case"playLetterPronounce":l=u}switch(this._parent.pageParam[4].status){case"idle":l.gotoAndStop(3);break;case"play":l.gotoAndStop(1);break;case"pause":l.gotoAndStop(2);break;case"stop":l.gotoAndStop(0)}}},{key:"refreshShowLetter",value:function e(t,n,i,o){var r=!(2<arguments.length&&void 0!==i)||i,a=!(3<arguments.length&&void 0!==o)||o;if(t.currentLetterMarquee=n,v.default.notNull(this._parent.videoObj)&&v.default.notNull(this._parent.videoChannel)){var s=this._parent.pageParam[4].srcType,u=this._parent.pageParam[4].status;if(this._parent.videoObj.id===n[s]){switch(this._parent.pageParam[4].lastTouch){case"playSlow":this._parent.videoChannel.playbackRate=.7;break;case"playNormal":this._parent.videoChannel.playbackRate=1;break;case"playFast":this._parent.videoChannel.playbackRate=1.4;break;default:this._parent.videoChannel.playbackRate=1}if(r)this._parent.stop(["VideoChannel"],!0),this._parent.videoChannel.position=0,this._parent.videoChannel.paused=!0;else switch(a&&(this._parent.videoChannel.paused=!0,this._parent.videoChannel.position=0),this._parent.videoChannel.video.muted=!1,u){case"play":this._parent.videoChannel.paused=!1;break;case"pause":this._parent.videoChannel.paused=!0;break;case"resume":this._parent.videoChannel.paused=!1}return}}this._parent.stop(null,!0);var l=this._parent.pageParam[4].srcType;null!==this._parent.assetVideoPath&&""!==this._parent.assetVideoPath||(this._parent.assetVideoPath=this._parent.assetSoundPath),null!==this._parent.pageVideoPath&&""!==this._parent.pageVideoPath||(this._parent.pageVideoPath=this._parent.pageSoundPath);var d=this._parent.getInstanceMirror(n),h=n.nominalBounds,p={x:n.x+h.x*n.scale,y:n.y+h.y*n.scale},c=n.parent.localToGlobal(p.x,p.y),f=this._parent.exportRoot.globalToLocal(c.x,c.y),g=this._parent.assetVideoPath?this._parent.assetVideoPath:this._parent.pageVideoPath?this._parent.pageVideoPath+n._replacePath+"videos/":n._replacePath+"./videos/",_=navigator.platform.match(/iPhone|iPod|iPad|Mac/)?15:0;this._parent.videoObj={id:n[l],path:g,loop:0,offset:_,volume:this._parent.volume,callback:this.checkVideoPlayStatusBind,watchFunc:this.triggerVideoWatchBind,completeFunc:this.triggerVideoCompleteBind,autoPlay:!0,locX:f.x,locY:f.y,excludeTags:null,command:d.command,target:n,videoBase:t.videoPaneRef,letterStrokeBase:t,idle:r},v.default.playWebVideo(this._parent.createjs,this._parent.videoObj.path,this._parent.videoObj.id,this._parent.videoObj.loop,this._parent.videoObj.offset,this._parent.videoObj.volume,this._parent.videoObj.callback)}},{key:"checkVideoPlayStatus",value:function e(t,n,i){if(v.default.isNull(this._parent.videoObj)||v.default.notNull(this._parent.videoObj)&&this._parent.videoObj.id!==t)v.default.notNull(n)&&n.stop();else switch(i){case"fileload":break;case"fileerror":this.stop(),this._parent.videoObj=null;break;case"playSuccess":switch(this._prevTime=-1,this._parent.videoChannel=n,this._parent.videoChannel.video.muted=!0,this._parent.videoChannel.paused=!this._parent.videoObj.autoPlay,this._parent.pageParam[4].lastTouch){case"playSlow":this._parent.videoChannel.playbackRate=.7;break;case"playNormal":this._parent.videoChannel.playbackRate=1;break;case"playFast":this._parent.videoChannel.playbackRate=1.4;break;default:this._parent.videoChannel.playbackRate=1}this._parent.createjs.Ticker.addEventListener("tick",this._parent.videoObj.watchFunc),this._parent.videoChannel.addEventListener("complete",this._parent.videoObj.completeFunc)}}},{key:"triggerVideoWatch",value:function e(t){if(v.default.notNull(this._parent.videoChannel)&&v.default.notNull(this._parent.videoObj))if(v.default.isNull(this._parent.videoChannel.videoBitmap))if(this._parent.stage.isWebGL){var n=function e(){o._video.currentTime!==u||o._video.currentTime===u&&3===l?(o._video.currentTime!==u?l=0:l<Number.MAX_VALUE&&l++,u=o._video.currentTime,r.image._invalid=!0,r.parent&&(!i._parent.videoObj.videoBase.visible&&0<=o._video.currentTime&&(i._parent.videoObj.videoBase.visible=!0,o._video.muted=!1),r.parent.bitmapCache&&r.parent.updateCache())):l<Number.MAX_VALUE&&l++,r.parent&&(i._parent.videoObj.idle?(i._parent.videoObj.idle=!1,i._parent.videoChannel.position=0,i._parent.videoChannel.paused=!0):i._parent.videoChannel.video.muted=!1,requestAnimationFrame(e))};this._parent.videoChannel.videoBuffer=new this._parent.createjs.VideoBuffer(this._parent.videoChannel.video),this._parent.videoChannel.videoBitmap=new this._parent.createjs.Bitmap(this._parent.videoChannel.videoBuffer),v.default.isNull(this._parent.videoChannel.videoBitmap.parent)&&v.default.notNull(this._parent.videoObj.videoBase)&&this._parent.videoObj.videoBase.addChild(this._parent.videoChannel.videoBitmap);var i=this,o=this._parent.videoChannel.videoBuffer,r=this._parent.videoChannel.videoBitmap,a=this._parent.videoObj.offset,s=this._parent.videoChannel,u=-1,l=0;requestAnimationFrame(n)}else this._parent.videoChannel.videoBuffer=new this._parent.createjs.VideoBuffer(this._parent.videoChannel.video),this._parent.videoChannel.videoBitmap=new this._parent.createjs.Bitmap(this._parent.videoChannel.videoBuffer),v.default.isNull(this._parent.videoChannel.videoBitmap.parent)&&(v.default.notNull(this._parent.videoObj.videoBase)&&(this._parent.videoObj.videoBase.addChild(this._parent.videoChannel.videoBitmap),this._parent.videoChannel.video.muted=!1),this._parent.videoObj.videoBase.visible=!0);else!this._parent.stage.isWebGL&&this._parent.videoChannel&&this._parent.videoChannel.videoBuffer&&this._parent.videoObj.idle&&(this._parent.videoObj.idle=!1,this._parent.videoChannel.position=0,this._parent.videoChannel.paused=!0),!this._parent.stage.isWebGL&&this._parent.videoChannel.paused&&this._parent.videoChannel.position===this._parent.videoObj.offset&&v.default.notNull(this._parent.videoChannel.videoBuffer)&&(this._parent.videoChannel.videoBuffer._lastTime=-1,this._parent.videoObj.idle?(this._parent.videoObj.idle=!1,this._parent.videoChannel.position=0,this._parent.videoChannel.paused=!0):this._parent.videoChannel.video.muted=!1)}},{key:"triggerVideoComplete",value:function e(t){var n=this._parent.videoObj.videoBase;this._parent.pageParam[4].status="idle",this.refreshButton(this._parent.videoObj.letterStrokeBase)}},{key:"playLetterSound",value:function e(t,n,i,o){var r=2<arguments.length&&void 0!==i&&i,a=!(3<arguments.length&&void 0!==o)||o,s=this._parent.getInstanceMirror(n),u=n._replacePath,l=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+u+"sounds/":u+"./sounds/";this._parent.soundObj={id:n.letterSoundSrc,path:l,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:0,locY:0,excludeTags:null,command:s.command,target:n,isContinue:r,letterStrokeBase:t},this._parent.iosMode?v.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):v.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback)}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(v.default.isNull(this._parent.soundObj)||v.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)v.default.notNull(n)&&n.stop();else switch(i){case"fileload":v.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this.stop(),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc)}}},{key:"triggerSoundWatch",value:function e(t){}},{key:"triggerSoundComplete",value:function e(t){var n=!!this._parent.soundObj.isContinue&&this._parent.soundObj.isContinue,i=this._parent.soundObj.letterStrokeBase;this.stop(!0),this._parent.clearSoundChannel()}}]),m);function m(e){s(this,m),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._letterStrokeBarGroup=[],this._letterStrokeBarMarqueeGroupMirror={},this._letterStrokeBarExtendGroupMirror={},this._actMVGroup=[],this._actVideoGroup=[],this._abortActMVGroup=[],this._onceActVideoGroup=[],this._prevTime=-1,this._seq=999,this._timeout}t.ModuleLetterStroke=_},function(e,t,n){"use strict";var i=n(40).ChBookPage,o=n(29).EnBookPage,r=n(42).MathBookPage,a=n(47).GeoBookPage,s=n(48).LifeBookPage,u=n(49).NatureBookPage,l=n(50).HistoryBookPage,d=n(51).NationalBookPage,h=n(52).PhysicsBookPage,p=n(53).ArtBookPage,c=n(54).HealthBookPage,f=n(55).IntegrativeBookPage,g=n(56).SocialBookPage;e.exports={ChBookPage:i,EnBookPage:o,GeoBookPage:a,LifeBookPage:s,MathBookPage:r,NatureBookPage:u,HistoryBookPage:l,NationalBookPage:d,PhysicsBookPage:h,ArtBookPage:p,HealthBookPage:c,IntegrativeBookPage:f,SocialBookPage:g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(3).BasePage,c=n(4).ModuleGoOutCommand,f=n(5).ModuleBookSound,g=n(6).ModuleAnsZone,_=n(7).ModulePlaySwitchSound,v=n(8).ModuleListPop,m=n(9).ModuleSwitchPop,b=n(10).ModuleStopTouch,y=n(11).ModuleDragListPop,P=n(12).ModulePageActSoundMV,M=n(13).ModulePager,O=n(14).ModuleWordsNavigator,S=n(15).ModuleOnAndOff,B=n(16).ModuleCalculator,x=n(17).ModulePureAnimate,k=n(18).ModuleZoom,w=n(41).ModuleWordStroke,C=(h(N,I=p),i(N,[{key:"init",value:function e(){r(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam)),window.callDelayPageInitComplete&&window.callDelayPageInitComplete()}},{key:"getGoOutCommandItemList",value:function e(){return this.isInited||this.init(),this._moduleGoOutCommand?this._moduleGoOutCommand.getPickListName():null}},{key:"interrupt",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.stop(i,o,!0)}},{key:"stop",value:function e(t,n,i){var o=0<arguments.length&&void 0!==t?t:null,r=1<arguments.length&&void 0!==n&&n,a=2<arguments.length&&void 0!==i&&i;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(o=this.soundObj.excludeTags),s.default.isNull(o)&&(o=[]),-1===o.indexOf("VideoChannel")&&(s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(o=o.concat(this.videoObj.excludeTags)),s.default.notNull(this.videoChannel)&&!a&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&!a&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.stop(),this._moduleWordStroke&&-1===o.indexOf("ModuleWordStroke")&&-1===this._resetExclude.indexOf("ModuleWordStroke")&&this._moduleWordStroke.stop(),this._moduleGoOutCommand&&-1===o.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.stop(),this._moduleBookSound&&-1===o.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.stop(),this._modulePlaySwitchSound&&-1===o.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.stop(),this._moduleListPop&&-1===o.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.stop(),this._moduleSwitchPop&&-1===o.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.stop(),this._moduleStopTouch&&-1===o.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.stop(),this._moduleDragListPop&&-1===o.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.stop(),this._modulePageActSoundMV&&-1===o.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.stop(),this._modulePager&&-1===o.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.stop(),this._moduleWordsNavigator&&-1===o.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.stop(),this._moduleOnAndOff&&-1===o.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.stop(),this._moduleCalculator&&-1===o.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.stop(),this._modulePureAnimate&&-1===o.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.stop(),this._moduleAnsZone&&-1===o.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.stop(),this._moduleZoom&&-1===o.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.stop(),this.soundObj=null,this.soundChannel=null,-1===o.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),r&&this.sendCommand("Stop","Stop")}},{key:"reset",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(i=this.soundObj.excludeTags),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.reset(),this._moduleWordStroke&&-1===i.indexOf("ModuleWordStroke")&&-1===this._resetExclude.indexOf("ModuleWordStroke")&&this._moduleWordStroke.reset(),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleBookSound&&-1===i.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.reset(),this._modulePlaySwitchSound&&-1===i.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePageActSoundMV&&-1===i.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),this.soundObj=null,this.soundChannel=null,-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),o&&this.sendCommand("Reset","Reset")}},{key:"resetAbortSound",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),o&&this.sendCommand("ResetAbortSound","ResetAbortSound")}},{key:"clearSoundChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundObj=null,this.soundChannel=null,this.createjs.Sound.removeAllSounds()}},{key:"clearVideoChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoObj=null,this.videoChannel=null}},{key:"updatePageParam",value:function e(t){s.default.isNull(t)||(r(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"updatePageParam",this).call(this,t),s.default.trace("updatePageParam:",this.pageParam),0===this.pageParam.length&&(this.pageParam[0]=1),this._moduleWordsNavigator?(this._moduleWordsNavigator.useJSON=!0,1===this.pageParam.length&&(this.pageParam[1]=1),this._modulePager&&(this._modulePager.useNav=!0,this._modulePager.useJSON=!0),this._moduleWordsNavigator.reset()):this._modulePager&&(this._modulePager.useNav=!1,this._modulePager.useJSON=!0,this._modulePager.reset()),this._moduleWordStroke&&(this._moduleWordStroke.useJSON=!0,this._moduleWordStroke.reset()),this._moduleSwitchPop&&this._moduleSwitchPop.reset())}},{key:"updatePageProps",value:function e(){s.default.trace("updatePageProps:","wbcMode:",this.wbcMode,",webMode:",this.webMode,",mobileMode:",this.mobileMode,"actWinNavHide",this.actWinNavHide,"actWinWordGroupHide",this.actWinWordGroupHide),this._moduleGoOutCommand&&this._moduleGoOutCommand.reset(),this._moduleListPop&&this._moduleListPop.reset(),this._moduleDragListPop&&this._moduleDragListPop.reset(),this._moduleWordsNavigator&&this._moduleWordsNavigator.reset(),this._moduleSwitchPop&&this._moduleSwitchPop.reset()}},{key:"getZoomInInfo",value:function e(){return this.isInited||this.init(),this._moduleZoom?this._moduleZoom.getZoomInInfoList():[]}},{key:"injectPagerMarqueeData",value:function e(t){this.marqueePagerData=t}},{key:"updatePagerIndex",value:function e(t,n){this._modulePager&&this._modulePager.update(t,n)}},{key:"initModules",value:function e(){this.isInited&&(r(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"initModules",this).call(this),this._moduleGoOutCommand=new c(this).init(),this._moduleBookSound=new f(this).init(),this._moduleAnsZone=new g(this).init(),this._modulePlaySwitchSound=new _(this).init(),this._moduleListPop=new v(this).init(),this._moduleSwitchPop=new m(this).init(),this._moduleStopTouch=new b(this).init(),this._moduleDragListPop=new y(this).init(),this._modulePageActSoundMV=new P(this).init(),this._modulePager=new M(this).init(),this._moduleWordsNavigator=new O(this).init(),this._moduleOnAndOff=new S(this).init(),this._moduleCalculator=new B(this).init(),this._modulePureAnimate=new x(this).init(),this._moduleZoom=new k(this).init(),this._moduleWordStroke=new w(this).init())}},{key:"reinitModules",value:function e(t){if(this.isInited){if(s.default.isNull(this._moduleGoOutCommand)?this._moduleGoOutCommand=new c(this).init(t):this._moduleGoOutCommand.reinit(t),s.default.isNull(this._moduleBookSound)?this._moduleBookSound=new f(this).init(t):this._moduleBookSound.reinit(t),s.default.isNull(this._moduleAnsZone)?this._moduleAnsZone=new g(this).init(t):this._moduleAnsZone.reinit(t),s.default.isNull(this._modulePlaySwitchSound)?this._modulePlaySwitchSound=new _(this).init(t):this._modulePlaySwitchSound.reinit(t),s.default.isNull(this._moduleListPop)?this._moduleListPop=new v(this).init(t):this._moduleListPop.reinit(t),s.default.isNull(this._moduleSwitchPop)?this._moduleSwitchPop=new m(this).init(t):this._moduleSwitchPop.reinit(t),s.default.isNull(this._moduleStopTouch)?this._moduleStopTouch=new b(this).init(t):this._moduleStopTouch.reinit(t),s.default.isNull(this._moduleDragListPop)?this._moduleDragListPop=new y(this).init(t):this._moduleDragListPop.reinit(t),s.default.isNull(this._modulePageActSoundMV)?this._modulePageActSoundMV=new P(this).init(t):this._modulePageActSoundMV.reinit(t),s.default.isNull(this._modulePager)?this._modulePager=new M(this).init(t):this._modulePager.reinit(t),s.default.isNull(this._moduleWordsNavigator)?this._moduleWordsNavigator=new O(this).init(t):this._moduleWordsNavigator.reinit(t),s.default.isNull(this._moduleOnAndOff)?this._moduleOnAndOff=new S(this).init(t):this._moduleOnAndOff.reinit(t),s.default.isNull(this._moduleCalculator)?this._moduleCalculator=new B(this).init(t):this._moduleCalculator.reinit(t),s.default.isNull(this._modulePureAnimate)?this._modulePureAnimate=new x(this).init(t):this._modulePureAnimate.reinit(t),s.default.isNull(this._moduleZoom)?this._moduleZoom=new k(this).init(t):this._moduleZoom.reinit(t),s.default.isNull(this._moduleWordStroke)?this._moduleWordStroke=new w(this).init(t):this._moduleWordStroke.reinit(t),s.default.notNull(this.__backInfo))switch(this.__backInfo.TYPE){case"words-navigator":this.__backInfo.target.showWordFunc(this.__backInfo.target,this.__backInfo.index,this.__backInfo.subindex,this.__backInfo.pagerindex,this.__backInfo.changeBar);break;case"word-stroke-mix-canvas":this.__backInfo.base.playWordSound(this.__backInfo.wordStrokeBase,this.__backInfo.target,this.__backInfo.isContinue,this.__backInfo.isPlay)}this.__backInfo=null,this.__loadinfo=null}}}]),N),I;function N(e,t,n,i){l(this,N);var o=d(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.ChBookPage=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleWordStroke=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,O=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["WordStrokeBar"],l={WordStrokeBar:"none"},d=["右斜豎","左斜豎","臥鉤","長頓點","挑","挑左弧","捺","斜鉤","頓點","撇","撇挑","撇頓點","撇橫","撇橫折鉤","撇橫撇","豎","豎下弧","豎曲鉤","豎折","豎挑","豎鉤","豎撇","豎橫折","豎橫折鉤","豎彎折","橫","橫曲鉤","橫折","橫折鉤","橫折橫","橫折橫豎","橫斜鉤","橫鉤","橫撇","橫撇橫折鉤","橫豎挑","橫彎鉤","點","彎鉤"],h=["str01","str02","str03","str04","str05","str06","str07","str08","str09","str10","str11","str12","str13","str14","str15","str16","str17","str18","str19","str20","str21","str22","str23","str24","str25","str26","str27","str28","str29","str30","str31","str32","str33","str34","str35","str36","str37","str38","str39"],p=["bsh01","bsh02","bsh03","bsh04","bsh05","bsh06","bsh07","bsh08","bsh09","bsh10","bsh11","bsh12","bsh13","bsh14","bsh15","bsh16","bsh17","bsh18","bsh19","bsh20","bsh21","bsh22","bsh23","bsh24","bsh25","bsh26","bsh27","bsh28","bsh29","bsh30","bsh31","bsh32","bsh33","bsh34","bsh35"],c={str01:[1042,2167],str02:[3334,4459],str03:[5500,6500],str04:[7542,8667],str05:[9709,10375],str06:[11459,12834],str07:[13918,14500],str08:[15500,16542],str09:[17500,18375],str10:[19542,20250],str11:[21209,22209],str12:[23292,24542],str13:[25584,26709],str14:[27667,29167],str15:[30167,31500],str16:[32584,33250],str17:[34250,35500],str18:[36542,37834],str19:[38876,39876],str20:[40918,41959],str21:[43042,44e3],str22:[45042,46167],str23:[47209,48417],str24:[49417,50959],str25:[52e3,53334],str26:[54334,54918],str27:[55959,57167],str28:[58250,59167],str29:[60125,61334],str30:[62375,63542],str31:[64584,65709],str32:[66709,67959],str33:[69042,69918],str34:[70959,71918],str35:[72834,74584],str36:[75709,76834],str37:[77792,78792],str38:[79959,80375],str39:[81417,82459],bsh01:[83500,83959],bsh02:[85042,85626],bsh03:[86667,87375],bsh04:[88417,89083],bsh05:[90125,90792],bsh06:[91792,92375],bsh07:[93459,94292],bsh08:[95292,95876],bsh09:[96959,97751],bsh10:[98792,99542],bsh11:[100584,101500],bsh12:[102542,103334],bsh13:[104375,105334],bsh14:[106375,107209],bsh15:[108250,109125],bsh16:[110125,111e3],bsh17:[112042,112959],bsh18:[114042,114959],bsh19:[116e3,116834],bsh20:[117834,118667],bsh21:[119751,120626],bsh22:[121709,122542],bsh23:[123584,124500],bsh24:[125584,126459],bsh25:[127500,128417],bsh26:[129459,130292],bsh27:[131334,132334],bsh28:[133375,134334],bsh29:[135375,136250],bsh30:[137292,138209],bsh31:[139292,140250],bsh32:[141250,142250],bsh33:[143292,144375],bsh34:[145417,146500],bsh35:[147542,148709],buso:[149075,151035]},f=[300,300,300,300,300],y=[.6,.8,1,1.1,1.3],P=[1200,800,500,300,140],g=!1,_=(i(v,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModulesByModule(),this.setupByModule(t))}},{key:"stop",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;if(this.isInited||this.init(),O.default.notNull(this._mixSoundChannel)&&(this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSoundWatchBind),this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSoundBusoWatchBind),this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSingleSoundWatchBind),this._mixSoundChannel.paused=!0,clearTimeout(this._mixSoundInitSeq),O.default.notNull(this._mixSoundInitSeq)&&O.default.isNull(this._mixSoundInit)&&(this._mixSoundInit=!0,this._mixSoundInitSeq=void 0,this._mixSoundChannel.position=0,this._mixSoundChannel.paused=!0,this._mixSoundChannel.volume=1),this._mixSoundChannelBound=null),O.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),O.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc),clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=void 0,!n)for(var i=this._wordStrokeBarGroup.length,o=void 0,r=void 0,a=0;a<i;a++)o=this._wordStrokeBarGroup[a],r=this._parent.getInstanceMirror(o),o.configProps.marqueePlayIndex=-1,o.configProps.wordMarquee.gotoAndStop(0),o.configProps.wordMarquee.buso.gotoAndStop(0),o.configProps.wordMarquee.buso.visible=!1,o.toPlay.gotoAndStop(0),o.configProps.playStatus=!1,this.updatePageParam(o)}},{key:"reset",value:function e(){this.isInited||this.init(),O.default.notNull(this._mixSoundChannel)&&(this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSoundWatchBind),this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSoundBusoWatchBind),this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSingleSoundWatchBind),this._mixSoundChannel.paused=!0,clearTimeout(this._mixSoundInitSeq),O.default.notNull(this._mixSoundInitSeq)&&O.default.isNull(this._mixSoundInit)&&(this._mixSoundInit=!0,this._mixSoundInitSeq=void 0,this._mixSoundChannel.position=0,this._mixSoundChannel.paused=!0,this._mixSoundChannel.volume=1),this._mixSoundChannelBound=null),O.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),O.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc),clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=void 0;for(var t=this._wordStrokeBarGroup.length,n=void 0,i=void 0,o=void 0,r=0;r<t;r++){((n=this._wordStrokeBarGroup[r]).parent.wordStrokeBase=n).configProps=n.configProps||{},n.configProps.wordIndex=1,n.configProps.marqueePlayIndex=-1,n.configProps.speed=3,n.configProps.playStatus=!1,n.configProps.mode=1,n.configProps.isContinue=!1,6<=n.configProps.speed&&(n.configProps.speed=1),n.speed.num_txt.text=n.configProps.speed,n.speed.num_txt.updateCache(),n.bishum.gotoAndStop(1),n.bihuw.gotoAndStop(0),n.allSound.gotoAndStop(0),n.toPlay.gotoAndStop(0),n.continuePlay.gotoAndStop(0),o=this.getCustomTag(n);var a=void 0;a=this._wordStrokeBarIndexGroupMirror[o].length;for(var s=0;s<a;s++){var u=this._wordStrokeBarIndexGroupMirror[o][s];u.cursor="pointer",u.addEventListener(this._mouseTriggerBehavior,this.triggerWordMousedownBind),O.default.notNull(n.continuePlay.EffectBase)&&O.default.applyMultiply(u.EffectBase)}a=this._wordStrokeBarMarqueeGroupMirror[o].length;for(var l=0;l<a;l++){var d=this._wordStrokeBarMarqueeGroupMirror[o][l];d.visible=!1,d.gotoAndStop(0),d.buso.visible=!1,d.buso.gotoAndStop(0),d.shumArrayS=[],d.arrayS=[];for(var h=d.shumArray.length,p=0;p<h;p++)d.shumArrayS[p]=this.checkShumSound(d.shumArray[p]),0===d.array.length?d.arrayS[p]=8*p:d.arrayS[p]=d.array[p]-1;var c=this._parent.getInstanceMirror(d);Number(c.args[0])===n.configProps.wordIndex&&(n.bihuwNum.num_txt.text=d.bihuw,n.outSidebihuwNum.num_txt.text=d.outSide,n.bihuwNum.num_txt.updateCache(),n.outSidebihuwNum.num_txt.updateCache(),(n.configProps.wordMarquee=d).visible=!0)}a=this._wordStrokeBarExtendGroupMirror[o].length;for(var f=0;f<a;f++){var g=this._wordStrokeBarExtendGroupMirror[o][f];g.visible=!1;var _=this._parent.getInstanceMirror(g);Number(_.args[0])===n.configProps.wordIndex&&(g.visible=!0)}}if(this.useJSON){0===this._parent.pageParam.length&&(this._parent.pageParam[0]=1),1===this._parent.pageParam.length&&(this._parent.pageParam[1]=1,this._parent.pageParam[2]=3,this._parent.pageParam[3]=0,this._parent.pageParam[4]=0),this._parent.pageParam[0]=Number(this._parent.pageParam[0]),this._parent.pageParam[1]=Number(this._parent.pageParam[1]),this._parent.pageParam[2]=Number(this._parent.pageParam[2]),this._parent.pageParam[3]=Number(this._parent.pageParam[3]),this._parent.pageParam[4]=Number(this._parent.pageParam[4]);for(var v=0;v<t;v++){switch(((n=this._wordStrokeBarGroup[v]).parent.wordStrokeBase=n).configProps=n.configProps||{},n.configProps.wordIndex=this._parent.pageParam[0],n.configProps.marqueePlayIndex=-1,n.configProps.speed=this._parent.pageParam[2],n.configProps.playStatus=0!==this._parent.pageParam[3],n.configProps.mode=this._parent.pageParam[1],n.configProps.isContinue=0!==this._parent.pageParam[4],6<=n.configProps.speed&&(n.configProps.speed=1),n.speed.num_txt.text=n.configProps.speed,n.speed.num_txt.updateCache(),n.bishum.gotoAndStop(0),n.bihuw.gotoAndStop(0),n.allSound.gotoAndStop(0),n.toPlay.gotoAndStop(0),n.continuePlay.gotoAndStop(0),this.refreshShowWord(n),n.configProps.mode){case 1:n.bishum.gotoAndStop(1);break;case 2:n.bihuw.gotoAndStop(1);break;case 3:n.allSound.gotoAndStop(1)}if(n.configProps.playStatus)n.toPlay.gotoAndStop(1),O.default.notNull(this._parent.soundChannel)?this._parent.soundChannel.paused=!1:(n.configProps.wordMarquee.gotoAndStop(0),n.configProps.marqueePlayIndex=0,this.playWordMarquee(n));else{n.toPlay.gotoAndStop(0),o=this.getCustomTag(n);for(var m=this._wordStrokeBarIndexGroupMirror[o].length,b=0;b<m;b++){var y=this._wordStrokeBarIndexGroupMirror[o][b],P=this._parent.getInstanceMirror(y);!0!==this._parent.pageParam[5]&&Number(P.args[0])===n.configProps.wordIndex?(this._parent.pageParam[5]=!0,this.playWordSound(n,y,!1,!0)):!0===this._parent.pageParam[5]&&Number(P.args[0])===n.configProps.wordIndex&&this.playWordSound(n,y,!1,!1)}}n.configProps.isContinue?n.continuePlay.gotoAndStop(1):n.continuePlay.gotoAndStop(0)}}else for(var M=0;M<t;M++)n=this._wordStrokeBarGroup[M],this.updatePageParam(n)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"initModulesByModule",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTargetByModule(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTargetByModule(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"WordStrokeBar":this._wordStrokeBarGroup.push(t),i=this.getCustomTag(t),this._wordStrokeBarIndexGroupMirror[i]=this.pickRelation(t.parent,"wordIndex"),this._wordStrokeBarMarqueeGroupMirror[i]=this.pickRelation(t.parent,"wordMarquee"),this._wordStrokeBarExtendGroupMirror[i]=this.pickRelation(t.parent,"extendProps"),this._wordStrokeBarIndexGroupMirror[i]=this._wordStrokeBarIndexGroupMirror[i].sort(function(e,t){return e.wordIndexSeq>t.wordIndexSeq?1:-1}),this._wordStrokeBarMarqueeGroupMirror[i]=this._wordStrokeBarMarqueeGroupMirror[i].sort(function(e,t){return e.wordIndexSeq>t.wordIndexSeq?1:-1}),this._wordStrokeBarExtendGroupMirror[i]=this._wordStrokeBarExtendGroupMirror[i].sort(function(e,t){return e.wordIndexSeq>t.wordIndexSeq?1:-1})}}}},{key:"pickTargetByModule",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command))switch(n.command){case"WordStrokeBar":i=this.getCustomTag(t),this._wordStrokeBarMarqueeGroupMirror[i]=this.pickRelation(t.parent,"wordMarquee"),this._wordStrokeBarExtendGroupMirror[i]=this.pickRelation(t.parent,"extendProps"),this._wordStrokeBarMarqueeGroupMirror[i]=this._wordStrokeBarMarqueeGroupMirror[i].sort(function(e,t){return e.wordIndexSeq>t.wordIndexSeq?1:-1}),this._wordStrokeBarExtendGroupMirror[i]=this._wordStrokeBarExtendGroupMirror[i].sort(function(e,t){return e.wordIndexSeq>t.wordIndexSeq?1:-1})}}},{key:"getCustomTag",value:function e(t){return O.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&(u.wordIndexSeq=Number(s.args[0])-1,i.push(u))}return i}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerFuncMousedownBind=this.triggerFuncMousedownBind||this.triggerFuncMousedown.bind(this),this.triggerWordMousedownBind=this.triggerWordMousedownBind||this.triggerWordMousedown.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this),this.triggerSingleSoundWatchBind=this.triggerSingleSoundWatchBind||this.triggerSingleSoundWatch.bind(this),this.triggerSingleSoundCompleteBind=this.triggerSingleSoundCompleteBind||this.triggerSingleSoundComplete.bind(this),this.triggerBusoSoundWatchBind=this.triggerBusoSoundWatchBind||this.triggerBusoSoundWatch.bind(this),this.triggerBusoSoundCompleteBind=this.triggerBusoSoundCompleteBind||this.triggerBusoSoundComplete.bind(this),this.triggerOneSoundWatchBind=this.triggerOneSoundWatchBind||this.triggerOneSoundWatch.bind(this),this.triggerOneSoundCompleteBind=this.triggerOneSoundCompleteBind||this.triggerOneSoundComplete.bind(this),this.delaySpaceBind=this.delaySpaceBind||this.delaySpace.bind(this),this.checkMixSoundPlayStatusBind=this.checkMixSoundPlayStatusBind||this.checkMixSoundPlayStatus.bind(this),this.triggerMixSoundWatchBind=this.triggerMixSoundWatchBind||this.triggerMixSoundWatch.bind(this),this.triggerMixSoundBusoWatchBind=this.triggerMixSoundBusoWatchBind||this.triggerMixSoundBusoWatch.bind(this),this.triggerMixSingleSoundWatchBind=this.triggerMixSingleSoundWatchBind||this.triggerMixSingleSoundWatch.bind(this),this.delayBusoSpaceBind=this.delayBusoSpaceBind||this.delayBusoSpace.bind(this);for(var i=this._wordStrokeBarGroup.length,o=void 0,r=void 0,a=0;a<i;a++)if(!(o=this._wordStrokeBarGroup[a])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,(o.parent.wordStrokeBase=o).configProps=o.configProps||{},o.configProps.wordIndex=1,o.configProps.marqueePlayIndex=-1,o.configProps.speed=3,o.configProps.playStatus=!1,o.configProps.mode=1,o.configProps.isContinue=!1,6<=o.configProps.speed&&(o.configProps.speed=1),o.speed.num_txt.textBaseline=this._parent.textBaseline,o.speed.num_txt.text=o.configProps.speed,"alphabetic"===this._parent.textBaseline&&(o.speed.num_txt.y+=o.speed.num_txt.lineHeight*this._parent.textAlphabeticFixYScale/o.parent.parent.scaleY),o.speed.num_txt.cache(o.speed.num_txt.getBounds().x,o.speed.num_txt.getBounds().y,o.speed.num_txt.getBounds().width,o.speed.num_txt.getBounds().height,2),o.speed.num_txt.updateCache(),o.bishum.gotoAndStop(1),o.bihuw.gotoAndStop(0),o.allSound.gotoAndStop(0),o.toPlay.gotoAndStop(0),o.continuePlay.gotoAndStop(0),o.bishum.cursor="pointer",o.bihuw.cursor="pointer",o.allSound.cursor="pointer",o.speed.cursor="pointer",o.toPlay.cursor="pointer",o.prevPlay.cursor="pointer",o.nextPlay.cursor="pointer",o.continuePlay.cursor="pointer",o.bishum.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.bishum.EffectBase)&&O.default.applyMultiply(o.bishum.EffectBase),o.bihuw.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.bihuw.EffectBase)&&O.default.applyMultiply(o.bihuw.EffectBase),o.allSound.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.allSound.EffectBase)&&O.default.applyMultiply(o.allSound.EffectBase),o.speed.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.speed.EffectBase)&&O.default.applyMultiply(o.speed.EffectBase),o.toPlay.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.toPlay.EffectBase)&&O.default.applyMultiply(o.toPlay.EffectBase),o.prevPlay.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.prevPlay.EffectBase)&&O.default.applyMultiply(o.prevPlay.EffectBase),o.nextPlay.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.nextPlay.EffectBase)&&O.default.applyMultiply(o.nextPlay.EffectBase),o.continuePlay.addEventListener(this._mouseTriggerBehavior,this.triggerFuncMousedownBind),O.default.notNull(o.continuePlay.EffectBase)&&O.default.applyMultiply(o.continuePlay.EffectBase),o.bihuwNum.num_txt.textBaseline=this._parent.textBaseline,"alphabetic"===this._parent.textBaseline&&(o.bihuwNum.num_txt.y+=o.bihuwNum.num_txt.lineHeight*this._parent.textAlphabeticFixYScale),o.outSidebihuwNum.num_txt.textBaseline=this._parent.textBaseline,"alphabetic"===this._parent.textBaseline&&(o.outSidebihuwNum.num_txt.y+=o.outSidebihuwNum.num_txt.lineHeight*this._parent.textAlphabeticFixYScale),o.bihuwNum.num_txt.text="99",o.outSidebihuwNum.num_txt.text="99",o.bihuwNum.num_txt.cache(o.bihuwNum.num_txt.getBounds().x,o.bihuwNum.num_txt.getBounds().y,o.bihuwNum.num_txt.getBounds().width,o.bihuwNum.num_txt.getBounds().height,2),o.outSidebihuwNum.num_txt.cache(o.outSidebihuwNum.num_txt.getBounds().x,o.outSidebihuwNum.num_txt.getBounds().y,o.outSidebihuwNum.num_txt.getBounds().width,o.outSidebihuwNum.num_txt.getBounds().height,2),o.bihuwNum.num_txt.updateCache(),o.outSidebihuwNum.num_txt.updateCache(),r=this.getCustomTag(o);var s=void 0;s=this._wordStrokeBarIndexGroupMirror[r].length;for(var u=0;u<s;u++){var l=this._wordStrokeBarIndexGroupMirror[r][u];l.cursor="pointer",l.addEventListener(this._mouseTriggerBehavior,this.triggerWordMousedownBind),O.default.notNull(o.continuePlay.EffectBase)&&O.default.applyMultiply(l.EffectBase)}s=this._wordStrokeBarMarqueeGroupMirror[r].length;for(var d=0;d<s;d++){var h=this._wordStrokeBarMarqueeGroupMirror[r][d];h._replacePath=n,h.visible=!1,h.gotoAndStop(0),h.buso.visible=!1,h.buso.gotoAndStop(0),h.shumArrayS=[],h.arrayS=[];for(var p=h.shumArray.length,c=0;c<p;c++)h.shumArrayS[c]=this.checkShumSound(h.shumArray[c]),0===h.array.length?h.arrayS[c]=8*c:h.arrayS[c]=h.array[c]-1;var f=this._parent.getInstanceMirror(h);Number(f.args[0])===o.configProps.wordIndex&&(o.bihuwNum.num_txt.text=h.bihuw,o.outSidebihuwNum.num_txt.text=h.outSide,o.bihuwNum.num_txt.updateCache(),o.outSidebihuwNum.num_txt.updateCache(),(o.configProps.wordMarquee=h).visible=!0)}s=this._wordStrokeBarExtendGroupMirror[r].length;for(var g=0;g<s;g++){var _=this._wordStrokeBarExtendGroupMirror[r][g];_.visible=!1;var v=this._parent.getInstanceMirror(_);Number(v.args[0])===o.configProps.wordIndex&&(_.visible=!0)}}this.createMixSoundChannel()}},{key:"setupByModule",value:function e(t){for(var n=0<arguments.length&&void 0!==t?t:"",i=this._wordStrokeBarGroup.length,o=void 0,r=void 0,a=0;a<i;a++){o=this._wordStrokeBarGroup[a],r=this.getCustomTag(o);var s=void 0;s=this._wordStrokeBarMarqueeGroupMirror[r].length;for(var u=0;u<s;u++){var l=this._wordStrokeBarMarqueeGroupMirror[r][u];l.visible=!1,l.gotoAndStop(0),l.buso.visible=!1,l.buso.gotoAndStop(0),l.shumArrayS=[],l.arrayS=[],void 0===l._replacePath&&(l._replacePath=n);for(var d=l.shumArray.length,h=0;h<d;h++)l.shumArrayS[h]=this.checkShumSound(l.shumArray[h]),0===l.array.length?l.arrayS[h]=8*h:l.arrayS[h]=l.array[h]-1;var p=this._parent.getInstanceMirror(l);Number(p.args[0])===o.configProps.wordIndex&&(o.bihuwNum.num_txt.text=l.bihuw,o.outSidebihuwNum.num_txt.text=l.outSide,o.bihuwNum.num_txt.updateCache(),o.outSidebihuwNum.num_txt.updateCache(),(o.configProps.wordMarquee=l).visible=!0)}s=this._wordStrokeBarExtendGroupMirror[r].length;for(var c=0;c<s;c++){var f=this._wordStrokeBarExtendGroupMirror[r][c];f.visible=!1;var g=this._parent.getInstanceMirror(f);Number(g.args[0])===o.configProps.wordIndex&&(f.visible=!0)}}}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"checkShumSound",value:function e(t){var n=d.indexOf(t);return-1!==n?h[n]:null}},{key:"updatePageParam",value:function e(t){this.useJSON&&(this._parent.pageParam=this._parent.pageParam||[],this._parent.pageParam[0]=t.configProps.wordIndex,this._parent.pageParam[1]=t.configProps.mode,this._parent.pageParam[2]=t.configProps.speed,this._parent.pageParam[3]=t.configProps.playStatus?1:0,this._parent.pageParam[4]=t.configProps.isContinue?1:0)}},{key:"triggerFuncMousedown",value:function e(t){var n=t.currentTarget,i=n.parent;switch(n.name){case"bishum":if(0===n.currentFrame){if(i.configProps.mode=1,i.bishum.gotoAndStop(1),i.bihuw.gotoAndStop(0),i.allSound.gotoAndStop(0),O.default.notNull(this._parent.soundObj)&&this._parent.soundObj.target===i){var o=this._parent.soundObj.isBishum,r=this._parent.soundObj.isBuso;if(this.stop(!0),this._parent.clearSoundChannel(),1===i.toPlay.currentFrame)o||r?o&&!r?this.playSingleBishum(i):!o&&r&&this.playWordBuso(i):this.playWordMarquee(i);else if(O.default.notNull(i.toPlay)){var a=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(a)}}else if(O.default.notNull(i.toPlay)){var s=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(s)}}else if(0===i.toPlay.currentFrame&&O.default.notNull(i.toPlay)){var u=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(u)}break;case"bihuw":if(0===n.currentFrame){if(i.configProps.mode=2,i.bishum.gotoAndStop(0),i.bihuw.gotoAndStop(1),i.allSound.gotoAndStop(0),O.default.notNull(this._parent.soundObj)&&this._parent.soundObj.target===i){var l=this._parent.soundObj.isBishum,d=this._parent.soundObj.isBuso;if(this.stop(!0),this._parent.clearSoundChannel(),1===i.toPlay.currentFrame)l||d?l&&!d?this.playSingleBishum(i):!l&&d&&this.playWordBuso(i):this.playWordMarquee(i);else if(O.default.notNull(i.toPlay)){var h=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(h)}}else if(O.default.notNull(i.toPlay)){var p=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(p)}}else if(0===i.toPlay.currentFrame&&O.default.notNull(i.toPlay)){var c=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(c)}break;case"allSound":if(0===n.currentFrame){if(i.configProps.mode=3,i.bishum.gotoAndStop(0),i.bihuw.gotoAndStop(0),i.allSound.gotoAndStop(1),O.default.notNull(this._parent.soundObj)&&this._parent.soundObj.target===i){var f=this._parent.soundObj.isBishum,g=this._parent.soundObj.isBuso;if(this.stop(!0),this._parent.clearSoundChannel(),1===i.toPlay.currentFrame)f||g?f&&!g?this.playSingleBishum(i):!f&&g&&this.playWordBuso(i):this.playWordMarquee(i);else if(O.default.notNull(i.toPlay)){var _=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(_)}}else if(O.default.notNull(i.toPlay)){var v=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(v)}}else if(0===i.toPlay.currentFrame&&O.default.notNull(i.toPlay)){var m=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(m)}break;case"speed":i.configProps.speed++,6<=i.configProps.speed&&(i.configProps.speed=1),i.speed.num_txt.text=i.configProps.speed,i.speed.num_txt.updateCache(),O.default.notNull(this._parent.soundChannel)&&this._parent.soundObj.target===i&&(this._parent.soundChannel.playbackRate=y[i.configProps.speed-1]),O.default.notNull(this._mixSoundChannel)&&(this._mixSoundChannel.playbackRate=y[i.configProps.speed-1]);break;case"toPlay":if(O.default.trace("toPlay",i.configProps.marqueePlayIndex),0===n.currentFrame){if(n.gotoAndStop(1),!0===this._delayTimerS)return this._delayTimerS=void 0,void(this._delayTimer=setTimeout(this._delayTimerSBind,P[this._parent.soundObj.target.configProps.speed-1]));if((O.default.notNull(this._parent.soundObj)&&O.default.notNull(this._parent.soundChannel)&&this._parent.soundObj.target!==i||O.default.notNull(this._parent.soundObj)&&this._parent.soundObj.isBishum)&&(this.stop(!0),this._parent.clearSoundChannel()),i.configProps.playStatus=!0,O.default.notNull(this._parent.soundChannel))this._parent.soundChannel.paused=!1;else if(O.default.notNull(this._mixSoundChannel)&&O.default.notNull(this._parent.soundObj))this._mixSoundChannel.paused=!1;else{if(-1===i.configProps.marqueePlayIndex||i.configProps.wordMarquee.buso.visible)i.configProps.wordMarquee.gotoAndStop(0),i.configProps.marqueePlayIndex=0;else if(i.configProps.marqueePlayIndex+1<=i.configProps.wordMarquee.arrayS.length-1);else if(i.configProps.marqueePlayIndex!==i.configProps.wordMarquee.arrayS.length-1)return i.configProps.wordMarquee.gotoAndStop(i.configProps.wordMarquee.totalFrames-1),void this.playWordBuso(i);this.playWordMarquee(i)}}else O.default.notNull(this._parent.soundChannel)?(n.gotoAndStop(0),i.configProps.playStatus=!1,this._parent.soundChannel.paused=!0,O.default.notNull(this._mixSoundChannel)&&(this._mixSoundChannel.paused=!0)):O.default.notNull(this._mixSoundChannel)&&O.default.notNull(this._parent.soundObj)?(n.gotoAndStop(0),i.configProps.playStatus=!1,this._mixSoundChannel.paused=!0):O.default.notNull(this._parent.soundObj)&&(n.gotoAndStop(0),i.configProps.playStatus=!1,this.triggerSoundIsPaused=!0),void 0!==this._delayTimer&&(clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=!0);break;case"prevPlay":if(O.default.trace("prevPlay",i.configProps.marqueePlayIndex,i.configProps.wordMarquee.arrayS.length),i.configProps.marqueePlayIndex>=i.configProps.wordMarquee.arrayS.length&&(i.configProps.marqueePlayIndex=i.configProps.wordMarquee.arrayS.length),-1<=i.configProps.marqueePlayIndex-1)if(i.configProps.marqueePlayIndex--,0<=i.configProps.marqueePlayIndex)i.configProps.wordMarquee.gotoAndStop(i.configProps.wordMarquee.arrayS[i.configProps.marqueePlayIndex]),this.stop(!0),this._parent.clearSoundChannel(),i.configProps.playStatus?this.playWordMarquee(i):this.playSingleBishum(i);else{if(i.configProps.playStatus&&O.default.notNull(i.toPlay)){var b=new this._parent.createjs.Event(this._mouseTriggerBehavior);i.toPlay.dispatchEvent(b)}this.stop(!0),this._parent.clearSoundChannel(),i.configProps.marqueePlayIndex=-1,i.configProps.wordMarquee.gotoAndStop(0)}else i.configProps.wordMarquee.gotoAndStop(0);break;case"nextPlay":O.default.trace("nextPlay",i.configProps.marqueePlayIndex),i.configProps.marqueePlayIndex+1<=i.configProps.wordMarquee.arrayS.length-1&&(i.configProps.marqueePlayIndex++,i.configProps.wordMarquee.gotoAndStop(i.configProps.wordMarquee.arrayS[i.configProps.marqueePlayIndex]),this.stop(!0),this._parent.clearSoundChannel(),i.configProps.playStatus?this.playWordMarquee(i):this.playSingleBishum(i));break;case"continuePlay":0===n.currentFrame?(this.stop(!0),this._parent.clearSoundChannel(),n.gotoAndStop(1),i.configProps.isContinue=!0,i.configProps.marqueePlayIndex=-1,this.playWordSound(i,i.parent["wordIndex_"+i.configProps.wordIndex],!0)):(n.gotoAndStop(0),i.configProps.isContinue=!1)}this.updatePageParam(i),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerWordMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i,o=n.parent.wordStrokeBase;this.playWordSound(o,n),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"refreshShowWord",value:function e(t){var n=this.getCustomTag(t),i=void 0;i=this._wordStrokeBarMarqueeGroupMirror[n].length;for(var o=0;o<i;o++){var r=this._wordStrokeBarMarqueeGroupMirror[n][o];r.gotoAndStop(0);var a=this._parent.getInstanceMirror(r);Number(a.args[0])!==t.configProps.wordIndex||r.visible||this._parent.sendPageFlipMessage(),r.visible=!1,r.buso.gotoAndStop(0),r.buso.visible=!1,Number(a.args[0])===t.configProps.wordIndex&&(r.visible=!0,t.bihuwNum.num_txt.text=r.bihuw,t.outSidebihuwNum.num_txt.text=r.outSide,t.bihuwNum.num_txt.updateCache(),t.outSidebihuwNum.num_txt.updateCache(),t.configProps.wordMarquee=r)}i=this._wordStrokeBarExtendGroupMirror[n].length;for(var s=0;s<i;s++){var u=this._wordStrokeBarExtendGroupMirror[n][s];u.visible=!1;var l=this._parent.getInstanceMirror(u);Number(l.args[0])===t.configProps.wordIndex&&(u.visible=!0)}}},{key:"playWordSound",value:function e(t,n,i,o){var r=2<arguments.length&&void 0!==i&&i,a=!(3<arguments.length&&void 0!==o)||o;this._parent.stop(["ModuleWordStroke"],!0);var s=this._parent.getInstanceMirror(n);if(t.configProps.wordIndex=Number(s.args[0]),t.configProps.marqueePlayIndex=-1,t.toPlay.gotoAndStop(0),t.configProps.playStatus=!1,this.refreshShowWord(t),this.updatePageParam(t),void 0===this._parent.exportRoot["wordMarquee_"+t.configProps.wordIndex])return t.bihuwNum.num_txt.text="",t.outSidebihuwNum.num_txt.text="",t.bihuwNum.num_txt.updateCache(),t.outSidebihuwNum.num_txt.updateCache(),this._parent.loadContentByModule(this._parent.moduleConfigData["wordMarquee_"+t.configProps.wordIndex],{wordStrokeBase:t,target:n,isContinue:r,isPlay:a,base:this,TYPE:"word-stroke-mix-canvas"}),void this._parent.sendPageFlipMessage();if(a){var u=this._parent.exportRoot["wordMarquee_"+t.configProps.wordIndex]._replacePath,l=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+u+"sounds/":u+"./sounds/";this._parent.soundObj={id:t.configProps.wordMarquee.word,path:l,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerOneSoundWatchBind,completeFunc:this.triggerOneSoundCompleteBind,autoPlay:!0,locX:0,locY:0,excludeTags:null,command:s.command,target:n,isContinue:r,wordStrokeBase:t},this._parent.iosMode?O.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback)}}},{key:"playSingleBishum",value:function e(t){this._parent.stop(["ModuleWordStroke"],!0);var n=this._parent.getInstanceMirror(t),i=void 0,o=null;switch(t.configProps.mode){case 1:i=p[t.configProps.marqueePlayIndex],o=null;break;case 2:i=t.configProps.wordMarquee.shumArrayS[t.configProps.marqueePlayIndex],o=null;break;case 3:i=p[t.configProps.marqueePlayIndex],o=t.configProps.wordMarquee.shumArrayS[t.configProps.marqueePlayIndex]}t.configProps.wordMarquee.buso.visible=!1;var r=t.configProps.wordMarquee.arrayS[t.configProps.marqueePlayIndex],a=t.configProps.wordMarquee.arrayS[t.configProps.marqueePlayIndex+1]||t.configProps.wordMarquee.totalFrames-1,s=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+"sounds/":"./sounds/";this._parent.soundObj={id:i,path:s,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSingleSoundWatchBind,completeFunc:this.triggerSingleSoundCompleteBind,autoPlay:!0,locX:0,locY:0,excludeTags:null,command:n.command,target:t,id2:o,start:r,end:a,isBishum:!0},t.configProps.wordMarquee.gotoAndStop(r),O.default.notNull(this._mixSoundChannel)?(this._prevTime=-1,this._mixSoundChannelBound=c[i],this._parent.soundObj.target.configProps&&(this._mixSoundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this._mixSoundChannel.position=Number(this._mixSoundChannelBound[0]),this._parent.createjs.Ticker.addEventListener("tick",this.triggerMixSingleSoundWatchBind),this._mixSoundChannel.paused=!1):O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback)}},{key:"playWordMarquee",value:function e(t){this._parent.stop(["ModuleWordStroke"],!0);var n=this._parent.getInstanceMirror(t),i=void 0,o=null,r="space";switch(t.configProps.mode){case 1:i=p[t.configProps.marqueePlayIndex],o=null;break;case 2:i=t.configProps.wordMarquee.shumArrayS[t.configProps.marqueePlayIndex],o=null;break;case 3:i=p[t.configProps.marqueePlayIndex],o=t.configProps.wordMarquee.shumArrayS[t.configProps.marqueePlayIndex]}t.configProps.wordMarquee.buso.visible=!1;var a=t.configProps.wordMarquee.arrayS[t.configProps.marqueePlayIndex],s=t.configProps.wordMarquee.arrayS[t.configProps.marqueePlayIndex+1]||t.configProps.wordMarquee.totalFrames-1,u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+"sounds/":"./sounds/";t.configProps.wordMarquee.gotoAndStop(a),this._parent.soundObj={id:i,path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:0,locY:0,excludeTags:null,command:n.command,target:t,id2:o,id3:r,start:a,end:s},O.default.notNull(this._mixSoundChannel)?(this._prevTime=-1,this._mixSoundChannelBound=c[i],this._parent.soundObj.target.configProps&&(this._mixSoundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this._mixSoundChannel.position=Number(this._mixSoundChannelBound[0]),this._parent.createjs.Ticker.addEventListener("tick",this.triggerMixSoundWatchBind),this._mixSoundChannel.paused=!1):O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback)}},{key:"playWordBuso",value:function e(t){this._parent.stop(["ModuleWordStroke"],!0);var n=this._parent.getInstanceMirror(t),i="buso",o=null,r="space";t.configProps.wordMarquee.buso.visible=!0,t.configProps.wordMarquee.buso.gotoAndStop(0);var a=0,s=t.configProps.wordMarquee.buso.totalFrames-1;t.configProps.marqueePlayIndex++;var u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+"sounds/":"./sounds/";this._parent.soundObj={id:i,path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerBusoSoundWatchBind,completeFunc:this.triggerBusoSoundCompleteBind,autoPlay:!0,locX:0,locY:0,excludeTags:null,command:n.command,target:t,id2:o,id3:r,start:0,end:s,isBuso:!0},O.default.notNull(this._mixSoundChannel)?(this._prevTime=-1,this._mixSoundChannelBound=c.buso,this._parent.soundObj.target.configProps&&(this._mixSoundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this._mixSoundChannel.position=Number(this._mixSoundChannelBound[0]),this._parent.createjs.Ticker.addEventListener("tick",this.triggerMixSoundBusoWatchBind),this._mixSoundChannel.paused=!1):O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback)}},{key:"triggerMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.nominalBounds,r={x:n.x+o.x*n.scale,y:n.y+o.y*n.scale},a=n.parent.localToGlobal(r.x,r.y),s=this._parent.exportRoot.globalToLocal(a.x,a.y),u=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+"sounds/":"./sounds/";this._parent.soundObj={id:i.args[1],path:u,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:s.x,locY:s.y,excludeTags:null,command:i.command,target:n},O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(O.default.isNull(this._parent.soundObj)||O.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)O.default.notNull(n)&&n.stop();else switch(i){case"fileload":O.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this.stop(!0),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundObj.target.configProps&&(this._parent.soundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this.triggerSoundIsPaused||(this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay),this.triggerSoundIsPaused=!1,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc)}}},{key:"createMixSoundChannel",value:function e(){if(O.default.isNull(this._mixSoundChannel)){var t=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+"sounds/":"./sounds/";O.default.playWebAudioSound2(this._parent.createjs,t,"MIX",0,0,0,this.checkMixSoundPlayStatusBind)}}},{key:"checkMixSoundPlayStatus",value:function e(t,n,i){switch(i){case"fileerror":break;case"playSuccess":var o=this;this._mixSoundChannel=n,this._mixSoundChannel.position=0,this._mixSoundChannel.volume=1,this._mixSoundChannel.paused=!0,this._mixSoundInit=!0}}},{key:"triggerMixSoundWatch",value:function e(t){if(O.default.notNull(this._mixSoundChannel)&&O.default.notNull(this._mixSoundChannelBound)&&this._prevTime!==this._mixSoundChannel.position){var n=this._mixSoundChannel.position;if(this._prevTime=n,this._mixSoundChannel.sec&&(n*=1e3),n>=Number(this._mixSoundChannelBound[1]))return this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSoundWatchBind),this._mixSoundChannel.paused=!0,void this.triggerMixSoundComplete();n-=this._mixSoundChannelBound[0];var i=this._parent.soundObj,o,r=i.target.configProps.wordMarquee,a=i.start,s=i.end,u=this._parent.lib.properties.fps;n<0&&(n=0);var l=1e3/f[2]*1e3,d=Math.round(n/l*u);if(d<0&&(d=0),O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){var h=a+d;s<=h&&(h=s),r.gotoAndStop(h)}}}},{key:"triggerMixSoundComplete",value:function e(t){if(this.stop(!0),O.default.isNull(this._parent.soundObj.id2)&&O.default.isNull(this._parent.soundObj.id3)){var n=this._parent.soundObj,i=n.target,o=i.configProps.wordMarquee,r=n.end;o.gotoAndStop(r),i.configProps.marqueePlayIndex>=o.array.length-1?(this._parent.clearSoundChannel(),this.playWordBuso(i)):(this._parent.clearSoundChannel(),i.configProps.marqueePlayIndex++,this.playWordMarquee(i))}else if(O.default.notNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3))this._parent.soundObj.id=this._parent.soundObj.id2,this._parent.soundObj.id2=null,this._prevTime=-1,this._mixSoundChannelBound=c[this._parent.soundObj.id],this._parent.soundObj.target.configProps&&(this._mixSoundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this._mixSoundChannel.position=Number(this._mixSoundChannelBound[0]),this._parent.createjs.Ticker.addEventListener("tick",this.triggerMixSoundWatchBind),this._mixSoundChannel.paused=!1;else if(O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){this._parent.soundObj.id=this._parent.soundObj.id3,this._parent.soundObj.id3=null,clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=void 0,this._delayTimerSBind=this.delaySpaceBind,this._delayTimer=setTimeout(this.delaySpaceBind,P[this._parent.soundObj.target.configProps.speed-1]);var a=this._parent.soundObj,s,u=a.target.configProps.wordMarquee,l=a.end;u.gotoAndStop(l)}}},{key:"triggerMixSoundBusoWatch",value:function e(t){if(O.default.notNull(this._mixSoundChannel)&&this._prevTime!==this._mixSoundChannel.position){var n=this._mixSoundChannel.position;if(this._prevTime=n,this._mixSoundChannel.sec&&(n*=1e3),n>=Number(this._mixSoundChannelBound[1]))return this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSoundBusoWatchBind),this._mixSoundChannel.paused=!0,void this.triggerMixSoundBusoComplete();n-=this._mixSoundChannelBound[0];var i=this._parent.soundObj,o,r=i.target.configProps.wordMarquee,a=i.start,s=i.end;n<0&&(n=0);var u=this._parent.lib.properties.fps,l=1e3,d=Math.round(n/1e3*u);if(O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){var h=a+d;s<=h&&(h=s),r.buso.gotoAndStop(h)}}}},{key:"triggerMixSoundBusoComplete",value:function e(t){if(this.stop(!0),O.default.isNull(this._parent.soundObj.id2)&&O.default.isNull(this._parent.soundObj.id3)){var n=this._parent.soundObj,i=n.target,o=i.configProps.wordMarquee,r=n.end;if(o.buso.gotoAndStop(r),i.toPlay.gotoAndStop(0),i.configProps.playStatus=!1,this._parent.clearSoundChannel(),i.configProps.isContinue){var a=this.getCustomTag(i);i.configProps.wordIndex+1<=this._wordStrokeBarIndexGroupMirror[a].length?(i.configProps.wordIndex++,this.refreshShowWord(i),i.configProps.marqueePlayIndex=-1,this.playWordSound(i,i.parent["wordIndex_"+i.configProps.wordIndex],!0)):(i.toPlay.gotoAndStop(0),i.continuePlay.gotoAndStop(0),i.configProps.playStatus=!1,i.configProps.isContinue=!1)}this.updatePageParam(i)}else if(O.default.notNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3))this._parent.soundObj.id=this._parent.soundObj.id2,this._parent.soundObj.id2=null,this._prevTime=-1,this._mixSoundChannelBound=c[this._parent.soundObj.id],this._parent.soundObj.target.configProps&&(this._mixSoundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this._mixSoundChannel.position=Number(this._mixSoundChannelBound[0]),this._parent.createjs.Ticker.addEventListener("tick",this.triggerMixSoundBusoWatchBind),this._mixSoundChannel.paused=!1;else if(O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){this._parent.soundObj.id=this._parent.soundObj.id3,this._parent.soundObj.id3=null,clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=void 0,this._delayTimerSBind=this.delayBusoSpaceBind,this._delayTimer=setTimeout(this.delayBusoSpaceBind,P[this._parent.soundObj.target.configProps.speed-1]);var s=this._parent.soundObj,u,l=s.target.configProps.wordMarquee,d=s.end;l.buso.gotoAndStop(d)}}},{key:"delayBusoSpace",value:function e(){clearTimeout(this._delayTimer),this._delayTimer=void 0;var t=this._parent.soundObj,n=t.target,i=n.configProps.wordMarquee,o=t.end;if(i.buso.gotoAndStop(t.start),n.toPlay.gotoAndStop(0),n.configProps.playStatus=!1,this._parent.clearSoundChannel(),n.configProps.isContinue){var r=this.getCustomTag(n);n.configProps.wordIndex+1<=this._wordStrokeBarIndexGroupMirror[r].length?(n.configProps.wordIndex++,this.refreshShowWord(n),n.configProps.marqueePlayIndex=-1,this.playWordSound(n,n.parent["wordIndex_"+n.configProps.wordIndex],!0)):(n.toPlay.gotoAndStop(0),n.continuePlay.gotoAndStop(0),n.configProps.playStatus=!1,n.configProps.isContinue=!1)}this.updatePageParam(n)}},{key:"triggerMixSingleSoundWatch",value:function e(t){if(O.default.notNull(this._mixSoundChannel)&&this._prevTime!==this._mixSoundChannel.position){var n=this._mixSoundChannel.position;if(this._prevTime=n,this._mixSoundChannel.sec&&(n*=1e3),n>=Number(this._mixSoundChannelBound[1]))return this._parent.createjs.Ticker.removeEventListener("tick",this.triggerMixSingleSoundWatchBind),this._mixSoundChannel.paused=!0,void this.triggerMixSingleSoundComplete();n-=this._mixSoundChannelBound[0];var i=this._parent.soundObj,o,r=i.target.configProps.wordMarquee,a=i.start,s=i.end;n<0&&(n=0);var u=this._parent.lib.properties.fps,l=1e3/f[2]*1e3,d=Math.round(n/l*u);if(O.default.isNull(this._parent.soundObj.id2)){var h=a+d;s<=h&&(h=s),r.gotoAndStop(h)}}}},{key:"triggerMixSingleSoundComplete",value:function e(t){if(this.stop(!0),O.default.isNull(this._parent.soundObj.id2)){var n=this._parent.soundObj,i,o=n.target.configProps.wordMarquee,r=n.end;o.gotoAndStop(r),this._parent.clearSoundChannel()}else this._parent.soundObj.id=this._parent.soundObj.id2,this._parent.soundObj.id2=null,this._prevTime=-1,this._mixSoundChannelBound=c[this._parent.soundObj.id],this._parent.soundObj.target.configProps&&(this._mixSoundChannel.playbackRate=y[this._parent.soundObj.target.configProps.speed-1]),this._mixSoundChannel.position=Number(this._mixSoundChannelBound[0]),this._parent.createjs.Ticker.addEventListener("tick",this.triggerMixSingleSoundWatchBind),this._mixSoundChannel.paused=!1}},{key:"triggerOneSoundWatch",value:function e(t){}},{key:"triggerOneSoundComplete",value:function e(t){var n=!!this._parent.soundObj.isContinue&&this._parent.soundObj.isContinue,i=this._parent.soundObj.wordStrokeBase,o;this.stop(!0),this._parent.clearSoundChannel(),n&&(i.toPlay.gotoAndStop(1),O.default.notNull(this._parent.soundObj)&&O.default.notNull(this._parent.soundChannel)&&this._parent.soundObj.target!==i&&(this.stop(!0),this._parent.clearSoundChannel()),i.configProps.playStatus=!0,O.default.notNull(this._parent.soundChannel)?this._parent.soundChannel.paused=!1:(i.configProps.wordMarquee.gotoAndStop(0),i.configProps.marqueePlayIndex=0,this.playWordMarquee(i)))}},{key:"triggerSingleSoundWatch",value:function e(t){if(O.default.notNull(this._parent.soundChannel)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.soundObj,r,a=o.target.configProps.wordMarquee,s=o.start,u=o.end,l=this._parent.lib.properties.fps;(n-=this._parent.wordStrokeOffsetMs)<0&&(n=0);var d=1e3/f[2]*1e3,h=Math.round(n/d*l);if(O.default.isNull(this._parent.soundObj.id2)){var p=s+h;u<=p&&(p=u),a.gotoAndStop(p)}}}},{key:"triggerSingleSoundComplete",value:function e(t){if(this.stop(!0),O.default.isNull(this._parent.soundObj.id2)){var n=this._parent.soundObj,i,o=n.target.configProps.wordMarquee,r=n.end;o.gotoAndStop(r),this._parent.clearSoundChannel()}else this._parent.soundObj.id=this._parent.soundObj.id2,this._parent.soundObj.id2=null,O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback)}},{key:"triggerSoundWatch",value:function e(t){if(O.default.notNull(this._parent.soundChannel)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.soundObj,r,a=o.target.configProps.wordMarquee,s=o.start,u=o.end,l=this._parent.lib.properties.fps;(n-=this._parent.wordStrokeOffsetMs)<0&&(n=0);var d=1e3/f[2]*1e3,h=Math.round(n/d*l);if(h<0&&(h=0),O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){var p=s+h;u<=p&&(p=u),a.gotoAndStop(p)}}}},{key:"triggerSoundComplete",value:function e(t){if(this.stop(!0),O.default.isNull(this._parent.soundObj.id2)&&O.default.isNull(this._parent.soundObj.id3)){var n=this._parent.soundObj,i=n.target,o=i.configProps.wordMarquee,r=n.end;o.gotoAndStop(r),i.configProps.marqueePlayIndex>=o.array.length-1?(this._parent.clearSoundChannel(),this.playWordBuso(i)):(this._parent.clearSoundChannel(),i.configProps.marqueePlayIndex++,this.playWordMarquee(i))}else if(O.default.notNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3))this._parent.soundObj.id=this._parent.soundObj.id2,this._parent.soundObj.id2=null,O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);else if(O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){this._parent.soundObj.id=this._parent.soundObj.id3,this._parent.soundObj.id3=null,clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=void 0,this._delayTimerSBind=this.delaySpaceBind,this._delayTimer=setTimeout(this.delaySpaceBind,P[this._parent.soundObj.target.configProps.speed-1]);var a=this._parent.soundObj,s,u=a.target.configProps.wordMarquee,l=a.end,d,h,p,c;return void u.gotoAndStop(l)}}},{key:"delaySpace",value:function e(){clearTimeout(this._delayTimer),this._delayTimer=void 0;var t,n=this._parent.soundObj.target,i=n.configProps.wordMarquee;0!==n.toPlay.currentFrame&&(n.configProps.marqueePlayIndex>=i.array.length-1?(this._parent.clearSoundChannel(),this.playWordBuso(n)):(this._parent.clearSoundChannel(),n.configProps.marqueePlayIndex++,this.playWordMarquee(n)))}},{key:"triggerBusoSoundWatch",value:function e(t){if(O.default.notNull(this._parent.soundChannel)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.soundObj,r,a=o.target.configProps.wordMarquee,s=o.start,u=o.end,l=this._parent.lib.properties.fps,d=1e3,h=Math.round(n/1e3*l);if(O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){var p=s+h;u<=p&&(p=u),a.buso.gotoAndStop(p)}}}},{key:"triggerBusoSoundComplete",value:function e(t){if(this.stop(!0),O.default.isNull(this._parent.soundObj.id2)&&O.default.isNull(this._parent.soundObj.id3)){var n=this._parent.soundObj,i=n.target,o=i.configProps.wordMarquee,r=n.end;if(o.buso.gotoAndStop(r),i.toPlay.gotoAndStop(0),i.configProps.playStatus=!1,this._parent.clearSoundChannel(),i.configProps.isContinue){var a=this.getCustomTag(i);i.configProps.wordIndex+1<=this._wordStrokeBarIndexGroupMirror[a].length?(i.configProps.wordIndex++,this.refreshShowWord(i),i.configProps.marqueePlayIndex=-1,this.playWordSound(i,i.parent["wordIndex_"+i.configProps.wordIndex],!0)):(i.toPlay.gotoAndStop(0),i.continuePlay.gotoAndStop(0),i.configProps.playStatus=!1,i.configProps.isContinue=!1)}this.updatePageParam(i)}else if(O.default.notNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3))this._parent.soundObj.id=this._parent.soundObj.id2,this._parent.soundObj.id2=null,O.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);else if(O.default.isNull(this._parent.soundObj.id2)&&O.default.notNull(this._parent.soundObj.id3)){this._parent.soundObj.id=this._parent.soundObj.id3,this._parent.soundObj.id3=null,clearTimeout(this._delayTimer),this._delayTimer=void 0,this._delayTimerS=void 0,this._delayTimerSBind=this.delayBusoSpaceBind,this._delayTimer=setTimeout(this.delayBusoSpaceBind,P[this._parent.soundObj.target.configProps.speed-1]);var s=this._parent.soundObj,u,l=s.target.configProps.wordMarquee,d=s.end,h,p,c,f;return void l.buso.gotoAndStop(d)}}}]),v);function v(e){var t;s(this,v),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._wordStrokeBarGroup=[],this._wordStrokeBarIndexGroupMirror={},this._wordStrokeBarMarqueeGroupMirror={},this._wordStrokeBarExtendGroupMirror={},this._prevTime=-1,this._seq=999,this.triggerSoundIsPaused=!1,15==(navigator.platform.match(/iPhone|iPod|iPad|Mac/)?15:0)&&(P[0]-=140,P[1]-=140,P[2]-=140,P[3]-=140,P[4]-=140)}t.ModuleWordStroke=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(3).BasePage,c=n(4).ModuleGoOutCommand,f=n(5).ModuleBookSound,g=n(6).ModuleAnsZone,_=n(7).ModulePlaySwitchSound,v=n(8).ModuleListPop,m=n(9).ModuleSwitchPop,b=n(10).ModuleStopTouch,y=n(11).ModuleDragListPop,P=n(12).ModulePageActSoundMV,M=n(13).ModulePager,O=n(14).ModuleWordsNavigator,S=n(15).ModuleOnAndOff,B=n(16).ModuleCalculator,x=n(17).ModulePureAnimate,k=n(18).ModuleZoom,w=n(43).ModuleMathGameEchoControl,C=n(44).ModuleMathGameDragNumberCard,I=n(45).ModuleMathGameSplitAndMath,N=n(46).ModuleTwoStepAnimate,T=(h(L,j=p),i(L,[{key:"init",value:function e(){r(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam)),window.callDelayPageInitComplete&&window.callDelayPageInitComplete()}},{key:"getGoOutCommandItemList",value:function e(){return this.isInited||this.init(),this._moduleGoOutCommand?this._moduleGoOutCommand.getPickListName():null}},{key:"interrupt",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.stop(i,o,!0)}},{key:"stop",value:function e(t,n,i){var o=0<arguments.length&&void 0!==t?t:null,r=1<arguments.length&&void 0!==n&&n,a=2<arguments.length&&void 0!==i&&i;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(o=this.soundObj.excludeTags),s.default.isNull(o)&&(o=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(o=o.concat(this.videoObj.excludeTags)),-1===o.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&!a&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&!a&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.stop(),this._moduleGoOutCommand&&-1===o.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.stop(),this._moduleBookSound&&-1===o.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.stop(),this._modulePlaySwitchSound&&-1===o.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.stop(),this._moduleListPop&&-1===o.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.stop(),this._moduleSwitchPop&&-1===o.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.stop(),this._moduleStopTouch&&-1===o.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.stop(),this._moduleDragListPop&&-1===o.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.stop(),this._modulePageActSoundMV&&-1===o.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.stop(),this._modulePager&&-1===o.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.stop(),this._moduleWordsNavigator&&-1===o.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.stop(),this._moduleOnAndOff&&-1===o.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.stop(),this._moduleCalculator&&-1===o.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.stop(),this._modulePureAnimate&&-1===o.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.stop(),this._moduleGameEchoControl&&-1===o.indexOf("ModuleGameEchoControl")&&-1===this._resetExclude.indexOf("ModuleGameEchoControl")&&this._moduleGameEchoControl.stop(),this._moduleGameDragNumberCard&&-1===o.indexOf("ModuleGameDragNumberCard")&&-1===this._resetExclude.indexOf("ModuleGameDragNumberCard")&&this._moduleGameDragNumberCard.stop(),this._moduleGameSplitAndMatch&&-1===o.indexOf("ModuleGameSpritAndMatch")&&-1===this._resetExclude.indexOf("ModuleGameSpritAndMatch")&&this._moduleGameSplitAndMatch.stop(),this._moduleTwoStepAnimate&&-1===o.indexOf("ModuleTwoStepAnimate")&&-1===this._resetExclude.indexOf("ModuleTwoStepAnimate")&&this._moduleTwoStepAnimate.stop(),this._moduleAnsZone&&-1===o.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.stop(),this._moduleZoom&&-1===o.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.stop(),this.soundObj=null,this.soundChannel=null,-1===o.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),r&&this.sendCommand("Stop","Stop")}},{key:"reset",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.notNull(this.soundObj)&&s.default.notNull(this.soundObj.excludeTags)&&(i=this.soundObj.excludeTags),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundPlayBar&&this.soundPlayBar.reset(),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleBookSound&&-1===i.indexOf("ModuleBookSound")&&-1===this._resetExclude.indexOf("ModuleBookSound")&&this._moduleBookSound.reset(),this._modulePlaySwitchSound&&-1===i.indexOf("ModulePlaySwitchSound")&&-1===this._resetExclude.indexOf("ModulePlaySwitchSound")&&this._modulePlaySwitchSound.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePageActSoundMV&&-1===i.indexOf("ModulePageActSoundMV")&&-1===this._resetExclude.indexOf("ModulePageActSoundMV")&&this._modulePageActSoundMV.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleGameEchoControl&&-1===i.indexOf("ModuleGameEchoControl")&&-1===this._resetExclude.indexOf("ModuleGameEchoControl")&&this._moduleGameEchoControl.reset(),this._moduleGameDragNumberCard&&-1===i.indexOf("ModuleGameDragNumberCard")&&-1===this._resetExclude.indexOf("ModuleGameDragNumberCard")&&this._moduleGameDragNumberCard.reset(),this._moduleGameSplitAndMatch&&-1===i.indexOf("ModuleGameSpritAndMatch")&&-1===this._resetExclude.indexOf("ModuleGameSpritAndMatch")&&this._moduleGameSplitAndMatch.reset(),this._moduleTwoStepAnimate&&-1===i.indexOf("ModuleTwoStepAnimate")&&-1===this._resetExclude.indexOf("ModuleTwoStepAnimate")&&this._moduleTwoStepAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),this.soundObj=null,this.soundChannel=null,-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),this.createjs.Sound.removeAllSounds(),o&&this.sendCommand("Reset","Reset")}},{key:"resetAbortSound",value:function e(t,n){var i=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==n&&n;this.isInited||this.init(),clearTimeout(this.callTouchInstanceTimer),s.default.isNull(i)&&(i=[]),s.default.notNull(this.videoObj)&&s.default.notNull(this.videoObj.excludeTags)&&(i=i.concat(this.videoObj.excludeTags)),-1===i.indexOf("VideoChannel")&&(s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoPlayBar&&this.videoPlayBar.stop()),this._moduleGoOutCommand&&-1===i.indexOf("ModuleGoOutCommand")&&-1===this._resetExclude.indexOf("ModuleGoOutCommand")&&this._moduleGoOutCommand.reset(),this._moduleListPop&&-1===i.indexOf("ModuleListPop")&&-1===this._resetExclude.indexOf("ModuleListPop")&&this._moduleListPop.reset(),this._moduleSwitchPop&&-1===i.indexOf("ModuleSwitchPop")&&-1===this._resetExclude.indexOf("ModuleSwitchPop")&&this._moduleSwitchPop.reset(),this._moduleStopTouch&&-1===i.indexOf("ModuleStopTouch")&&-1===this._resetExclude.indexOf("ModuleStopTouch")&&this._moduleStopTouch.reset(),this._moduleDragListPop&&-1===i.indexOf("ModuleDragListPop")&&-1===this._resetExclude.indexOf("ModuleDragListPop")&&this._moduleDragListPop.reset(),this._modulePager&&-1===i.indexOf("ModulePager")&&-1===this._resetExclude.indexOf("ModulePager")&&this._modulePager.reset(),this._moduleWordsNavigator&&-1===i.indexOf("ModuleWordsNavigator")&&-1===this._resetExclude.indexOf("ModuleWordsNavigator")&&this._moduleWordsNavigator.reset(),this._moduleOnAndOff&&-1===i.indexOf("ModuleOnAndOff")&&-1===this._resetExclude.indexOf("ModuleOnAndOff")&&this._moduleOnAndOff.reset(),this._moduleCalculator&&-1===i.indexOf("ModuleCalculator")&&-1===this._resetExclude.indexOf("ModuleCalculator")&&this._moduleCalculator.reset(),this._modulePureAnimate&&-1===i.indexOf("ModulePureAnimate")&&-1===this._resetExclude.indexOf("ModulePureAnimate")&&this._modulePureAnimate.reset(),this._moduleGameDragNumberCard&&-1===i.indexOf("ModuleGameDragNumberCard")&&-1===this._resetExclude.indexOf("ModuleGameDragNumberCard")&&this._moduleGameDragNumberCard.reset(),this._moduleGameSplitAndMatch&&-1===i.indexOf("ModuleGameSpritAndMatch")&&-1===this._resetExclude.indexOf("ModuleGameSpritAndMatch")&&this._moduleGameSplitAndMatch.reset(),this._moduleTwoStepAnimate&&-1===i.indexOf("ModuleTwoStepAnimate")&&-1===this._resetExclude.indexOf("ModuleTwoStepAnimate")&&this._moduleTwoStepAnimate.reset(),this._moduleAnsZone&&-1===i.indexOf("ModuleAnsZone")&&-1===this._resetExclude.indexOf("ModuleAnsZone")&&this._moduleAnsZone.reset(),this._moduleZoom&&-1===i.indexOf("ModuleZoom")&&-1===this._resetExclude.indexOf("ModuleZoom")&&this._moduleZoom.reset(),-1===i.indexOf("VideoChannel")&&(this.videoObj=null,this.videoChannel=null),o&&this.sendCommand("ResetAbortSound","ResetAbortSound")}},{key:"clearSoundChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.soundChannel)&&this.soundChannel.stop(),this.soundObj=null,this.soundChannel=null,this.createjs.Sound.removeAllSounds()}},{key:"clearVideoChannel",value:function e(){this.isInited||this.init(),s.default.notNull(this.videoChannel)&&this.videoChannel.stop(!0),this.videoObj=null,this.videoChannel=null}},{key:"updatePageParam",value:function e(t){s.default.isNull(t)||(r(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"updatePageParam",this).call(this,t),s.default.trace("updatePageParam:",this.pageParam),0===this.pageParam.length&&(this.pageParam[0]=1),this._moduleWordsNavigator?(this._moduleWordsNavigator.useJSON=!0,1===this.pageParam.length&&(this.pageParam[1]=1),this._modulePager&&(this._modulePager.useNav=!0,this._modulePager.useJSON=!0),this._moduleWordsNavigator.reset()):this._modulePager&&(this._modulePager.useNav=!1,this._modulePager.useJSON=!0,this._modulePager.reset()),this._moduleSwitchPop&&this._moduleSwitchPop.reset())}},{key:"updatePageProps",value:function e(){s.default.trace("updatePageProps:","wbcMode:",this.wbcMode,",webMode:",this.webMode,",mobileMode:",this.mobileMode,"actWinNavHide",this.actWinNavHide,"actWinWordGroupHide",this.actWinWordGroupHide),this._moduleGoOutCommand&&this._moduleGoOutCommand.reset(),this._moduleListPop&&this._moduleListPop.reset(),this._moduleDragListPop&&this._moduleDragListPop.reset(),this._moduleWordsNavigator&&this._moduleWordsNavigator.reset(),this._moduleSwitchPop&&this._moduleSwitchPop.reset()}},{key:"getZoomInInfo",value:function e(){return this.isInited||this.init(),this._moduleZoom?this._moduleZoom.getZoomInInfoList():[]}},{key:"injectPagerMarqueeData",value:function e(t){this.marqueePagerData=t}},{key:"updatePagerIndex",value:function e(t,n){this._modulePager&&this._modulePager.update(t,n)}},{key:"initModules",value:function e(){this.isInited&&(r(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"initModules",this).call(this),this._moduleGoOutCommand=new c(this).init(),this._moduleBookSound=new f(this).init(),this._moduleAnsZone=new g(this).init(),this._modulePlaySwitchSound=new _(this).init(),this._moduleListPop=new v(this).init(),this._moduleSwitchPop=new m(this).init(),this._moduleStopTouch=new b(this).init(),this._moduleDragListPop=new y(this).init(),this._modulePageActSoundMV=new P(this).init(),this._modulePager=new M(this).init(),this._moduleWordsNavigator=new O(this).init(),this._moduleOnAndOff=new S(this).init(),this._moduleCalculator=new B(this).init(),this._modulePureAnimate=new x(this).init(),this._moduleZoom=new k(this).init(),this._moduleGameEchoControl=new w(this).init(),this._moduleGameDragNumberCard=new C(this).init(),this._moduleGameSplitAndMatch=new I(this).init(),this._moduleTwoStepAnimate=new N(this).init())}},{key:"reinitModules",value:function e(t){if(this.isInited){if(s.default.isNull(this._moduleGoOutCommand)?this._moduleGoOutCommand=new c(this).init(t):this._moduleGoOutCommand.reinit(t),s.default.isNull(this._moduleBookSound)?this._moduleBookSound=new f(this).init(t):this._moduleBookSound.reinit(t),s.default.isNull(this._moduleAnsZone)?this._moduleAnsZone=new g(this).init(t):this._moduleAnsZone.reinit(t),s.default.isNull(this._modulePlaySwitchSound)?this._modulePlaySwitchSound=new _(this).init(t):this._modulePlaySwitchSound.reinit(t),s.default.isNull(this._moduleListPop)?this._moduleListPop=new v(this).init(t):this._moduleListPop.reinit(t),s.default.isNull(this._moduleSwitchPop)?this._moduleSwitchPop=new m(this).init(t):this._moduleSwitchPop.reinit(t),s.default.isNull(this._moduleStopTouch)?this._moduleStopTouch=new b(this).init(t):this._moduleStopTouch.reinit(t),s.default.isNull(this._moduleDragListPop)?this._moduleDragListPop=new y(this).init(t):this._moduleDragListPop.reinit(t),s.default.isNull(this._modulePageActSoundMV)?this._modulePageActSoundMV=new P(this).init(t):this._modulePageActSoundMV.reinit(t),s.default.isNull(this._modulePager)?this._modulePager=new M(this).init(t):this._modulePager.reinit(t),s.default.isNull(this._moduleWordsNavigator)?this._moduleWordsNavigator=new O(this).init(t):this._moduleWordsNavigator.reinit(t),s.default.isNull(this._moduleOnAndOff)?this._moduleOnAndOff=new S(this).init(t):this._moduleOnAndOff.reinit(t),s.default.isNull(this._moduleCalculator)?this._moduleCalculator=new B(this).init(t):this._moduleCalculator.reinit(t),s.default.isNull(this._modulePureAnimate)?this._modulePureAnimate=new x(this).init(t):this._modulePureAnimate.reinit(t),s.default.isNull(this._moduleZoom)?this._moduleZoom=new k(this).init(t):this._moduleZoom.reinit(t),s.default.isNull(this._moduleGameEchoControl)?this._moduleGameEchoControl=new w(this).init(t):this._moduleGameEchoControl.reinit(t),s.default.isNull(this._moduleGameDragNumberCard)?this._moduleGameDragNumberCard=new C(this).init(t):this._moduleGameDragNumberCard.reinit(t),s.default.isNull(this._moduleGameSplitAndMatch)?this._moduleGameSplitAndMatch=new I(this).init(t):this._moduleGameSplitAndMatch.reinit(t),s.default.isNull(this._moduleTwoStepAnimate)?this._moduleTwoStepAnimate=new N(this).init(t):this._moduleTwoStepAnimate.reinit(t),s.default.notNull(this.__backInfo))switch(this.__backInfo.TYPE){case"words-navigator":this.__backInfo.target.showWordFunc(this.__backInfo.target,this.__backInfo.index,this.__backInfo.subindex,this.__backInfo.pagerindex,this.__backInfo.changeBar)}this.__backInfo=null,this.__loadinfo=null}}}]),L),j;function L(e,t,n,i){l(this,L);var o=d(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.MathBookPage=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleMathGameEchoControl=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,p=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["MathGameEchoAnimate","MathGameEchoSound"],l={MathGameEchoAnimate:"none",MathGameEchoSound:"none"},d=!1,h=(i(c,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.reset()}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0;t=this._echoAnimateGroup.length;for(var n=void 0,i=0;i<t;i++){n=this._echoAnimateGroup[i];var o=this._parent.getInstanceMirror(n),r=o.parent[o.args[0]];p.default.notNull(r)&&(r.gotoAndStop(0),r.visible=!1)}t=this._echoSoundGroup.length;for(var a=0;a<t;a++)n=this._echoSoundGroup[a];p.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),p.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"MathGameEchoAnimate":this._echoAnimateGroup.push(t);break;case"MathGameEchoSound":this._echoSoundGroup.push(t)}}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerMousedownBind=this.triggerMousedownBind||this.triggerMousedown.bind(this),this.checkSoundPlayStatusBind=this.checkSoundPlayStatusBind||this.checkSoundPlayStatus.bind(this),this.triggerSoundWatchBind=this.triggerSoundWatchBind||this.triggerSoundWatch.bind(this),this.triggerSoundCompleteBind=this.triggerSoundCompleteBind||this.triggerSoundComplete.bind(this);var i=void 0;i=this._echoAnimateGroup.length;for(var o=void 0,r=0;r<i;r++)if(!(o=this._echoAnimateGroup[r])._isModuleInited){o._isModuleInited=!0,o._replacePath=n,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind);var a=this._parent.getInstanceMirror(o),s=a.parent[a.args[0]];p.default.notNull(s)&&(s.gotoAndStop(0),s.visible=!1),p.default.notNull(o.EffectBase)&&p.default.applyMultiply(o.EffectBase)}i=this._echoSoundGroup.length;for(var u=0;u<i;u++)(o=this._echoSoundGroup[u])._isModuleInited||(o._replacePath=n,o._isModuleInited=!0,o.cursor="pointer",o.addEventListener(this._mouseTriggerBehavior,this.triggerMousedownBind),p.default.notNull(o.EffectBase)&&p.default.applyMultiply(o.EffectBase))}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"triggerMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=void 0,r=null;"MathGameEchoAnimate"===i.command?(o=i.args[1],r=i.parent[i.args[0]],p.default.notNull(r)&&(r.gotoAndStop(0),r.visible=!0)):"MathGameEchoSound"===i.command&&(o=i.args[0]);var a=n.nominalBounds,s={x:n.x+a.x*n.scale,y:n.y+a.y*n.scale},u=n.parent.localToGlobal(s.x,s.y),l=this._parent.exportRoot.globalToLocal(u.x,u.y),d=this._parent.assetSoundPath?this._parent.assetSoundPath:this._parent.pageSoundPath?this._parent.pageSoundPath+n._replacePath+"sounds/":n._replacePath+"./sounds/";this._parent.soundObj={id:o,path:d,loop:0,offset:0,volume:this._parent.volume,callback:this.checkSoundPlayStatusBind,watchFunc:this.triggerSoundWatchBind,completeFunc:this.triggerSoundCompleteBind,autoPlay:!0,locX:l.x,locY:l.y,excludeTags:null,command:i.command,target:n,target2:r};var h=this.checkCommandMode(i.command);p.default.isIOS(!1)&&"none"===h?p.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):p.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"checkSoundPlayStatus",value:function e(t,n,i){if(p.default.isNull(this._parent.soundObj)||p.default.notNull(this._parent.soundObj)&&this._parent.soundObj.id!==t)p.default.notNull(n)&&n.stop();else switch(i){case"fileload":p.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback);break;case"fileerror":this.stop(),this._parent.soundObj=null;break;case"playSuccess":this._prevTime=-1,this._parent.soundChannel=n,this._parent.soundChannel.paused=!this._parent.soundObj.autoPlay,this._parent.createjs.Ticker.addEventListener("tick",this._parent.soundObj.watchFunc),this._parent.soundChannel.addEventListener("complete",this._parent.soundObj.completeFunc);var o=this.checkCommandMode(this._parent.soundObj.command);"none"!==o&&this._parent.openSoundPlayBar(o,this._parent.soundObj)}}},{key:"triggerSoundWatch",value:function e(t){if(p.default.notNull(this._parent.soundChannel)&&this._prevTime!==this._parent.soundChannel.position){var n=this._parent.soundChannel.position,i=this._parent.soundChannel.duration;this._prevTime=n,this._parent.soundChannel.sec&&(n*=1e3,i*=1e3);var o=this._parent.lib.properties.fps,r=Math.round(n/1e3*o),a=this._parent.soundObj.target,s=this._parent.soundObj.target2;p.default.notNull(this._parent.soundObj.target2)&&(r>s.totalFrames-1&&(r=s.totalFrames-1),p.default.notNull(s)&&s.gotoAndStop(r))}}},{key:"triggerSoundComplete",value:function e(t){var n=this._parent.soundObj.target,i=this._parent.soundObj.target2,o=this._parent.getInstanceMirror(n);p.default.notNull(i)&&(i.gotoAndStop(0),i.visible=!1),this.stop();var r=this.checkCommandMode(this._parent.soundObj.command);"mini-close"===r||"normal-close"===r||"ex-normal-close"===r||"none"===r?(this._parent.closeSoundPlayBar(),this._parent.clearSoundChannel()):(this._parent.stopSoundPlayBar(),this._parent.soundObj.autoPlay=!1,p.default.isIOS(!1)&&"none"===r?p.default.playSoundCheckLoadRequest(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback):p.default.playWebAudioSound(this._parent.createjs,this._parent.soundObj.path,this._parent.soundObj.id,this._parent.soundObj.loop,this._parent.soundObj.offset,this._parent.soundObj.volume,this._parent.soundObj.callback))}}]),c);function c(e){s(this,c),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._echoAnimateGroup=[],this._echoSoundGroup=[],this._prevTime=-1,this._seq=999}t.ModuleMathGameEchoControl=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleMathGameDragNumberCard=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,l=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["MathGameDragNumberCard"],d={MathGameDragNumberCard:"none"},h=(i(p,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init(),l.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);for(var t=this._dragNumberCardGroup.length,n=void 0,i=0;i<t;i++){n=this._dragNumberCardGroup[i];for(var o=this._parent.getInstanceMirror(n),r=o.subset.length,a=void 0,s=0;s<r;s++){var u;a=n[o.subset[s]],"drag"===this._parent.getInstanceMirror(a).command&&a.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,l.default.supportPassive())}}l.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),l.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"reset",value:function e(){this.isInited||this.init(),l.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);for(var t=this._dragNumberCardGroup.length,n=void 0,i=0;i<t;i++){n=this._dragNumberCardGroup[i];for(var o=this._parent.getInstanceMirror(n),r=o.subset.length,a=void 0,s=0;s<r;s++){var u;a=n[o.subset[s]],"drag"===this._parent.getInstanceMirror(a).command&&(a.x=a.orgX,a.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,l.default.supportPassive()))}}l.default.notNull(this._parent.soundChannel)&&this._parent.soundChannel.removeEventListener("complete",this._parent.soundObj.completeFunc),l.default.notNull(this._parent.soundObj)&&this._parent.createjs.Ticker.removeEventListener("tick",this._parent.soundObj.watchFunc)}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"MathGameDragNumberCard":this._dragNumberCardGroup.push(t)}}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerResetMousedownBind=this.triggerResetMousedownBind||this.triggerResetMousedown.bind(this),this.triggerDragContainerMousedownBind=this.triggerDragContainerMousedownBind||this.triggerDragContainerMousedown.bind(this),this.triggerDragContainerPressupBind=this.triggerDragContainerPressupBind||this.triggerDragContainerPressup.bind(this),this.triggerDragContainerPressmoveBind=this.triggerDragContainerPressmoveBind||this.triggerDragContainerPressmove.bind(this);for(var i=this._dragNumberCardGroup.length,o=void 0,r=0;r<i;r++)if(!(o=this._dragNumberCardGroup[r])._isModuleInited){o._replacePath=n,o._isModuleInited=!0;for(var a=this._parent.getInstanceMirror(o),s=a.subset.length,u=void 0,l=0;l<s;l++){var d;if(u=o[a.subset[l]],"drag"===this._parent.getInstanceMirror(u).command){var h=this._parent.getInstanceMirror(u);u.cursor="pointer",u.orgX=u.x,u.minX=Number(h.args[0]),u.maxX=Number(h.args[1]),(o.drag=u).addEventListener("mousedown",this.triggerDragContainerMousedownBind),u.addEventListener("pressup",this.triggerDragContainerPressupBind)}}o.reset.cursor="pointer",o.reset.addEventListener("mousedown",this.triggerResetMousedownBind)}}},{key:"checkCommandMode",value:function e(t){var n;return d[t]}},{key:"triggerResetMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.parent;o.drag.x=o.drag.orgX,t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerMousedown",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.globalToLocal(t.stageX,t.stageY);n.fixX=n.x-i.x,n.fixY=n.y-i.y,n.startX=n.x+n.fixX,n.startY=n.y+n.fixY,n.addEventListener("pressmove",this.triggerDragContainerPressmoveBind,l.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerPressmove",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.globalToLocal(t.stageX,t.stageY),o=i.x+n.fixX;o>=n.minX&&o<=n.maxX&&(n.x=i.x+n.fixX),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerPressup",value:function e(t){var n;this._parent.setPressEventIsOn(!1),t.currentTarget.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,l.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}}]),p);function p(e){s(this,p),this._parent=e,this._dragNumberCardGroup=[],this._prevTime=-1,this._seq=999}t.ModuleMathGameDragNumberCard=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleMathGameSplitAndMath=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,b=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["MathGameSplitAndMatch"],l={MathGameSplitAndMatch:"none"},d=(i(h,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init(),b.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1)}},{key:"reset",value:function e(){this.isInited||this.init(),b.default.notNull(this._parent)&&this._parent.setPressEventIsOn(!1);for(var t=this._splitAndMatchGroup.length,n=void 0,i=0;i<t;i++){(n=this._splitAndMatchGroup[i]).mode="random",n.questionBaseIndex=0;var o=this._parent.getInstanceMirror(n),r=void 0;if(r=n.numberSelect,b.default.notNull(r)){for(var a=this._parent.getInstanceMirror(r),s=a.subset.length,u=0;u<s;u++){var l=a.target[a.subset[u]],d=this._parent.getInstanceMirror(l);"zone"===d.command?l.visible=!1:"Calculator"===d.command?l.visible=!1:"num"===d.command&&(l.text="")}var h=r.num;b.default.notNull(h)&&(h.text="")}r=n.clearCan,b.default.notNull(r),r=n.randBtn,b.default.notNull(r),r=n.freeBtn,b.default.notNull(r),r=n.clearBtn,b.default.notNull(r)&&(r.visible=!1),r=n.freeTip,b.default.notNull(r)&&(r.visible=!1),r=n.questionBase,b.default.notNull(r)&&0===n.questionBaseIndex&&(r.visible=!1);var p=void 0;p=o.subset.length;for(var c=0;c<p;c++){var f;if(r=n[o.subset[c]],"infinity"===this._parent.getInstanceMirror(r).command){var g=this._parent.getInstanceMirror(r);r.x=r.orgX,r.y=r.orgY,r.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive())}}p=n.infinityList.length;for(var _=0;_<p;_++)r=n.infinityList[_],n.removeChild(r),r.removeEventListener("mousedown",this.triggerDragContainerMousedownBind),r.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),r.removeEventListener("pressup",this.triggerDragContainerPressupBind);n.infinityList.length=0,this.openDefault(n)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"MathGameSplitAndMatch":this._splitAndMatchGroup.push(t)}}}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.triggerCreateMousedownBind=this.triggerCreateMousedownBind||this.triggerCreateMousedown.bind(this),this.triggerFuncMousedownBind=this.triggerFuncMousedownBind||this.triggerFuncMousedown.bind(this),this.triggerDragContainerMousedownBind=this.triggerDragContainerMousedownBind||this.triggerDragContainerMousedown.bind(this),this.triggerDragContainerPressupBind=this.triggerDragContainerPressupBind||this.triggerDragContainerPressup.bind(this),this.triggerDragBasePressupBind=this.triggerDragBasePressupBind||this.triggerDragBasePressup.bind(this),this.triggerDragContainerPressmoveBind=this.triggerDragContainerPressmoveBind||this.triggerDragContainerPressmove.bind(this),this.calcCallUpdateFuncBind=this.calcCallUpdateFuncBind||this.calcCallUpdateFunc.bind(this);for(var i=this._splitAndMatchGroup.length,o=void 0,r=0;r<i;r++)if(!(o=this._splitAndMatchGroup[r])._isModuleInited){o._replacePath=n,o._isModuleInited=!0,o.questionBaseMin=1,o.questionBaseMax=1,o.infinityList=[],o.mode="random",o.questionBaseIndex=0;var a=this._parent.getInstanceMirror(o),s=void 0;if(s=o.numberSelect,b.default.notNull(s)){for(var u=this._parent.getInstanceMirror(s),l=u.subset.length,d=0;d<l;d++){var h=u.target[u.subset[d]],p=this._parent.getInstanceMirror(h);"zone"===p.command?(h.cursor="pointer",h.addEventListener("mousedown",this.triggerFuncMousedownBind),h.visible=!1):"Calculator"===p.command?(h.callUpdateFunc=this.calcCallUpdateFuncBind,(s.calc=h).visible=!1):"num"===p.command&&(h.textBaseline=this._parent.textBaseline,h.text="9","alphabetic"===this._parent.textBaseline&&(h.y+=h.lineHeight*this._parent.textAlphabeticFixYScale),h.cache(h.getBounds().x,h.getBounds().y,h.getBounds().width,h.getBounds().height,2),h.text="",h.updateCache())}var c=s.num;b.default.notNull(c)&&(c.textBaseline=this._parent.textBaseline,c.font="bold 26px Arial",c.text="9","alphabetic"===this._parent.textBaseline&&(c.y+=c.lineHeight*this._parent.textAlphabeticFixYScale),c.cache(c.getBounds().x,c.getBounds().y,c.getBounds().width,c.getBounds().height,2),c.text="",c.updateCache())}s=o.clearCan,b.default.notNull(s)&&(s.cursor="pointer",s.addEventListener("mousedown",this.triggerFuncMousedownBind)),s=o.randBtn,b.default.notNull(s)&&(s.cursor="pointer",s.addEventListener("mousedown",this.triggerFuncMousedownBind)),s=o.freeBtn,b.default.notNull(s)&&(s.cursor="pointer",s.addEventListener("mousedown",this.triggerFuncMousedownBind)),s=o.clearBtn,b.default.notNull(s)&&(s.cursor="pointer",s.visible=!1,s.addEventListener("mousedown",this.triggerFuncMousedownBind)),s=o.freeTip,b.default.notNull(s)&&(s.visible=!1),s=o.questionBase,b.default.notNull(s)&&(o.questionBaseMax=s.totalFrames,0===o.questionBaseIndex&&(s.visible=!1));var f=void 0;f=a.subset.length;for(var g=0;g<f;g++){var _;if(s=o[a.subset[g]],"infinity"===this._parent.getInstanceMirror(s).command){var v=this._parent.getInstanceMirror(s);s.cursor="pointer",s.orgX=s.x,s.orgY=s.y,s.addEventListener("mousedown",this.triggerCreateMousedownBind),s.addEventListener("pressup",this.triggerDragBasePressupBind)}}f=o.infinityList.length;for(var m=0;m<f;m++)s=o.infinityList[m],o.removeChild(s),s.removeEventListener("mousedown",this.triggerDragContainerMousedownBind),s.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),s.removeEventListener("pressup",this.triggerDragContainerPressupBind);o.infinityList.length=0,this.openDefault(o)}}},{key:"calcCallUpdateFunc",value:function e(t){var n=t.parent,i=t.parent.parent;b.default.notNull(n.num)&&(""!==n.num.text&&"+"!==n.num.text&&"-"!==n.num.text&&"x"!==n.num.text&&"÷"!==n.num.text&&"."!==n.num.text&&">"!==n.num.text&&"<"!==n.num.text&&"="!==n.num.text?i.questionBaseIndex=Number(n.num.text):i.questionBaseIndex=0),this.refreshQuestionBase(i)}},{key:"refreshQuestionBase",value:function e(t){var n=t.questionBase;b.default.notNull(n)&&(0!==t.questionBaseIndex?(n.gotoAndStop(t.questionBaseIndex-1),n.visible=!0):(n.gotoAndStop(0),n.visible=!1))}},{key:"clearInfinityList",value:function e(t){if(b.default.notNull(t.infinityList)){for(var n=t.infinityList.length,i=0;i<n;i++){var o=t.infinityList[i];t.removeChild(o),o.removeEventListener("mousedown",this.triggerDragContainerMousedownBind),o.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),o.removeEventListener("pressup",this.triggerDragContainerPressupBind)}t.infinityList.length=0}}},{key:"openDefault",value:function e(t){if(this.clearInfinityList(t),"random"===t.mode){t.questionBaseIndex=this.randomInt(t.questionBaseMin,t.questionBaseMax,t.questionBaseIndex);var n=void 0;if(n=t.numberSelect,b.default.notNull(n)){for(var i=this._parent.getInstanceMirror(n),o=i.subset.length,r=0;r<o;r++){var a=i.target[i.subset[r]],s=this._parent.getInstanceMirror(a);"zone"===s.command?a.visible=!1:"Calculator"===s.command?a.visible=!1:"num"===s.command&&(a.text="")}0!==t.questionBaseIndex?n.num.text=t.questionBaseIndex:n.num.text="",n.num.updateCache()}n=t.questionBase,b.default.notNull(n)&&(n.gotoAndStop(t.questionBaseIndex-1),n.visible=!0),n=t.freeBtn,b.default.notNull(n)&&(n.visible=!0),n=t.clearBtn,b.default.notNull(n)&&(n.visible=!1),n=t.freeTip,b.default.notNull(n)&&(n.visible=!1)}else if("free"===t.mode){var u=void(t.questionBaseIndex=0);if(u=t.numberSelect,b.default.notNull(u)){for(var l=this._parent.getInstanceMirror(u),d=l.subset.length,h=0;h<d;h++){var p=l.target[l.subset[h]],c=this._parent.getInstanceMirror(p);"zone"===c.command?p.visible=!0:"Calculator"===c.command?p.visible=!1:"num"===c.command&&(p.text="")}b.default.trace(u.num.text),0!==t.questionBaseIndex?u.num.text=t.questionBaseIndex:u.num.text="",u.num.updateCache(),b.default.trace(u.num.text)}u=t.questionBase,b.default.notNull(u)&&(0!==t.questionBaseIndex?(u.gotoAndStop(t.questionBaseIndex-1),u.visible=!0):(u.gotoAndStop(0),u.visible=!1)),u=t.freeBtn,b.default.notNull(u)&&(u.visible=!1),u=t.clearBtn,b.default.notNull(u)&&(u.visible=!0),u=t.freeTip,b.default.notNull(u)&&(u.visible=!0)}}},{key:"checkCommandMode",value:function e(t){var n;return l[t]}},{key:"triggerCreateMousedown",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.parent,r=new this._parent.lib[i.args[0]];r.setTransform(n.x,n.y,n.scaleX,n.scaleY),r.cursor="pointer";var a=n.parent.globalToLocal(t.stageX,t.stageY);n.fixX=n.x-a.x,n.fixY=n.y-a.y,n.startX=n.x+n.fixX,n.startY=n.y+n.fixY,(o.waitChangePick=r).addEventListener("mousedown",this.triggerDragContainerMousedownBind),r.addEventListener("pressup",this.triggerDragContainerPressupBind),o.addChildAt(r,1),n.addEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerFuncMousedown",value:function e(t){this._parent.stop(null,!0);var n=t.currentTarget,i=this._parent.getInstanceMirror(n),o=n.parent;switch(i.command){case"randBtn":o.mode="random",this.openDefault(o);break;case"freeBtn":o.mode="free",this.openDefault(o);break;case"clearBtn":this.openDefault(o);break;case"zone":o.calc.visible=!o.calc.visible;break;case"clearCan":this.clearInfinityList(o)}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerMousedown",value:function e(t){this._parent.setPressEventIsOn(!0);var n=t.currentTarget,i=n.parent.globalToLocal(t.stageX,t.stageY);n.fixX=n.x-i.x,n.fixY=n.y-i.y,n.startX=n.x+n.fixX,n.startY=n.y+n.fixY,n.addEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerPressmove",value:function e(t){if(this._parent.setPressEventIsOn(!0),b.default.isNull(t.stageX))return t.stopPropagation(),void t.stopImmediatePropagation();var n=t.currentTarget;n.parent.setChildIndex(n,n.parent.getNumChildren()-1);var i=n.parent.globalToLocal(t.stageX,t.stageY);n.x=i.x+n.fixX,n.y=i.y+n.fixY,t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragContainerPressup",value:function e(t){this._parent.setPressEventIsOn(!1);var n=t.currentTarget,i=n.parent;if(n.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),this.collisionTest(n,i.canHint)&&(n.removeEventListener("mousedown",this.triggerDragContainerMousedownBind),n.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),n.removeEventListener("pressup",this.triggerDragContainerPressupBind),i.removeChild(n),b.default.notNull(i.infinityList))){var o=i.infinityList.indexOf(n);b.default.trace(i.infinityList,o),-1!==o&&i.infinityList.splice(o,1)}t.stopPropagation(),t.stopImmediatePropagation()}},{key:"triggerDragBasePressup",value:function e(t){this._parent.setPressEventIsOn(!1);var n=t.currentTarget,i=n.parent;n.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),b.default.notNull(i.waitChangePick)?(i.waitChangePick.x=n.x,i.waitChangePick.y=n.y,n.x=n.orgX,n.y=n.orgY,i.swapChildren(n,i.waitChangePick),this.collisionTest(i.waitChangePick,i.canHint)?(i.waitChangePick.removeEventListener("mousedown",this.triggerDragContainerMousedownBind),i.waitChangePick.removeEventListener("pressmove",this.triggerDragContainerPressmoveBind,b.default.supportPassive()),i.waitChangePick.removeEventListener("pressup",this.triggerDragContainerPressupBind),i.removeChild(i.waitChangePick)):i.infinityList.push(i.waitChangePick),i.waitChangePick=null):(n.x=n.orgX,n.y=n.orgY),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"collisionTest",value:function e(t,n){var i=t.getBounds().width*t.scale,o=t.getBounds().height*t.scale,r=n.getBounds().width*n.scale,a=n.getBounds().height*n.scale,s=t.x+t.getBounds().x*t.scale-i/2,u=t.x+t.getBounds().x*t.scale+i/2,l=t.y+t.getBounds().y*t.scale-o/2,d=t.y+t.getBounds().y*t.scale+o/2,h=n.x+n.getBounds().x*n.scale-r/2,p=n.x+n.getBounds().x*n.scale+r/2,c=n.y+n.getBounds().y*n.scale-a/2,f=n.y+n.getBounds().y*n.scale+o/2,g=void 0,_=void 0;return _=l<c&&c<d||l<f&&f<d,(g=s<h&&h<u||s<p&&p<u)&&_}},{key:"randomInt",value:function e(t,n,i){for(var o=void 0;o=Math.round(Math.random()*(n-t))+t,b.default.notNull(i)&&o===i;);return o}}]),h);function h(e){s(this,h),this._parent=e,this._splitAndMatchGroup=[],this._prevTime=-1,this._seq=999}t.ModuleMathGameSplitAndMath=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleTwoStepAnimate=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,T=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=["TwoStepAnimateOn","TwoStepAnimateOff"],l=(i(d,[{key:"init",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"";if(!this.isInited){var i;if(this.isInited=!0,!this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e}))return null;this.initModules(),this.setup(n)}return this}},{key:"reinit",value:function e(t){var n;this.isInited&&this._parent.modulesIsOn.reduce(function(e,t,n,i){return!0!==e&&!1!==e?-1!==u.indexOf(e)||-1!==u.indexOf(t):-1!==u.indexOf(t)||e})&&(this.initModules(),this.setup(t))}},{key:"stop",value:function e(){this.isInited||this.init();var t=void 0,n=void 0;t=this._animateOnGroup.length;for(var i=0;i<t;i++){var o=void 0;n=this._animateOnGroup[i];for(var r=this._parent.getInstanceMirror(n),a=n.subControls.length,s=0;s<a;s++){o=r.target[n.subControls[s]];var u=this._parent.getInstanceMirror(o),l=u.parent[u.args[0]];T.default.notNull(l)&&T.default.notNull(l.timeout)&&clearTimeout(l.timeout)}}t=this._animateOffGroup.length;for(var d=0;d<t;d++){var h=void 0;n=this._animateOffGroup[d];for(var p=this._parent.getInstanceMirror(n),c=n.subControls.length,f=0;f<c;f++){h=p.target[n.subControls[f]];var g=this._parent.getInstanceMirror(h),_=g.parent[g.args[0]];T.default.notNull(_)&&T.default.notNull(_.timeout)&&clearTimeout(_.timeout)}}}},{key:"reset",value:function e(){this.isInited||this.init();var t=void 0,n=void 0;t=this._animateOnGroup.length;for(var i=0;i<t;i++){var o=void 0;(n=this._animateOnGroup[i]).isShow=!0;for(var r=this._parent.getInstanceMirror(n),a=n.subControls.length,s=0;s<a;s++){o=r.target[n.subControls[s]],n.mouseEnabled=!0;var u=this._parent.getInstanceMirror(o),l=u.parent[u.args[0]];T.default.notNull(l)&&T.default.notNull(l.timeout)&&clearTimeout(l.timeout)}this.refreshTwoStepAnimate(n)}t=this._animateOffGroup.length;for(var d=0;d<t;d++){var h=void 0;(n=this._animateOffGroup[d]).isShow=!1;for(var p=this._parent.getInstanceMirror(n),c=n.subControls.length,f=0;f<c;f++){h=p.target[n.subControls[f]],n.mouseEnabled=!0;var g=this._parent.getInstanceMirror(h),_=g.parent[g.args[0]];T.default.notNull(_)&&T.default.notNull(_.timeout)&&clearTimeout(_.timeout)}this.refreshTwoStepAnimate(n)}}},{key:"switchMobileMode",value:function e(t){}},{key:"switchWebMode",value:function e(t){}},{key:"initModules",value:function e(){if(this.isInited)for(var a=this,t=function e(t){for(var n=a._parent.getInstanceMirror(t),i=n.subset.length,o=void 0,r=0;r<i;r++)o=n.subset[r],a.pickTarget(n.target[o]),e(n.target[o])},n=this._parent.levelOneInstanceNames.length,i=void 0,o=void 0,r=0;r<n;r++)i=this._parent.levelOneInstanceNames[r],this.pickTarget(this._parent.exportRoot[i]),t((o=this._parent.getInstanceMirror(this._parent.exportRoot[i])).target)}},{key:"pickTarget",value:function e(t){this._pickList=this._pickList||[];var n=this._parent.getInstanceMirror(t),i=void 0;if(-1!==u.indexOf(n.command)){if(this._pickList.includes(t))return;switch(this._pickList.push(t),t._seq=this._seq,this._seq++,n.command){case"TwoStepAnimateOn":this._animateOnGroup.push(t);break;case"TwoStepAnimateOff":this._animateOffGroup.push(t)}}}},{key:"getCustomTag",value:function e(t){return T.default.notNull(t.parent.name)?t.parent.name+"$"+t.name+"$"+t._seq:t.name+"$"+t._seq}},{key:"pickRelation",value:function e(t,n){for(var i=[],o=this._parent.getInstanceMirror(t),r=o.subset.length,a=0;a<r;a++){var s=this._parent.getInstanceMirror(o.target[o.subset[a]]),u=o.target[o.subset[a]];s.command===n&&i.push(u)}return i}},{key:"pickRelationControl",value:function e(t,n,i){for(var o=[],r=this._parent.getInstanceMirror(t),a=r.subset.length,s=0;s<a;s++){var u=this._parent.getInstanceMirror(r.target[r.subset[s]]);if(u.command===n)for(var l=u.subset.length,d=0;d<l;d++){var h=u.target[u.subset[d]],p;this._parent.getInstanceMirror(h).command===i&&o.push(h)}}return o}},{key:"setup",value:function e(t){var n=0<arguments.length&&void 0!==t?t:"",i=void 0,o=void 0,r=void 0;this.triggerTwoStepFuncMousedownBind=this.triggerTwoStepFuncMousedownBind||this.triggerTwoStepFuncMousedown.bind(this),i=this._animateOnGroup.length;for(var a=0;a<i;a++){var s=void 0,u=void 0;if(!(o=this._animateOnGroup[a])._isModuleInited){o._replacePath=n,o._isModuleInited=!0;var l=this._parent.getInstanceMirror(o);o.isShow=!0,o.subControls=[],o.defaultControl=null,u=l.subset.length;for(var d=0;d<u;d++)"btnOn"!==l.subset[d]&&0===l.subset[d].indexOf("btn")&&(o.subControls.push(l.subset[d]),-1!==l.subset[d].indexOf("One")&&(o.defaultControl=l.subset[d]));s=o.btnOn,T.default.notNull(s)&&(s.isSubControl=!1,s.cursor="pointer",s.mouseChildren=!1,s.addEventListener(this._mouseTriggerBehavior,this.triggerTwoStepFuncMousedownBind),T.default.notNull(s.EffectBase)&&T.default.applyMultiply(s.EffectBase)),u=o.subControls.length;for(var h=0;h<u;h++){(s=l.target[o.subControls[h]]).isSubControl=!0,s.cursor="pointer",s.mouseChildren=!1,s.addEventListener(this._mouseTriggerBehavior,this.triggerTwoStepFuncMousedownBind),T.default.notNull(s.EffectBase)&&T.default.applyMultiply(s.EffectBase),s.gotoAndStop(0);var p=this._parent.getInstanceMirror(s),c=p.parent[p.args[0]];if(T.default.notNull(c)){c.gotoAndStop(0),c.visible=!1,c._this=this,c.animateRunningBind=c.animateRunningBind||this.animateRunning.bind(c),c.startStep=0,c.endStep=0;var f=s.labels.length;s.animateRange={};for(var g=0;g<f;g++){s.animateRange[s.labels[g].label]={};for(var _=c.labels.length,v=-1,m=0;m<_;m++)if(c.labels[m].label===s.labels[g].label){v=m;break}-1!==v&&(s.animateRange[s.labels[g].label].begin=c.labels[v].position,T.default.notNull(c.labels[v+1])?s.animateRange[s.labels[g].label].end=c.labels[v+1].position-1:s.animateRange[s.labels[g].label].end=c.totalFrames-1)}}}this.refreshTwoStepAnimate(o)}}i=this._animateOffGroup.length;for(var b=0;b<i;b++){var y=void 0,P=void 0;if(!(o=this._animateOffGroup[b])._isModuleInited){o._replacePath=n,o._isModuleInited=!0;var M=this._parent.getInstanceMirror(o);o.isShow=!1,o.subControls=[],o.defaultControl=null,P=M.subset.length;for(var O=0;O<P;O++)"btnOn"!==M.subset[O]&&0===M.subset[O].indexOf("btn")&&(o.subControls.push(M.subset[O]),-1!==M.subset[O].indexOf("One")&&(o.defaultControl=M.subset[O]));y=o.btnOn,T.default.notNull(y)&&(y.isSubControl=!1,y.cursor="pointer",y.mouseChildren=!1,y.addEventListener(this._mouseTriggerBehavior,this.triggerTwoStepFuncMousedownBind),T.default.notNull(y.EffectBase)&&T.default.applyMultiply(y.EffectBase)),P=o.subControls.length;for(var S=0;S<P;S++){(y=M.target[o.subControls[S]]).isSubControl=!0,y.cursor="pointer",y.mouseChildren=!1,y.addEventListener(this._mouseTriggerBehavior,this.triggerTwoStepFuncMousedownBind),T.default.notNull(y.EffectBase)&&T.default.applyMultiply(y.EffectBase),y.gotoAndStop(0);var B=this._parent.getInstanceMirror(y),x=B.parent[B.args[0]];if(T.default.notNull(x)){x.gotoAndStop(0),x.visible=!1,x._this=this,x.animateRunningBind=x.animateRunningBind||this.animateRunning.bind(x),x.startStep=0,x.endStep=0;var k=y.labels.length;y.animateRange={};for(var w=0;w<k;w++){y.animateRange[y.labels[w].label]={};for(var C=x.labels.length,I=-1,N=0;N<C;N++)if(x.labels[N].label===y.labels[w].label){I=N;break}-1!==I&&(y.animateRange[y.labels[w].label].begin=x.labels[I].position,T.default.notNull(x.labels[I+1])?y.animateRange[y.labels[w].label].end=x.labels[I+1].position-1:y.animateRange[y.labels[w].label].end=x.totalFrames-1)}}}this.refreshTwoStepAnimate(o)}}}},{key:"refreshTwoStepAnimate",value:function e(t){var n=void 0,i=this._parent.getInstanceMirror(t);if(t.isShow){if(n=t.btnOn,T.default.notNull(n)){n.gotoAndStop(1);for(var o=t.subControls.length,r=0;r<o;r++){(n=i.target[t.subControls[r]]).visible=!0,n.mouseEnabled=!0,n.gotoAndStop(0);var a=this._parent.getInstanceMirror(n),s=a.parent[a.args[0]];T.default.notNull(s)&&(T.default.notNull(s.timeout)&&clearTimeout(s.timeout),s.startStep=0,s.endStep=0,s.gotoAndStop(0),a.name===t.defaultControl?s.visible=!0:s.visible=!1)}}}else if(n=t.btnOn,T.default.notNull(n)){n.gotoAndStop(0);for(var u=t.subControls.length,l=0;l<u;l++){(n=i.target[t.subControls[l]]).visible=!1,n.gotoAndStop(0);var d=this._parent.getInstanceMirror(n),h=d.parent[d.args[0]];T.default.notNull(h)&&(T.default.notNull(h.timeout)&&clearTimeout(h.timeout),h.startStep=0,h.endStep=0,h.gotoAndStop(0),h.visible=!1)}}}},{key:"pickTargetLabel",value:function e(t,n){var i="";if(T.default.notNull(t.labels))for(var o=t.labels.length,r=0;r<o;r++)if(t.labels[r].position===n){i=t.labels[r].label;break}return i}},{key:"triggerTwoStepFuncMousedown",value:function e(t){this.stop();var n=t.currentTarget,i=n.parent,o=this._parent.getInstanceMirror(n),r=this._parent.getInstanceMirror(i);if(n.isSubControl){for(var a=i.subControls.length,s=void 0,u=!1,l=0;l<a;l++){var d=o.parent[i.subControls[l]],h=this._parent.getInstanceMirror(d);s=o.parent[h.args[0]],o.parent[o.args[0]]===s?(s.visible||(u=!0),s.visible=!0):s.visible=!1}if(u)for(var p=0;p<a;p++){var c=o.parent[i.subControls[p]];c.mouseEnabled=!0,c.gotoAndStop(0)}if(s=o.parent[o.args[0]],T.default.notNull(s)){var f=this.pickTargetLabel(n,n.currentFrame);if(""!==f){n.gotoAndStop(n.currentFrame+1),s.startStep=n.animateRange[f].begin,s.endStep=n.animateRange[f].end,s.gotoAndStop(s.startStep),s._target=n;var g=Math.floor(1e3/this._parent.lib.properties.fps);s.startStep<s.endStep?(n.mouseEnabled=!1,s.timeout=setTimeout(s.animateRunningBind,g)):(s.endStep=s.startStep,n.gotoAndStop(n.currentFrame+1))}}}else if(i.isShow)this.refreshTwoStepAnimate(i);else{i.isShow=!0;for(var _=this._pickList.length,v=0;v<_;v++){var m=this._pickList[v],b;this._parent.getInstanceMirror(m).args[0]===r.args[0]&&m!==i&&(m.isShow=!1,this.refreshTwoStepAnimate(m))}this.refreshTwoStepAnimate(i)}}},{key:"animateRunning",value:function e(){var t=this._target,n=this._this._parent.getInstanceMirror(t),i=n.parent[n.args[0]];if(!(i.currentFrame<i.endStep))return clearTimeout(i.timeout),t.gotoAndStop(t.currentFrame+1),void(t.mouseEnabled=!0);i.gotoAndStop(i.currentFrame+1);var o=Math.floor(1e3/this._this._parent.lib.properties.fps);i.timeout=setTimeout(i.animateRunningBind,o)}}]),d);function d(e){s(this,d),this._mouseTriggerBehavior=e.mouseTriggerBehavior,this._parent=e,this._pickList,this._animateOnGroup=[],this._animateOffGroup=[],this._seq=999}t.ModuleTwoStepAnimate=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeoBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.GeoBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LifeBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.LifeBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NatureBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.NatureBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.HistoryBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NationalBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.NationalBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhysicsBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.PhysicsBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArtBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.ArtBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.HealthBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrativeBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.IntegrativeBookPage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocialBookPage=void 0;var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},a,s=l(n(0)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=(p(g,f=u.CommonBookPage),i(g,[{key:"init",value:function e(){r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"init",this).call(this),s.default.notNull(this.pageParam)&&this.updatePageParam(JSON.stringify(this.pageParam))}}]),g),f;function g(e,t,n,i){d(this,g);var o=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e,t,n,i));return(o._this=o)._resetExclude=[],o}t.SocialBookPage=c}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function e(){return t.default}:function e(){return t};return o.d(e,"a",e),e},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=39);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});